(function(){FXStreetWidgets.Widget.Base=function(n){var t={};return t.Container=FXStreetWidgets.Widget.Base.prototype.Container,t.loaderBase=n,t.data=FXStreetWidgets.Widget.Base.prototype.data,t.interval=FXStreetWidgets.Widget.Base.prototype.interval,t.init=FXStreetWidgets.Widget.Base.prototype.init,t.setSettingsByObject=FXStreetWidgets.Widget.Base.prototype.setSettingsByObject,t.addEvents=FXStreetWidgets.Widget.Base.prototype.addEvents,t.setVars=FXStreetWidgets.Widget.Base.prototype.setVars,t.loadData=FXStreetWidgets.Widget.Base.prototype.loadData,t.loadDataFromUrl=FXStreetWidgets.Widget.Base.prototype.loadDataFromUrl,t.setDatesToJson=FXStreetWidgets.Widget.Base.prototype.setDatesToJson,t.renderHtml=FXStreetWidgets.Widget.Base.prototype.renderHtml,t.log=FXStreetWidgets.Widget.Base.prototype.log,t.jsonDataIsValid=FXStreetWidgets.Widget.Base.prototype.jsonDataIsValid,t.handleJsonInvalidData=FXStreetWidgets.Widget.Base.prototype.handleJsonInvalidData,t};FXStreetWidgets.Widget.Base.prototype.Container=null;FXStreetWidgets.Widget.Base.prototype.loaderBase=null;FXStreetWidgets.Widget.Base.prototype.data=null;FXStreetWidgets.Widget.Base.prototype.interval=null;FXStreetWidgets.Widget.Base.prototype.init=function(n){this.setSettingsByObject(n)};FXStreetWidgets.Widget.Base.prototype.setSettingsByObject=function(n){for(var t in n)n.hasOwnProperty(t)&&this[t]!==undefined&&(this[t]=n[t])};FXStreetWidgets.Widget.Base.prototype.addEvents=function(){};FXStreetWidgets.Widget.Base.prototype.setVars=function(){};FXStreetWidgets.Widget.Base.prototype.loadData=function(n){this.loadDataFromUrl(this.loaderBase.config.EndPoint,n)};FXStreetWidgets.Widget.Base.prototype.loadDataFromUrl=function(n,t){var i=this;FXStreetWidgets.Util.ajaxJsonGetter(n,t).done(function(n){if(!i.jsonDataIsValid(n)){i.handleJsonInvalidData();return}i.data=n;i.loaderBase.isReady()?(i.log("start renderHtml for: "+i.loaderBase.config.WidgetName),i.renderHtml()):i.interval=setInterval(function(){i.loaderBase.isReady()&&(clearInterval(i.interval),i.log("start renderHtml for: "+i.loaderBase.config.WidgetName),i.renderHtml())},i.intervalTimeToWaitForReady)})};FXStreetWidgets.Widget.Base.prototype.setDatesToJson=function(n,t){var i=FXStreetWidgets.Util.formatDate(t);return n.LastUpdatedDate=t,n.LastUpdatedHour=i,n};FXStreetWidgets.Widget.Base.prototype.renderHtml=function(){};FXStreetWidgets.Widget.Base.prototype.log=function(n){FXStreetWidgets.Util.log(n)};FXStreetWidgets.Widget.Base.prototype.jsonDataIsValid=function(n){return FXStreetWidgets.Util.isValid(n)&&FXStreetWidgets.Util.arrayIsValid(n.Values)&&FXStreetWidgets.Util.isValid(n.Values[0])};FXStreetWidgets.Widget.Base.prototype.handleJsonInvalidData=function(){var t=this,n=t.loaderBase.config.Translations.NoDataAvailable;FXStreetWidgets.Util.isValid(n)||(n="No data available");t.Container.html(n)}})(),function(n){FXStreetWidgets.Widget.LoaderBase=function(t){var i={};return i.options=t,i.config=FXStreetWidgets.Widget.LoaderBase.prototype.config,i.isReady=FXStreetWidgets.Widget.LoaderBase.prototype.isReady,i.isReadyCustomCheck=FXStreetWidgets.Widget.LoaderBase.prototype.isReadyCustomCheck,i.initConfiguration=FXStreetWidgets.Widget.LoaderBase.prototype.initConfiguration,i.getContainer=FXStreetWidgets.Widget.LoaderBase.prototype.getContainer,i.getHost=FXStreetWidgets.Widget.LoaderBase.prototype.getHost,i.getVersion=FXStreetWidgets.Widget.LoaderBase.prototype.getVersion,i.getCustomJs=FXStreetWidgets.Widget.LoaderBase.prototype.getCustomJs,i.getSharedJs=FXStreetWidgets.Widget.LoaderBase.prototype.getSharedJs,i.getEndPoint=FXStreetWidgets.Widget.LoaderBase.prototype.getEndPoint,i.getEndPointTranslation=FXStreetWidgets.Widget.LoaderBase.prototype.getEndPointTranslation,i.initWidgets=FXStreetWidgets.Widget.LoaderBase.prototype.initWidgets,i.log=FXStreetWidgets.Widget.LoaderBase.prototype.log,i.chartLibrariesAreLoaded=FXStreetWidgets.Widget.LoaderBase.prototype.chartLibrariesAreLoaded,i.getDefaultHost=FXStreetWidgets.Widget.LoaderBase.prototype.getDefaultHost,i.mustachesCount=0,i.mustachesLoadedCount=0,i.customJsCount=0,i.customJsLoadedCount=0,i.sharedJsCount=0,i.sharedJsLoadedCount=0,i.translationsLoaded=!1,i.haveCustomJs=!1,i.haveSharedJs=!1,i.init=function(){if(!FXStreetWidgets.Util.isValid(i.options)||!FXStreetWidgets.Util.isValid(i.options.WidgetName)||!i.options.WidgetName.trim()){i.log("unable to load fxswidget options bad configure.");return}FXStreetWidgets.Initialization.registerLoader(i.options.WidgetName,i);i.initConfiguration();i.loadUtils();var t=n("div[fxs_widget][fxs_name='"+i.options.WidgetName+"']");FXStreetWidgets.Util.async(function(){i.initWidgets(t)})},i.loadDeferred=function(n){i.log("loading deferred "+i.options.WidgetName);var t=n.find("div[fxs_widget][fxs_name='"+i.options.WidgetName+"']");i.initWidgets(t)},i.loadUtils=function(){FXStreetWidgets.Util.ajaxJsonGetter(i.config.EndPointTranslation).done(function(n){i.translationsLoaded=!0;i.config.Translations=n.Values});n.each(i.config.CustomJs,function(n,t){i.customJsCount++;var u="",r="",f;typeof t=="string"?(r=t,u=FXStreetWidgets.Configuration.getCoreJsUrl(r)):t&&typeof t=="object"&&(r=t.Js,u=FXStreetWidgets.Configuration.getCoreJsUrl(r),f=t.CustomLoadedDelegate);FXStreetWidgets.ResourceManagerObj.load(r,FXStreetWidgets.ResourceType.Js,u,function(){i.customJsLoadedCount++},f)});n.each(i.config.SharedJs,function(n,t){i.sharedJsCount++;var r=FXStreetWidgets.Configuration.createResourceUrl(t.Container,t.Js);FXStreetWidgets.ResourceManagerObj.load(t.Js,FXStreetWidgets.ResourceType.Js,r,function(){i.sharedJsLoadedCount++},t.CustomLoadedDelegate)});n.each(i.config.Mustaches,function(n){i.mustachesCount++;var t=n+".html",r=FXStreetWidgets.Configuration.getMustacheUrl(t,i.options.WidgetName);FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Mustache,r,function(t){i.config.Mustaches[n]=t.Value;i.mustachesLoadedCount++})})},i.async_loadjs=function(n,t){var r=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript";i.async=!0;i.src=n;t&&typeof t=="function"&&(i.addEventListener?i.addEventListener("load",t,!1):i.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&t.call()});r.parentNode.insertBefore(i,r)},i};FXStreetWidgets.Widget.LoaderBase.prototype.config={};FXStreetWidgets.Widget.LoaderBase.prototype.initWidgets=function(){};FXStreetWidgets.Widget.LoaderBase.prototype.initConfiguration=function(){this.log("init configuration for: "+this.options.WidgetName);var n=this.getContainer(),t=this.getHost(n),i=this.getVersion(n),r=this.getCustomJs(),u=this.getSharedJs();this.config={WidgetType:this.options.WidgetType,WidgetName:this.options.WidgetName,Culture:FXStreetWidgets.Configuration.getCulture(),EndPoint:this.getEndPoint(t,i),EndPointTranslation:this.getEndPointTranslation(t,i),DefaultHost:this.getDefaultHost(this.options),CustomJs:r,SharedJs:u,Mustaches:this.options.Mustaches,Translations:{}}};FXStreetWidgets.Widget.LoaderBase.prototype.getDefaultHost=function(n){var t=FXStreetWidgets.Configuration.getHosts(),i,r;return t?(i=t[n.WidgetType],r=i||n.DefaultHost,r):n.DefaultHost};FXStreetWidgets.Widget.LoaderBase.prototype.getContainer=function(){return n("div[fxs_widget][fxs_name='"+this.options.WidgetName+"']").first()};FXStreetWidgets.Widget.LoaderBase.prototype.getHost=function(n){n=n||this.getContainer();var t=n.attr("fxs_host");return FXStreetWidgets.Util.isUndefined(t)?this.getDefaultHost(this.options):t};FXStreetWidgets.Widget.LoaderBase.prototype.getVersion=function(n){n=n||this.getContainer();var t=n.attr("fxs_version")||this.options.DefaultVersion;return FXStreetWidgets.Util.isUndefined(t)?"":t};FXStreetWidgets.Widget.LoaderBase.prototype.getCustomJs=function(){var n=[];return FXStreetWidgets.Util.arrayIsValid(this.options.CustomJs)&&(this.haveCustomJs=!0,n=this.options.CustomJs),n};FXStreetWidgets.Widget.LoaderBase.prototype.getSharedJs=function(){var n=[];return FXStreetWidgets.Util.arrayIsValid(this.options.SharedJs)&&(this.haveSharedJs=!0,n=this.options.SharedJs),n};var t=function(n,t){return n.replace(/{version}/g,t).replace(/{culture}/g,FXStreetWidgets.Configuration.getCulture())};FXStreetWidgets.Widget.LoaderBase.prototype.getEndPoint=function(n,i){var r,u;return this.options.EndPointV2?(u=t(this.options.EndPointV2,i),r=n+u):r=n+(i?i+"/":"")+FXStreetWidgets.Configuration.getCulture()+"/"+this.options.EndPoint,r};FXStreetWidgets.Widget.LoaderBase.prototype.getEndPointTranslation=function(n,i){var r,u;return this.options.EndPointTranslationV2?(u=t(this.options.EndPointTranslationV2,i),r=n+u):r=n+(i?i+"/":"")+FXStreetWidgets.Configuration.getCulture()+"/"+this.options.EndPointTranslation,r};FXStreetWidgets.Widget.LoaderBase.prototype.isReady=function(){var n=this.translationsLoaded===!0&&(this.haveCustomJs===!1||this.haveCustomJs===!0&&this.customJsLoadedCount>=this.customJsCount)&&(this.haveSharedJs===!1||this.haveSharedJs===!0&&this.sharedJsLoadedCount>=this.sharedJsCount)&&this.mustachesLoadedCount===this.mustachesCount;return n=n&&this.isReadyCustomCheck(),n===!0&&this.log("loader ready for: "+this.options.WidgetName),n};FXStreetWidgets.Widget.LoaderBase.prototype.isReadyCustomCheck=function(){return!0};FXStreetWidgets.Widget.LoaderBase.prototype.chartLibrariesAreLoaded=function(){return typeof d3!="undefined"&&typeof c3!="undefined"};FXStreetWidgets.Widget.LoaderBase.prototype.log=function(n){FXStreetWidgets.Util.log(n)}}(FXStreetWidgets.$),function(n){FXStreetWidgets.Widget.MarketImpact=function(t){var b=FXStreetWidgets.Widget.Base(t),i=FXStreetWidgets.Util.extendObject(b),r={DeviationHistory:1,TrueRange:2,VolatilityRatio:3,DeviationImpact:4};i.ContainerId="";i.AssetId="";i.Assets=[];i.EventId="";i.ShownTabs="";i.SelectedTab=r.DeviationHistory;var f={DeviationHistory:!0,TrueRange:!0,VolatilityRatio:!0,DeviationImpact:!0},v=null,y=null,p=null,w=null,k=null,d=null,g=null,nt=null,e=null,o=null,s=null,h=40;i.init=function(n){i.setSettingsByObject(n);i.ContainerId=i.EventId;tt();it();var t=this.loaderBase.config.EndPoint+i.EventId+"/"+i.AssetId+"?assets="+i.Assets.join(",");i.loadDataFromUrl(t)};i.jsonDataIsValid=function(n){return FXStreetWidgets.Util.isValid(n)};i.renderHtml=function(){var t=i.Assets.find(function(n){return n.Id===i.AssetId}),n={ContainerId:i.ContainerId,Value:i.data,Translations:i.loaderBase.config.Translations,SelectedTab:{DeviationHistory:i.SelectedTab===r.DeviationHistory,TrueRange:i.SelectedTab===r.TrueRange,VolatilityRatio:i.SelectedTab===r.VolatilityRatio,DeviationImpact:i.SelectedTab===r.DeviationImpact},ShownTabs:f,DropdownAssets:i.Assets,SelectedAsset:t},u=FXStreetWidgets.Util.renderByHtmlTemplate(i.loaderBase.config.Mustaches[i.loaderBase.config.WidgetName],n);i.Container.html(u);rt();i.createGraph(n)};var tt=function(){if(i.ShownTabs){var n=i.ShownTabs.split(",");n.indexOf("deviationhistory")<0&&(f.DeviationHistory=!1);n.indexOf("truerange")<0&&(f.TrueRange=!1);n.indexOf("volatilityratio")<0&&(f.VolatilityRatio=!1);n.indexOf("deviationimpact")<0&&(f.DeviationImpact=!1)}},it=function(){i.SelectedTab!==r.DeviationHistory||f.DeviationHistory||(i.SelectedTab=r.TrueRange);i.SelectedTab!==r.TrueRange||f.TrueRange||(i.SelectedTab=r.VolatilityRatio);i.SelectedTab!==r.VolatilityRatio||f.VolatilityRatio||(i.SelectedTab=r.DeviationImpact)},rt=function(){ut();ft();et()},ut=function(){var n="deviation_history_tab_"+i.ContainerId,t="true_range_tab_"+i.ContainerId,u="volatility_ratio_tab_"+i.ContainerId,f="deviation_impact_tab_"+i.ContainerId;v=i.Container.find("#"+n);y=i.Container.find("#"+t);p=i.Container.find("#"+u);w=i.Container.find("#"+f);v.on("click",function(){i.SelectedTab=r.DeviationHistory});y.on("click",function(){i.SelectedTab=r.TrueRange});p.on("click",function(){i.SelectedTab=r.VolatilityRatio});w.on("click",function(){i.SelectedTab=r.DeviationImpact})},ft=function(){var n="deviation_history_container_"+i.ContainerId,t="true_range_container_"+i.ContainerId,r="volatility_ratio_container_"+i.ContainerId,u="deviation_impact_container_"+i.ContainerId;k=i.Container.find("#"+n);d=i.Container.find("#"+t);g=i.Container.find("#"+r);nt=i.Container.find("#"+u)},et=function(){var n="true_range_dropdown_"+i.ContainerId,t="volatility_ratio_dropdown_"+i.ContainerId,r="scatter_plot_dropdown_"+i.ContainerId;e=i.Container.find("#"+n);o=i.Container.find("#"+t);s=i.Container.find("#"+r);e.on("change",function(){var n=e.val();c(n)});o.on("change",function(){var n=o.val();c(n)});s.on("change",function(){var n=s.val();c(n)})},c=function(n){console.log("Selected pair: "+n);var t={AssetId:n};i.init(t)};i.createGraph=function(n){var t=i.Assets.find(function(n){return n.Id===i.AssetId}),r=n.Value.Event.EventId;if(typeof r=="undefined"){console.error("MarketImpact: eventId is undefined");return}ot(n);st(n,t);ht(n,t);ct(n,t)};var l=function(n){return Math.pow(10,n)},a=function(t){var i=[];return i.push("x"),n.each(t,function(n,t){i.push(moment(t.Date).format("MM/DD/YYYY"))}),i},u=function(t,i,r,u,f){u=u||0;f=f||2;var e=[];return e.push(i),n.each(t,function(n,t){var i=t[r]?(t[r]*l(u)).toFixed(f):null;e.push(i)}),e},ot=function(n){var r=Math.min(n.Value.Values.length,h),i=n.Value.Values.slice(0,r),f=a(i),e=u(i,"Deviation_Row","StandardDeviationRatio"),o=u(i,"Consensus_Row","Consensous"),s=u(i,"Actual_Row","Actual"),t=[];t.push(f);t.push(e);t.push(o);t.push(s);c3.generate({bindto:"#chart_deviation",data:{x:"x",xFormat:"%m/%d/%Y",columns:t,types:{Deviation_Row:"bar",Consensus_Row:"line",Actual_Row:"line"},names:{Deviation_Row:n.Translations.Deviation_Text,Consensus_Row:n.Translations.Consensus_Text,Actual_Row:n.Translations.Actual_Text},colors:{Deviation_Row:"#efb871",Consensus_Row:"#dc8623",Actual_Row:"#5aa1d9"},axes:{Deviation_Row:"y",Consensus_Row:"y2",Actual_Row:"y2"}},bar:{width:{ratio:.5}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%Y",culling:{max:4}},label:{position:"outer-center"}},y:{label:{text:n.Translations.Deviation_Axis_Label,position:"outer-middle"}},y2:{show:!0,label:{text:n.Translations.Actual_And_Consensus_Axis_Label,position:"outer-middle"},tick:{format:d3.format(".1f")}}},grid:{x:{show:!1},y:{tick:{opacity:0},lines:[{value:0,text:""}]},focus:{show:!0}},point:{show:!1}})},st=function(n,t){e.val(t.Id);var f=Math.min(n.Value.Values.length,h),r=n.Value.Values.slice(0,f),o=a(r),s=u(r,"True_Range_15min","TrueRange15Min",t.DecimalPlaces,0),c=u(r,"True_Range_4h","TrueRange4h",t.DecimalPlaces,0),l=u(r,"Avg_True_Range_15min","TrueRangeMean15Min",t.DecimalPlaces,0),v=u(r,"Avg_True_Range_4h","TrueRangeMean4h",t.DecimalPlaces,0),i=[];i.push(o);i.push(s);i.push(c);i.push(l);i.push(v);c3.generate({bindto:"#chart_true_range",data:{x:"x",xFormat:"%m/%d/%Y",columns:i,types:{True_Range_15min:"bar",True_Range_4h:"bar",Avg_True_Range_15m:"spline",Avg_True_Range_4h:"spline"},names:{True_Range_15min:n.Translations.TrueRange15min_Legend,True_Range_4h:n.Translations.TrueRange4h_Legend,Avg_True_Range_15m:n.Translations.TrueRangeAveraged15min_Legend,Avg_True_Range_4h:n.Translations.TrueRangeAveraged4h_Legend},colors:{True_Range_15min:"#efb877",True_Range_4h:"#9bc7ea",Avg_True_Range_15m:"#e4881b",Avg_True_Range_4h:"#5aa5df"}},bar:{width:{ratio:.5}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%Y",culling:{max:4}},label:{position:"outer-center"}},y:{label:{text:n.Translations.TrueRangePipsAxis_Text,position:"outer-middle"}}},grid:{x:{show:!1},y:{show:!1,tick:{opacity:0}},focus:{show:!0}},point:{show:!1}})},ht=function(n,t){o.val(t.Id);var f=Math.min(n.Value.Values.length,h),r=n.Value.Values.slice(0,f),e=a(r),s=u(r,"Volatility_Ratio_15min","VolatilityRatio15Min"),c=u(r,"Volatility_Ratio_4h","VolatilityRatio4h"),l=u(r,"Avg_Volatility_Ratio_15min","VolatilityRatioMean15Min"),v=u(r,"Avg_Volatility_Ratio_4h","VolatilityRatioMean4h"),i=[];i.push(e);i.push(s);i.push(c);i.push(l);i.push(v);c3.generate({bindto:"#chart_volatility_ratio",data:{x:"x",xFormat:"%m/%d/%Y",columns:i,types:{Volatility_Ratio_15min:"bar",Volatility_Ratio_4h:"bar",Avg_Volatility_Ratio_15min:"spline",Avg_Volatility_Ratio_4h:"spline"},names:{Volatility_Ratio_15min:n.Translations.VolatilityRatio15min_Legend,Volatility_Ratio_4h:n.Translations.VolatilityRatio4h_Legend,Avg_Volatility_Ratio_15min:n.Translations.VolatilityRatioAveraged15min_Legend,Avg_Volatility_Ratio_4h:n.Translations.VolatilityRatioAveraged4h_Legend},colors:{Volatility_Ratio_15min:"#f7b56b",Volatility_Ratio_4h:"#a1c8e7",Avg_Volatility_Ratio_15min:"#e88319",Avg_Volatility_Ratio_4h:"#57a5e3"}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%Y",culling:{max:4}},label:{position:"outer-center"}},y:{label:{text:n.Translations.VolatilityRatioAxis_Label,position:"outer-middle"}}},grid:{x:{show:!1},y:{show:!1,tick:{opacity:0}},focus:{show:!0}},point:{show:!1}})},ct=function(n,t){function v(t,i,r){for(var f="",u=0;u<o;u++)if(String(n.Value.Values[u].StandardDeviationRatio)===t){f=r.endsWith("m")?"Surprise Factor: "+Number(t).toFixed(2)+" | Volatility Ratio: "+n.Value.Values[u].VolatilityRatio15Min.toFixed(2)+" | "+String(n.Value.Values[u].Date):"Surprise Factor: "+Number(t).toFixed(2)+" | Volatility Ratio: "+n.Value.Values[u].VolatilityRatio4h.toFixed(2)+" | "+String(n.Value.Values[u].Date);break}return f}var u,i,a,c,r;s.val(t.Id);var f=[],e=2,o=Math.min(n.Value.Values.length,h);for(r=0;r<e;r++)for(f[r]=[],i=0;i<o+1;i++)r===0&&(f[r][i]=i===0?"15m_True_Range_x":n.Value.Values[i-1].TrueRange15Min?n.Value.Values[i-1].TrueRange15Min*l(t.DecimalPlaces):null),r===1&&(f[r][i]=i===0?"4h_True_Range_x":n.Value.Values[i-1].TrueRange4h?n.Value.Values[i-1].TrueRange4h*l(t.DecimalPlaces):null);for(u=[],r=0;r<e;r++)for(u[r]=[],i=0;i<o+1;i++)r===0&&(u[r][i]=i===0?n.Translations.DeviationImpactTrueRange15min_Legend:n.Value.Values[i-1].StandardDeviationRatio?n.Value.Values[i-1].StandardDeviationRatio:null),r===1&&(u[r][i]=i===0?n.Translations.DeviationImpactTrueRange4h_Legend:n.Value.Values[i-1].StandardDeviationRatio?n.Value.Values[i-1].StandardDeviationRatio:null);for(a=f.concat(u),c={},r=0;r<e;r++)c[u[r][0]]=String(f[r][0]);c3.generate({bindto:"#chart_scatter",data:{xs:c,columns:a,type:"scatter"},axis:{x:{tick:{fit:!1,culling:{max:4}},label:{text:n.Translations.TrueRangePipsAxis_Text,position:"inner-right"}},y:{label:{text:n.Translations.DeviationImpactAxis_Label,position:"outer-middle"}}},grid:{x:{show:!1},y:{show:!1,tick:{opacity:0}}},point:{r:8},tooltip:{format:{title:function(n){return" True Range: "+n.toFixed(0)},name:function(n){return n},value:function(n,t,i,r){return n=n.toString(),v(n,t,i,r)}}}})};return i}}(FXStreetWidgets.$),function(n){FXStreetWidgets.Widget.LoaderMarketImpact=function(){var i=FXStreetWidgets.Widget.LoaderBase({WidgetType:"MarketTools",WidgetName:"marketimpact",EndPointV2:"api/v2/marketImpact/study/",EndPointTranslationV2:"api/v2/cultures/{culture}/MarketImpactWidgetI3/",DefaultHost:"https://markettools.fxstreet.com/",Mustaches:{marketimpact:""},DefaultVersion:"v2",CustomJs:["c3.min.js","d3.min.js","moment.min.js"]}),t=FXStreetWidgets.Util.extendObject(i),r;return i.initWidgets=function(i){n.each(i,function(i,u){var f=n(u),e=f.attr("fxs_assets")?f.attr("fxs_assets").split(","):null,o=t.getHost()+"api/"+t.getVersion()+"/marketImpact/"+FXStreetWidgets.Configuration.getCulture()+"/assets/";r(e)&&(o+="?assetIds="+e.join(","));FXStreetWidgets.Util.ajaxJsonGetter(o).done(function(n){var i=n.Values,r={Container:f,AssetId:i[0].Id,Assets:i,EventId:f.attr("fxs_eventId"),ShownTabs:f.attr("fxs_tabs")||""},u=new FXStreetWidgets.Widget.MarketImpact(t);u.init(r)}).fail(function(){console.error("fxserror: Couldn't get assets")})})},r=function(i){if(!i)return!1;try{return n.each(i,function(n,t){if(FXStreetWidgets.Util.isUndefined(t)||!t.startsWith("fxs-"))throw t;}),!0}catch(r){return console.log("fxserror unable to create "+t.config.WidgetName+", asset not valid: "+r.message),!1}},t},function(){var n=new FXStreetWidgets.Widget.LoaderMarketImpact;n.init()}()}(FXStreetWidgets.$);
//# sourceMappingURL=marketimpact.min.js.map