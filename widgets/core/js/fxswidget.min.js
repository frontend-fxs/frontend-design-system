(function(){String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.substr(t,n.length)===n})})(),function(){window.FXStreetWidgets={};var n=window.FXStreetWidgets;n.Util={};n.Widget={};n.Chart={};n.Configuration=null;n.ConfigManager={};n.Initialization=null;n.InitManager={};n.Deferred={};n.DeferredManager=null;n.ResourceManager={};n.ResourceManagerObj=null;n.ExternalLib={};n.ExternalLib.Mustache=null;n.Authorization=null;n.$=null;n.Util.guid=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()};n.Util.ajaxJsonGetter=function(t,i){return n.Authorization.getTokenPromise().then(function(r){return n.$.ajax({type:"GET",url:t,data:i,contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(n){n.setRequestHeader("Authorization",r.token_type+" "+r.access_token)}})})};n.Util.renderByHtmlTemplate=function(t,i){return n.ExternalLib.Mustache.render(t,i)};n.Util.getQueryStringParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))};n.Util.extendObject=function(n){var t=function(){};return t.prototype=n,new t};n.Util.arrayIsValid=function(t){return n.Util.isValid(t)&&t.length>0};n.Util.isValid=function(t){return t!=null&&!n.Util.isUndefined(t)};n.Util.isUndefined=function(n){return typeof n=="undefined"};n.Util.formatDate=function(t,i){var r;return moment?(i||(i="MMM D, HH:mm"),r=t?moment.utc(t):moment.utc(),r.format(i,n.Configuration.config.Culture)):(console.warn("Momentjs is not loaded"),t)};n.Util.formatDateUtcOffset=function(t,i,r){if(n.Util.isValid(r)||(r="MMM D, HH:mm"),n.Util.isValid(t))var u=60*i,f=moment(t).utcOffset(u);return f.format(r)};n.Util.log=function(t){if(n.Configuration.config.Logging!==!1&&!n.Util.isUndefined(window.console)){var i="["+(new Date).toTimeString()+"] FXS: "+t;window.console.debug?window.console.debug(i):window.console.log&&window.console.log(i)}};n.Util.async=function(n){n&&typeof n=="function"&&setTimeout(function(){n()},1)}}(),function(){FXStreetWidgets.ResourceType={Js:"Js",Css:"Css",Font:"Font",Mustache:"Mustache"};FXStreetWidgets.Resource=function(n,t,i,r){this.Name=n;this.Type=t;this.Url=i;this.Loaded=!1;this.Value="";this.CustomLoadedDelegate=r};FXStreetWidgets.ResourceManager=function(){var t=this,n={},r=function(n,t,i){n.addEventListener?n.addEventListener("load",function(){t(i)},!1):n.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&t.call(i)}},u=function(n,t){var i=document.createElement("script"),u;i.type="text/javascript";i.async=!0;i.src=n.Url;r(i,t,n.Name);u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(i,u)},f=function(n){FXStreetWidgets.$("<link>").attr("rel","stylesheet").attr("type","text/css").attr("href",n.Url).appendTo("head")},e=function(n,t){FXStreetWidgets.$.ajax({type:"GET",url:n.Url}).then(function(i){n.Loaded=!0;n.Value=i;t.call(n)})},i=function(t,i){n[t].Loaded=!0;i&&typeof i=="function"&&i.call()},o=function(t){return n.hasOwnProperty(t.Name)},s=function(n){var u=!1,f,e,i,t,r;if(n.CustomLoadedDelegate&&n.CustomLoadedDelegate())return!0;switch(n.Type){case FXStreetWidgets.ResourceType.Js:for(f=document.getElementsByTagName("script"),t=0;t<f.length;t++)if(e=f[t],e.src===n.Url||e.src.indexOf(n.Name)!==-1){u=!0;break}break;case FXStreetWidgets.ResourceType.Css:for(i=document.getElementsByTagName("link"),t=0;t<i.length;t++)if(r=i[t],r.href===n.Url||r.href.indexOf(n.Name)!==-1){u=!0;break}break;case FXStreetWidgets.ResourceType.Font:for(i=document.getElementsByTagName("link"),t=0;t<i.length;t++)if(r=i[t],r.href===n.Url||r.href.indexOf(n.Url)!==-1){u=!0;break}}return u},h=function(t,r){var h=!1;if(o(t)?(h=!0,t.Loaded=!0):s(t)&&(h=!0,t.Loaded=!0,n[t.Name]=t),h===!0&&r&&typeof r=="function")r(t);else if(h===!1){n[t.Name]=t;switch(t.Type){case FXStreetWidgets.ResourceType.Js:u(t,function(n){i(n,r)});break;case FXStreetWidgets.ResourceType.Css:case FXStreetWidgets.ResourceType.Font:f(t);i(t.Name,r);break;case FXStreetWidgets.ResourceType.Mustache:e(t,function(){r(t)})}}};return t.load=function(n,t,i,r,u){var f=new FXStreetWidgets.Resource(n,t,i,u);return h(f,r)},t}}(),function(){FXStreetWidgets.ConfigManager=function(){var n=this;return n.config={Logging:!1,UseMin:!0,ServerName:"https://staticcontent.fxstreet.com/",AuthorizationUrl:"https://authorization.fxstreet.com/token",StaticContentQueryStringRefresh:"?t=20171024",Culture:"en-US",StaticContentName:"widgets/",JsJqueryName:"jquery-1.11.3.min.js",JsMustacheName:"mustache.js",JsAuth:{container:"auth/",fileName:"fxsauth.js"},JsCores:["moment.min.js","bootstrap.min.js"],CssCores:["fxswidget.min.css"],FontAwesome:["font-awesome","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"],FontGoogle:["googleapis.com/css","https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500,700,300italic,400italic,500italic"]},n.init=function(){n.loadCustomConfig()},n.loadCustomConfig=function(){if(typeof fxs_widget_config!="undefined")for(key in fxs_widget_config)fxs_widget_config.hasOwnProperty(key)&&(n.config[key]=fxs_widget_config[key])},n.getHosts=function(){if(typeof fxs_widget_hosts_config=="undefined")return null;return fxs_widget_hosts_config},n.getCoreJsUrl=function(t){return n.getJsUrl(t,"core")},n.getCoreCssUrl=function(t){return n.getCssUrl(t,"core")},n.getCoreFontUrl=function(t){return n.getJsUrl(t,"core")},n.getJsUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/js/",t)},n.getMustacheUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/mustache/",t)},n.getCssUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/css/",t)},n.getFontUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/font/",t)},n.createResourceUrl=function(t,i){return n.config.ServerName+t+i+n.config.StaticContentQueryStringRefresh},n.getCulture=function(){return n.config.Culture},n}}(),function(){FXStreetWidgets.InitManager=function(){var n=this;return n.widgetsLoader={},n.interval=null,n.isReady=!1,n.init=function(){if(typeof jQuery=="undefined"){var t=FXStreetWidgets.Configuration.config.JsJqueryName,i=FXStreetWidgets.Configuration.getCoreJsUrl(t);FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i,n.jqueryLoadedCallback)}else n.jqueryLoadedCallback()},n.registerLoader=function(t,i){t&&i&&(n.widgetsLoader[t]=i)},n.jqueryLoadedCallback=function(){FXStreetWidgets.$=jQuery;n.loadAuthJs()},n.loadAuthJs=function(){if(n.authIsReady())n.authLoaded();else{var t=FXStreetWidgets.Configuration.config.JsAuth,i=FXStreetWidgets.Configuration.createResourceUrl(t.container,t.fileName);FXStreetWidgets.ResourceManagerObj.load(t.fileName,FXStreetWidgets.ResourceType.Js,i,n.authLoadedCallback,n.authIsReady)}},n.loadMustache=function(){if(n.mustacheIsReady())n.mustacheLoaded();else{var t=FXStreetWidgets.Configuration.config.JsMustacheName,i=FXStreetWidgets.Configuration.getCoreJsUrl(FXStreetWidgets.Configuration.config.JsMustacheName);FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i,n.mustacheLoadedCallback)}},n.mustacheLoadedCallback=function(){n.interval=setInterval(function(){n.mustacheIsReady()&&(clearInterval(n.interval),n.mustacheLoaded())},10)},n.authLoadedCallback=function(){n.Interval=setInterval(function(){n.authIsReady()&&(clearInterval(n.Interval),n.authLoaded())},10)},n.authLoaded=function(){FXStreetWidgets.Authorization=FXStreetAuth.Authorization.getInstance({authorizationUrl:FXStreetWidgets.Configuration.config.AuthorizationUrl});n.loadMustache()},n.mustacheLoaded=function(){FXStreetWidgets.ExternalLib.Mustache=Mustache;n.loadJsCores();n.loadCssCores();n.loadFontCores();var t=new FXStreetWidgets.InitManager.WidgetData(FXStreetWidgets.$("body"),!1);n.loadWidgets(t);n.isReady=!0},n.mustacheIsReady=function(){return typeof Mustache!="undefined"},n.authIsReady=function(){return typeof FXStreetAuth!="undefined"},n.loadFontCores=function(){var i=FXStreetWidgets.Configuration.config.FontGoogle[0],r=FXStreetWidgets.Configuration.config.FontGoogle[1],n,t;FXStreetWidgets.ResourceManagerObj.load(i,FXStreetWidgets.ResourceType.Font,r);n=FXStreetWidgets.Configuration.config.FontAwesome[0];t=FXStreetWidgets.Configuration.config.FontAwesome[1];FXStreetWidgets.ResourceManagerObj.load(n,FXStreetWidgets.ResourceType.Font,t)},n.loadCssCores=function(){for(var t,i,n=0;n<FXStreetWidgets.Configuration.config.CssCores.length;n++)t=FXStreetWidgets.Configuration.config.CssCores[n],i=FXStreetWidgets.Configuration.getCoreCssUrl(t),FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Css,i)},n.loadJsCores=function(){for(var t,i,n=0;n<FXStreetWidgets.Configuration.config.JsCores.length;n++)t=FXStreetWidgets.Configuration.config.JsCores[n],i=FXStreetWidgets.Configuration.getCoreJsUrl(t),FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i)},n.loadWidgets=function(t){var f,i,r,e,u;for(f in t.widgets)i=t.widgets[f],n.widgetsLoader.hasOwnProperty(i.Name)?t.isDeferred===!0&&(u=n.widgetsLoader[i.Name],u!=="loading"&&(u.loadDeferred(t.container),i.Loaded=!0)):(r=i.Name,r+=FXStreetWidgets.Configuration.config.UseMin?".min.js":".js",e=FXStreetWidgets.Configuration.getJsUrl(r,i.Name),FXStreetWidgets.ResourceManagerObj.load(r,FXStreetWidgets.ResourceType.Js,e),n.registerLoader(i.Name,"loading"),i.Loaded=!0)},n};FXStreetWidgets.InitManager.WidgetData=function(n,t){var i=this;return i.container=n,i.isDeferred=t,i.widgets={},function(){for(var t,u=n.find("div[fxs_widget]"),r=0;r<u.length;r++)(t=u[r].getAttribute("fxs_name"),typeof t=="undefined"||i.widgets.hasOwnProperty(t))||(i.widgets[t]={Name:t,Loaded:!1})}(),i}}(),function(){FXStreetWidgets.DeferredManager=function(){var t=this,n=[],i=function(){var i,t,r;if(FXStreetWidgets.Initialization!==null&&FXStreetWidgets.Initialization.isReady)for(i=n.length-1;i>=0;i--){t=n[i];FXStreetWidgets.Initialization.loadWidgets(t);for(r in t.widgets)t.widgets[r].Loaded===!0&&delete t.widgets[r];Object.keys(t.widgets).length===0&&n.splice(i,1)}};return t.deferredLoad=function(t){if(t){var r=new FXStreetWidgets.InitManager.WidgetData(t,!0);n.push(r)}i()},t}}(),function(){window.addEventListener("load",function(){FXStreetWidgets.ResourceManagerObj=new FXStreetWidgets.ResourceManager;FXStreetWidgets.Configuration=new FXStreetWidgets.ConfigManager;FXStreetWidgets.Configuration.init();FXStreetWidgets.Initialization=new FXStreetWidgets.InitManager;FXStreetWidgets.Initialization.init();FXStreetWidgets.Deferred=new FXStreetWidgets.DeferredManager})}();
//# sourceMappingURL=fxswidget.min.js.map