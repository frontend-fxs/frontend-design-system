(function(){FXStreet.Util.ready=function(){FXStreet.Class.Survey.Base();FXStreet.Util.preReady();FXStreet.Resource.isReady=!0;FXStreet.Util.initObjects("ready")};FXStreet.Util.load=function(){FXStreet.Resource.isLoaded=!0;FXStreet.Util.initObjects("load")};FXStreet.Util.loadMustaches=function(){$.ajax({type:"GET",url:FXStreet.Resource.MustacheBundle}).then(function(n){FXStreet.Util.htmlBundle=n;FXStreet.Util.onHtmlBundleReadyDelegateds.forEach(function(n){FXStreet.Util.loadHtmlTemplate(n.htmlTemplate).done(function(t){n.deferred.resolve(t)})})},function(){window.console&&window.console.log("Error to load mustache")})};FXStreet.Util.preReady=function(){function n(){if(typeof TTChart=="undefined"){console.warn("LoadTTChart");setTimeout(n,100);return}FXStreet.ExternalLib.TTChart=TTChart;FXStreet.Util.Deferreds.PendingTTChart.forEach(function(n){var t=FXStreet.ExternalLib.TTChart.create({id:n.ChartId});n.Deferred.resolve(t)})}FXStreet.ExternalLib.Mustache=Mustache;FXStreet.ExternalLib.GoogleTag=googletag;FXStreet.ExternalLib.Teletrader=TT;FXStreet.Util.loadMustaches();n();var t=FXStreet.Util.createObject("ResponsiveDesign",{},"ready");FXStreet.Util.initObject(t);FXStreet.Util.registerDynamicObjs();FXStreet.Resource.InitialTitle=document.title;FXStreet.Resource.InitialUrl=window.location.pathname;FXStreet.Util.isTouchDevice()&&$("body").addClass("fxs_touch")};FXStreet.Util.ConvertUtcDateToCurrentTimeZone=function(n){var i=FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().TimeZone().HoursUtcOffset,t=new Date(n),r=new Date(t.setTime(t.getTime()+t.getTimezoneOffset()*6e4+i*36e5));return r.toISOString()};FXStreet.Util.registerDynamicObjs=function(n){var r,i,u;for(n=n||$("body"),r=n.find("div[fxs_objtype]"),i=0;i<r.length;i++){var t=$(r[i]),f=t.attr("fxs_createevent"),e=t.attr("fxs_objtype");if(f===undefined||e===undefined){console.log("unable to create fxsobj from: "+t.attr("id"));continue}u={};try{u=FXStreet.Util.deserializeJsonFromAttr(t.attr("fxs_json"))}catch(o){console.log("unable to create fxsobj from: "+t.attr("id"));continue}FXStreet.Util.createObject(e,u,f)}};FXStreet.Util.dateToIsoString=function(n){var r=n.getFullYear(),t=(n.getMonth()+1).toString(),i=n.getDate().toString();return t.length===1&&(t="0"+t),i.length===1&&(i="0"+i),r+"-"+t+"-"+i};FXStreet.Util.dateToDayAndTimeString=function(n){var e=new Date(n),h=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()+h),u=(r.getMonth()+1).toString(),f=r.getDate().toString(),t,i,o,s;return u.length===1&&(u=u-1),f.length===1&&(f="0"+f),t=r.getHours().toString(),i=r.getMinutes().toString(),t.length===1&&(t="0"+t),i.length===1&&(i="0"+i),o=t+":"+i,s=FXStreet.Resource.Translations.GenericResources.Months.split(","),s[u]+" "+f+", "+o};FXStreet.Util.dateToDateString=function(n,t){var u=n.getFullYear(),i=n.getMonth(),r=n.getDate().toString();return t?r+" "+FXStreet.Resource.Months[i]+" "+u:r+" "+FXStreet.Resource.Months[i]};FXStreet.Util.dateToTimeString=function(n){var t=n.getHours().toString(),i=n.getMinutes().toString();return t.length===1&&(t="0"+t),i.length===1&&(i="0"+i),t+":"+i};FXStreet.Util.dateStringToDateUTC=function(n){var t=new Date(n),i=t.getFullYear(),r=t.getMonth(),u=t.getDate(),f=t.getHours(),e=t.getMinutes();return new Date(Date.UTC(i,r,u,f,e))};FXStreet.Util.getParamUriByName=function(n){var i=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+i+"=([^&#]*)"),t=r.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))};FXStreet.Util.getUserAgent=function(){var n="";return navigator&&navigator.userAgent&&(n=navigator.userAgent),n};FXStreet.Util.isIPadDevice=function(){var n=FXStreet.Util.getUserAgent();return n.toLowerCase().match(/ipad/)?!0:!1};FXStreet.Util.isIPhoneDevice=function(){var n=FXStreet.Util.getUserAgent();return n.toLowerCase().match(/iphone/)?!0:!1};FXStreet.Util.isAndroidOS=function(){var n=FXStreet.Util.getUserAgent();return n.toLowerCase().match(/(android)/)?!0:!1};FXStreet.Util.isMobileDevice=function(){var n=FXStreet.Util.getUserAgent();return n.toLowerCase().match(/(mobile)/)?!0:!1};FXStreet.Util.isAndroidMobile=function(){return FXStreet.Util.isAndroidOS()&&FXStreet.Util.isMobileDevice()};FXStreet.Util.isAndroidTablet=function(){return FXStreet.Util.isAndroidOS()&&!FXStreet.Util.isMobileDevice()};FXStreet.Util.isTouchDevice=function(){return FXStreet.Util.isIPadDevice()||FXStreet.Util.isIPhoneDevice()||FXStreet.Util.isAndroidOS()||FXStreet.Util.isMobileDevice()||FXStreet.Util.isAndroidMobile()||FXStreet.Util.isAndroidTablet()};FXStreet.Util.isStorageAvailable=function(n){try{var i=window[n],t="__storage_test__";return i.setItem(t,t),i.removeItem(t),!0}catch(r){return!1}};FXStreet.Util.htmlBundle="";FXStreet.Util.onHtmlBundleReadyDelegateds=[];FXStreet.Util.htmlTemplateLoaded={};FXStreet.Util.getElementByIdOnHtmlBundle=function(n){var r=null;if(n){n=n.replace(".html","");var u="/high",t=!n.indexOf(u)>-1?n.substring(n.indexOf(u)+1,n.length):n,f=$("<div>").html(FXStreet.Util.htmlBundle),i=f.find("#"+t),o=f.find('[id^="'+t+'."]'),e={};o.each(function(n,i){var r=i.id.substring(t.length+1);e[r]=$(i).html()});i&&i[0]||!window.console?r={Template:i[0].innerHTML,Partials:e}:window.console.log("Error to loading mustache:"+n)}return r};FXStreet.Util.renderByTemplateName=function(n,t){FXStreet.Util.loadHtmlTemplate(n).done(function(n){return FXStreet.Util.renderByHtmlTemplate(n,t)})};FXStreet.Util.loadHtmlTemplate=function(n){if(FXStreet.Util.htmlBundle)return FXStreet.Util.htmlTemplateLoaded[n]||(FXStreet.Util.htmlTemplateLoaded[n]=FXStreet.Util.getElementByIdOnHtmlBundle(n)),$.when().then(function(){return FXStreet.Util.htmlTemplateLoaded[n]});var t=$.Deferred();return FXStreet.Util.onHtmlBundleReadyDelegateds.push({deferred:t,htmlTemplate:n}),t};FXStreet.Util.renderByHtmlTemplate=function(n,t){if(!n)return"";return FXStreet.ExternalLib.Mustache.render(n.Template,t,n.Partials)};FXStreet.Util.isBackendDesignMode=function(){return FXStreet.Resource.IsDesignMode&&!FXStreet.Resource.IsPreviewMode};FXStreet.Util.guid=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()};FXStreet.Util.serializeJsonForAttr=function(n){return encodeURIComponent(JSON.stringify(n))};FXStreet.Util.deserializeJsonFromAttr=function(n){return JSON.parse(decodeURIComponent(n))};FXStreet.Util.createUrl=function(n,t){var r=null,i;if(n&&(r=n+"?cultureName="+FXStreet.Resource.CultureName,t!==undefined&&t!==null))for(i=0;i<t.length;i++)r+="&"+t[i].Key+"="+t[i].Value;return r};FXStreet.Util.concatQueryToUrl=function(n,t){var r=null,i;if(n!==undefined&&n!==null&&(r=n,t!==undefined&&t!==null))for(i=0;i<t.length;i++)r+="&"+t[i].Key+"="+t[i].Value;return r};FXStreet.Util.getUrl=function(n){return FXStreet.Resource.PageUrl+"/"+n};FXStreet.Util.getjQueryObjectById=function(n,t,i){if(t=t||t===undefined,i=i||i===undefined,!n)return console.error("The id cannot be empty"),null;var r=$(document.getElementById(n));return t&&!r.length?(i&&console.error("There is not any object with the id "+n),null):r};FXStreet.Util.getjQueryObjectBySelector=function(n,t){if(t=t||t===undefined,!n)return console.error("The selector cannot be empty"),null;var i=$(n);return t&&!i.length&&console.error("There is not any object with the selector "+n),i};FXStreet.Util.check=function(n){return n||console.error("The object cannot be empty"),n.length||console.error("The object cannot be null"),n};FXStreet.Util.fillPageSpace=function(){var n=FXStreet.Util.getObjectInstance("InfiniteScrollPage"),t,i;n&&(t=n.ScrollingElement.find("main").height(),i=n.ScrollingContent.height(),t<i?(n.setAvoidScroll(!0),FXStreet.Util.tryRenderNextPageElement(FXStreet.Util.fillPageSpace)):(n.setAvoidScroll(!0),n.MoveScroll(1),n.setAvoidScroll(!1)))};FXStreet.Util.tryRenderNextPageElement=function(n){var t=FXStreet.Class.Sidebar.Util.RenderizableListItems.filter(function(n){return n.RenderedItemInPage.Visible}),r=0,i;(t.length>0&&(t.sort(function(n,t){return n.RenderedItemInPage.PositionInRenderizableListItems<t.RenderedItemInPage.PositionInRenderizableListItems}),r=t[0].RenderedItemInPage.PositionInRenderizableListItems+1),i=FXStreet.Class.Sidebar.Util.RenderizableListItems[r],i)&&i.RenderedItemInPage.Render(!0).then(function(){typeof n=="function"&&setTimeout(function(){n()},1)})};FXStreet.Util.getItemPosition=function(n){var t=$(n).attr("fxs_it_position");return t?parseInt(t):-1};FXStreet.Util.parseUrl=function(n){if(!n)return null;var t=document.createElement("a");return t.href=n,{host:t.host,hostname:t.hostname,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,hash:t.hash}};FXStreet.Util.isInteger=function(n){return!isNaN(n)&&parseInt(Number(n))==n&&!isNaN(parseInt(n,10))};FXStreet.Util.ContentTypeMapping={1:{FxsContentType:"News",JsType:"PieceOfNews"},2:{FxsContentType:"Analysis",JsType:"AnalysisItem"},3:{FxsContentType:"Education",JsType:"EducationItem"},4:{FxsContentType:"Videos",JsType:"VideoItem"},5:{FxsContentType:"Events",JsType:"EventItem"}};FXStreet.Util.FxsCookie={HomeNews:"HomeNews",HomeAnalysis:"HomeAnalysis",HomeEducation:"HomeEducation",HomeRatesAndCharts:"HomeRatesAndCharts",HomeBrokers:"HomeBrokers",HomeVideos:"HomeVideos",UserTimeConfiguration:"UserTimeConfiguration",UserSessionId:"UserSessionId",SubscribedNewsletters:"SubscribedNewsletters"};FXStreet.Util.FxsSessionStorage={AcceptContactOnAir:"AcceptContactOnAir"};FXStreet.Util.VisibleHeight=function(n){var t;if(n===null||n===undefined||(t=$(n),$(n).length<=0))return 0;var e=t.outerHeight(),i=$(window).height(),r=t[0].getBoundingClientRect(),u=r.top,f=r.bottom;return Math.max(0,u>0?Math.min(e,i-u):f<i?f:i)};FXStreet.Util.getInnerText=function(n){if(n===null||n===undefined)return"";return n.innerText||n.textContent};FXStreet.Util.SetTooltip=function(){$('[data-toggle="tooltip"]').tooltip()};FXStreet.Util.getQueryStringValue=function(n){for(var i,r=window.location.search.substring(1).split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]===n)return i[1];return null};FXStreet.Util.updateUrl=function(n,t,i){if(!window.history.state||!window.history.state.Id||window.history.state.Id!==n)try{window.history.pushState({Id:n},t,i)}catch(r){console.error("The url cannot be pushed")}};FXStreet.Util.DownloadFileFromJsonObject=function(n,t){var r="data:application/octet-stream,"+encodeURIComponent(t),i=document.createElement("a");i.href=r;i.download=n;document.body.appendChild(i);i.click();document.body.removeChild(i)};FXStreet.Util.haveSameProperties=function(n,t){var i=Object.keys(n),r=Object.keys(t);return i.length==r.length?i.every(function(n){return r.indexOf(n)>=0}):!1};FXStreet.Util.getParameterByName=function(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};FXStreet.Util.getBigChartMobileUrl=function(n,t){var i=FXStreet.Util.getParameterByName("asset",n);return"https://www.fxstreet.com/mobile-chart?providerCode="+t+"&asset="+i};FXStreet.Util.EncodeUrl=function(n){return n=(n+"").toString(),encodeURIComponent(n).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};FXStreet.Util.Deferreds={};FXStreet.Util.Deferreds.PendingTTChart=[]})(),function(){FXStreet.Class.Patterns.Observer={};FXStreet.Class.Patterns.Observer.List=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.observerList=[],n.add=function(t){return n.observerList.push(t)},n.count=function(){return n.observerList.length},n.get=function(n){return n>-1&&n<this.observerList.length?this.observerList[n]:null},n.indexOf=function(t,i){for(var r=i||0;r<n.observerList.length;){if(n.observerList[r]===t)return r;r++}return-1},n.removeAt=function(t){n.observerList.splice(t,1)},n};FXStreet.Class.Patterns.Observer.Subject=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.observers=new FXStreet.Class.Patterns.Observer.List,n.addObserver=function(t){n.observers.add(t)},n.removeObserver=function(t){n.observers.removeAt(n.observers.indexOf(t,0))},n.notify=function(t){for(var r=n.observers.count(),i=0;i<r;i++)n.observers.get(i).update(t)},n};FXStreet.Class.Patterns.Observer.Observer=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.UpdateDelegate=null,n.init=function(t){n.setSettingsByObject(t)},n.update=function(t){n.UpdateDelegate!==null&&n.UpdateDelegate(t)},n};FXStreet.Class.Patterns.Singleton={}}(),function(){FXStreet.Class.Sidebar={};FXStreet.Class.Sidebar.Util={};FXStreet.Class.Sidebar.ListItemType={};FXStreet.Class.Sidebar.RenderedItemInPage={}}(),function(){FXStreet.Class.Patterns.Singleton.AdvertiseManager=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t={},r=FXStreet.ExternalLib.GoogleTag;return n.init=function(t){n.setSettingsByObject(t)},n.Add=function(n,i){t[n]||(t[n]=[]);t[n].push(i)},n.RefreshGroup=function(n){r.pubads().refresh(t[n])},n};return{Instance:function(){return n||(n=i()),n}}}();FXStreet.Class.AdvertiseBase=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.SlotName="",n.Labels=[],n.LabelKey="",n.LabelValue="",n.Label2Key="",n.Label2Value="",n.MobileSize=[],n.TabletSize=[],n.DesktopSize=[],n.DesktopHdSize=[],n.RefreshSeconds=0,n.Async=!1,n.GroupKey="",n.Container=null,n.GoogleTag=FXStreet.ExternalLib.GoogleTag,n.ResponsiveSeparator="-",n.Slot=null,n.AdvertiseManagerObj=null,n.MinMobileSize=[0,0],n.MinTabletSize=[768,0],n.MinDesktopSize=[1025,0],n.MinDesktopHdSize=[1480,0],n.responsiveDesignObj=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.setAdvertise()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.MobileSize=n.getSize(n.MobileSize);n.TabletSize=n.getSize(n.TabletSize);n.DesktopSize=n.getSize(n.DesktopSize);n.DesktopHdSize=n.getSize(n.DesktopHdSize);n.responsiveDesignObj=FXStreet.Util.getObjectInstance("ResponsiveDesign");n.LabelKey&&n.LabelValue&&!n.Labels.findFirst(function(t){return t===n.LabelKey})&&n.Labels.push({Key:n.LabelKey,Value:n.LabelValue});n.Label2Key&&n.Label2Value&&!n.Labels.findFirst(function(t){return t===n.Label2Key})&&n.Labels.push({Key:n.Label2Key,Value:n.Label2Value});n.Labels.push({Key:"url",Value:window.location.hostname+window.location.pathname});n.Async=FXStreet.Global.AsyncDfp;n.AdvertiseManagerObj=FXStreet.Class.Patterns.Singleton.AdvertiseManager.Instance()},n.getSize=function(t){var i=[];try{t!==null&&t&&t.length>0&&(i=$.parseJSON(t))}catch(r){console.log("cannot map size: "+t+" for advertize: "+n.ContainerId)}return i},n.setAdvertise=function(){n.Async?n.setAdvertiseAsync():n.setAdvertiseSync()},n.setAdvertiseAsync=function(){n.GoogleTag.cmd.push(function(){n.createSlot();n.GroupKey&&n.AdvertiseManagerObj.Add(n.GroupKey,n.Slot)})},n.setAdvertiseSync=function(){n.createSlot()},n.renderAdvertise=function(t){n.Async?n.renderAdvertiseAsync(t):n.renderAdvertiseSync(t)},n.renderAdvertiseAsync=function(t){n.GoogleTag.cmd.push(function(){n.setSlotRenderEndedEvent(t);n.GoogleTag.display(n.ContainerId);n.refreshAd();n.GroupKey||n.RefreshSeconds>0&&setInterval(function(){n.GoogleTag.pubads().refresh([n.Slot])},n.RefreshSeconds*1e3)})},n.renderAdvertiseSync=function(t){n.setSlotRenderEndedEvent(t);n.GoogleTag.pubads().enableSyncRendering();n.GoogleTag.enableServices();n.GoogleTag.display(n.ContainerId)},n.setSlotRenderEndedEvent=function(t){typeof t=="function"&&n.GoogleTag.pubads().addEventListener("slotRenderEnded",t)},n.createSlot=function(){n.Slot=n.GoogleTag.defineSlot(n.SlotName,[],n.ContainerId);n.Slot?(n.Slot.ContainerId=n.ContainerId,n.Slot.addService(n.GoogleTag.pubads()),n.setTargeting(),n.setResponsive()):console.warn("Cannot be created the ad in the container "+n.ContainerId)},n.setTargeting=function(){n.Labels.forEach(function(t){t.Key&&t.Value&&n.Slot.setTargeting(t.Key,t.Value)})},n.setResponsive=function(){var t;t=n.GoogleTag.sizeMapping().addSize(n.MinMobileSize,n.MobileSize).addSize(n.MinTabletSize,n.TabletSize).addSize(n.MinDesktopSize,n.DesktopSize).addSize(n.MinDesktopHdSize,n.DesktopHdSize).build();n.Slot.defineSizeMapping(t)},n.containerOuterHtml=function(){return n.Container[0].outerHTML},n.addEvents=function(){n.responsiveDesignObj&&(n.responsiveDesignObj.whenWindowResizesToMobile(n.refreshAd),n.responsiveDesignObj.whenWindowResizesToTablet(n.refreshAd),n.responsiveDesignObj.whenWindowResizesToDesktop(n.refreshAd),n.responsiveDesignObj.whenWindowResizesToDesktopHD(n.refreshAd))},n.refreshAd=function(){n.GroupKey?n.AdvertiseManagerObj.RefreshGroup(n.GroupKey):n.GoogleTag.pubads().refresh([n.Slot])},n};FXStreet.Class.AdvertiseNormal=function(){var t=FXStreet.Class.AdvertiseBase(),n=FXStreet.Util.extendObject(t);return n.init=function(i){t.init(i);n.renderAdvertise()},n};FXStreet.Class.AdvertisePopup=function(){function i(){n.setMobileCookie();document.removeEventListener("click",i)}var t=FXStreet.Class.AdvertiseBase(),n=FXStreet.Util.extendObject(t);return n.PopupShowIntervalInMinutes=0,n.CookieGroup="",n.IsRendered=!1,n.CookieName="",n.MobileCookieName="",n.init=function(r){n.setSettingsByObject(r);n.setVars();$.cookie(n.CookieName)||(t.init(r),n.responsiveDesignObj.IsMobile()?$.cookie(n.MobileCookieName)?n.renderAdvertise(n.onAdvertiseRendered):document.addEventListener("click",i):n.renderAdvertise(n.onAdvertiseRendered))},n.setVars=function(){n.CookieName="PopupAd_"+n.CookieGroup;n.MobileCookieName="PopupMobileAd_"+n.CookieGroup},n.createPopup=function(){var t=$('<div class="fxs_modal_wrap modal"><button type="button" class="fxs_modal_close fxs_btn_icon fxs_btn_functional close" data-dismiss="modal" aria-label="Close Modal"><i class="fa fa-times"><\/i><span class="fxs_skip">Close Modal<\/span><\/button><div class="fxs_modal_content fxs_modal_roadblock_sponsor"><div class="fxs_detail"><a href="link sponsor" title="sponsor name"><advertise /><\/a><\/div><\/div><\/div>'),i;$("body").append(t);i=t.find("advertise");i.replaceWith(n.Container);t.modal("show")},n.onAdvertiseRendered=function(t){t.slot.ContainerId!==n.ContainerId||n.IsRendered||(t.isEmpty?n.Container.hide():(n.IsRendered=!0,n.setCookie(),n.createPopup(),n.refreshAd(),n.removeMobileCookie()))},n.setCookie=function(){var t=n.PopupShowIntervalInMinutes/1440;$.cookie(n.CookieName,!0,{expires:t,path:"/"})},n.setMobileCookie=function(){var t=n.PopupShowIntervalInMinutes/1440;$.cookie(n.MobileCookieName,!0,{expires:t,path:"/"})},n.removeMobileCookie=function(){$.removeCookie(n.MobileCookieName,{path:"/"})},n}}(),function(){FXStreet.Class.Alert=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Container=null,n.Summary="",n.IsWide=!1,n.Title="",n.HtmlTemplateFile="staticalert_default.html",n.AlertType="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.render=function(){var t={CssSuffix:n.AlertType.toLowerCase(),Title:n.Title,Summary:n.Summary,IsWide:n.IsWide};n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.Container.find(".fxs_close").on("click",function(){n.Container.hide()})})},n}}(),function(){FXStreet.Class.Analytics={};FXStreet.Class.Analytics.Base=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);n.updateDinamicLayer=function(n,t,i){var o=r(n),s=u(n),h=f(n),l=e(n),c;t["images-title"]=o.titles;t["images-count"]=o.imageCount;t["widget-names"]=s.widgetNames;t["widget-count"]=s.widgetCount;t["videos-count"]=h.videoCount;t["videos-title"]=h.videoNames;t.alert=l.titles;t.byScroll=i;t.event="page-item";c=FXStreet.Class.Patterns.Singleton.TagManager.Instance();c.Push(t)};var h=function(){for(var n=0,t=dataLayer.length;n<t;n++)if(dataLayer[n].Id!==undefined&&dataLayer[n].element.Id!=null&&dataLayer[n].element.Id.indexOf("fxs_")>-1)return n},r=function(n){var t={},i=$(n).find("img");return t.titles=o(i),t.imageCount=i.length.toString(),t},u=function(n){var t={},r=$(n).find("div[fxs_widget]"),u=$(n).find("div[fxs_sf_widget]"),i=$.merge($.merge([],r),u);return t.widgetNames=s(i),t.widgetCount=i.length.toString(),t},f=function(n){var t={},f=$(n).find("iframe"),r=0,u;for(i=0;i<f.length;i++)u=$(n).find("iframe")[i].outerHTML.search("youtu(?:.be|be.com)/(?:.*v(?:/|=)|(?:.*/)?)([a-zA-Z0-9-_]+)"),u>-1&&r++;return t.videoCount=r.toString(),t},e=function(){var n={},t,r;for(n.titles=[],t=$(".fxs_alertText"),i=0;i<t.length;i++)r=FXStreet.Util.getInnerText(t[i]),n.titles.push(r);return n.titles.join()},o=function(n){var t=[];for(i=0;i<n.length;i++){var r=$(n[i]).prop("src").lastIndexOf("/"),u=$(n[i]).prop("src").lastIndexOf("."),f=$(n[i]).prop("src").substring(r+1,u);t.push(f)}return t.join()},s=function(n){var t=[],r;for(i=0;i<n.length;i++)r=$(n[i]).attr("fxs_name"),t.push(r);return t};return n};FXStreet.Class.Analytics.PostHome=function(){var n=FXStreet.Class.Analytics.Base(),t=FXStreet.Util.extendObject(n),i=function(n){return n.countWords()},r=function(n){var t={};return t.wordcount=i(FXStreet.Util.getInnerText(n)),t};return t.updateDinamicLayer=function(t){var i=r(t),u={Id:"fxs_home",title:document.title,wordcount:i.wordcount};n.updateDinamicLayer(t,u)},t};FXStreet.Class.Analytics.PostNews=function(){var t=FXStreet.Class.Analytics.Base(),n=FXStreet.Util.extendObject(t),i=function(n){var t=n.map(function(n){return n.Name});return t.join()};return n.extractBasicInformation=function(n){var t={};return t.name=n.SEO.MetaTitle,t.title=n.Title,t.author=n.Author?n.Author.Name:"",t.company=n.Company?n.Company.Name:"",t.tags=n.Categories?i(n.Categories):"",t.wordcount=n.WordCount?n.WordCount.toString():"0",t.titleCount=n.Title.countWords(),t.datePublished=n.PublicationDate,t.feedId=n.FeedId,t},n};FXStreet.Class.Analytics.News=function(){var t=FXStreet.Class.Analytics.PostNews(),n=FXStreet.Util.extendObject(t);return n.updateDinamicLayer=function(i,r,u){var f=n.extractBasicInformation(r),e={Id:"fxs_news",name:f.name,title:f.title,author:f.author,company:f.company,wordcount:f.wordcount,tags:f.tags,"title-count":f.titleCount,datePublished:f.datePublished};t.updateDinamicLayer(i,e,u)},n};FXStreet.Class.Analytics.Analysis=function(){var t=FXStreet.Class.Analytics.PostNews(),n=FXStreet.Util.extendObject(t);return n.updateDinamicLayer=function(i,r,u){var f=n.extractBasicInformation(r),e={Id:"fxs_analysis",name:f.name,title:f.title,author:f.author,company:f.company,wordcount:f.wordcount,tags:f.tags,"title-count":f.titleCount,datePublished:f.datePublished};t.updateDinamicLayer(i,e,u)},n};FXStreet.Class.Analytics.Education=function(){var t=FXStreet.Class.Analytics.PostNews(),n=FXStreet.Util.extendObject(t);return n.updateDinamicLayer=function(i,r,u){var f=n.extractBasicInformation(r),e={Id:"fxs_education",name:f.name,title:f.title,author:f.author,company:f.company,wordcount:f.wordcount,tags:f.tags,"title-count":f.titleCount,datePublished:f.datePublished};t.updateDinamicLayer(i,e,u)},n};FXStreet.Class.Analytics.RatesAndCharts=function(){var n=FXStreet.Class.Analytics.Base(),t=FXStreet.Util.extendObject(n),i=function(n){var t={};return t.name=n.SEO.MetaTitle,t.title=n.Title,t.author=n.Author?n.Author.Name:"",t.company=n.Company?n.Company.Name:"",t.tags=n.Categories,t.wordcount=n.WordCount,t.titleCount=n.Title.countWords(),t.datePublished=n.PublicationDate,t};return t.updateDinamicLayer=function(t,r){var u=i(r),f={Id:"fxs_post",name:u.name,title:u.title,author:u.author,company:u.company,wordcount:u.wordcount,tags:u.tags,"title-count":u.titleCount,datePublished:u.datePublished};n.updateDinamicLayer(t,f)},t};FXStreet.Class.Analytics.HomeBroker=function(){var n=FXStreet.Class.Analytics.Base(),t=FXStreet.Util.extendObject(n),i=function(){return{}};return t.updateDinamicLayer=function(t,r){var u=i(r);n.updateDinamicLayer(t,{})},t};FXStreet.Class.Analytics.Brokers=function(){var n=FXStreet.Class.Analytics.Base(),t=FXStreet.Util.extendObject(n),i=function(){return{}};return t.updateDinamicLayer=function(t,r){var u=i(r);n.updateDinamicLayer(t,{})},t};FXStreet.Class.Analytics.Videos=function(){var t=FXStreet.Class.Analytics.PostNews(),n=FXStreet.Util.extendObject(t);return n.updateDinamicLayer=function(i,r,u){var f=n.extractBasicInformation(r),e={Id:"fxs_videos",name:f.name,title:f.title,author:f.author,company:f.company,wordcount:f.wordcount,tags:f.tags,"title-count":f.titleCount,datePublished:f.datePublished};t.updateDinamicLayer(i,e,u)},n};FXStreet.Class.HomeAndTopicsAnalytics=function(){var t=FXStreet.Class.Analytics.Base(),n=FXStreet.Util.extendObject(t),i;return n.Content=null,n.init=function(){n.setVars();n.updateDinamicLayer()},n.setVars=function(){n.Content=$("main")},i=function(){var t={},r,i;return t.name=document.title,t.title=document.title,r=FXStreet.Util.getInnerText(n.Content[0]),i=r.match(/\S+/g),t.wordcount=i?i.length:0,t.titleCount=document.title.countWords(),t},n.updateDinamicLayer=function(){var r=i(),u={wordcount:r.wordcount},f=n.Content.html();t.updateDinamicLayer(f,u)},n}}(),function(){FXStreet.Class.AuthorDetailManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Author={},n.Translations={},n.UserInfo={},n.HtmlTemplateFile="authordetails_default.html",n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.render=function(){var t={Value:n.Author,Translations:n.Translations};FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.loadHtmlTemplateSuccessComplete(n.Author)})},n.loadHtmlTemplateSuccessComplete=function(t){t.HasSocialMedias&&n.initSocialMediaWidget(t);n.initFilteredPostsWidget(t);n.initAuthorFollowController(t)},n.initSocialMediaWidget=function(n){var t={ContainerId:"fxs_socialmedia_bar_"+n.Id,SocialMediaBarData:n.SocialMedias};FXStreet.Util.createObject("SocialMediaBarProfile",t)},n.initFilteredPostsWidget=function(n){var t={ContainerId:"fxs_filtered_posts_"+n.Id,AuthorId:n.Id,Take:10};FXStreet.Util.createObject("FilteredPostsManager",t)},n.initAuthorFollowController=function(t){var i={UserInfo:n.UserInfo,Author:t,FollowButtonId:"fxs_cta_authorfollow_"+t.Id,FollowingMessageBoxId:"fxs_alert_author_follow",UnFollowingMessageBoxId:"fxs_alert_author_unfollow"};FXStreet.Util.createObject("AuthorFollow",i)},n}}(),function(){FXStreet.Class.AuthorFollow=function(){var u=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(u);n.UserInfo=null;n.Author={};n.FollowButtonId="";n.FollowingMessageBoxId="";n.UnFollowingMessageBoxId="";n.FollowButton=null;n.FollowingMessageBox=null;n.UnFollowingMessageBox=null;var t="active",i="fxs_hideElements",r=!1;return n.init=function(t){n.setSettingsByObject(t);n.setVars();n.UserInfo.Personalization&&(n.addEvents(),n.render())},n.setVars=function(){if(n.FollowButton=FXStreet.Util.getjQueryObjectById(n.FollowButtonId,!1),n.FollowButton!=null&&n.FollowButton.length>0)n.FollowButton.on("click",n.followEvent);r=!n.UserInfo.IsLogged;n.FollowingMessageBox&&n.UnFollowingMessageBox&&(n.FollowingMessageBox=FXStreet.Util.getjQueryObjectById(n.FollowingMessageBoxId,!1),n.UnFollowingMessageBox=FXStreet.Util.getjQueryObjectById(n.UnFollowingMessageBoxId,!1))},n.addEvents=function(){if(n.FollowButton!=null&&n.FollowButton.length>0)n.FollowButton.unbind("click").on("click",n.followEvent)},n.render=function(){var i;n.FollowButton!=null&&n.FollowButton.length>0&&(n.UserInfo.Personalization&&n.UserInfo.Personalization.AuthorsFollowing&&(i=$.grep(n.UserInfo.Personalization.AuthorsFollowing,function(t){return t.AuthorId===n.Author.Id}),i.length>0?n.FollowButton.addClass(t):n.FollowButton.removeClass(t)),n.UserInfo.Personalization&&n.UserInfo.Personalization.Authors&&(i=$.grep(n.UserInfo.Personalization.Authors,function(t){return t.Author.Id===n.Author.Id}),i.length>0?n.FollowButton.addClass(t):n.FollowButton.removeClass(t)))},n.followEvent=function(i){if(r){var u=FXStreet.Util.getObjectInstance("UserMenu");if(u==null)return;u.Login()}else $(i.currentTarget).hasClass(t)?n.UnFollow():n.Follow(),n.render(),n.ShowAlert()},n.SendToEventHub=function(t){var i={AuthorId:n.Author.Id,LanguageId:FXStreet.Resource.LanguageId},r=FXStreet.Class.Patterns.Singleton.TagManager.Instance();r.PushToEventhub(i,t)},n.ShowAlert=function(){n.FollowingMessageBox&&n.UnFollowingMessageBox&&($(n.FollowingMessageBox).addClass(i),$(n.UnFollowingMessageBox).addClass(i),n.FollowButton.hasClass(t)?$(n.FollowingMessageBox).removeClass(i):$(n.UnFollowingMessageBox).removeClass(i))},n.Follow=function(){n.UserInfo.Personalization&&n.UserInfo.Personalization.AuthorsFollowing&&n.UserInfo.Personalization.AuthorsFollowing.push({AuthorId:n.Author.Id});n.UserInfo.Personalization&&n.UserInfo.Personalization.Authors&&n.UserInfo.Personalization.Authors.push({Author:n.Author});n.SendToEventHub("AuthorFollow")},n.UnFollow=function(){var t,i;n.UserInfo.Personalization&&n.UserInfo.Personalization.AuthorsFollowing&&(t=-1,i=$.grep(n.UserInfo.Personalization.AuthorsFollowing,function(i,r){return i.AuthorId===n.Author.Id&&(t=r),i.AuthorId===n.Author.Id}),i.length>0&&n.UserInfo.Personalization.AuthorsFollowing.splice(t,1));n.UserInfo.Personalization&&n.UserInfo.Personalization.Authors&&(t=-1,i=$.grep(n.UserInfo.Personalization.Authors,function(i,r){return i.Author.Id===n.Author.Id&&(t=r),i.Author.Id===n.Author.Id}),i.length>0&&n.UserInfo.Personalization.Authors.splice(t,1));n.SendToEventHub("AuthorUnFollow")},n}}(),function(){FXStreet.Class.Base=function(){var n=this;return n.init=FXStreet.Class.Base.prototype.init,n.setSettingsByObject=FXStreet.Class.Base.prototype.setSettingsByObject,n.addEvents=FXStreet.Class.Base.prototype.addEvents,n.setVars=FXStreet.Class.Base.prototype.setVars,n};FXStreet.Class.Base.prototype.init=function(n){this.setSettingsByObject(n)};FXStreet.Class.Base.prototype.setSettingsByObject=function(n){for(var t in n)n.hasOwnProperty(t)&&this[t]!==undefined&&(this[t]=n[t])};FXStreet.Class.Base.prototype.addEvents=function(){};FXStreet.Class.Base.prototype.setVars=function(){}}(),function(){FXStreet.Class.BrokerCallMe=function(){var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r),t,i;return n.BrokerId="",n.Container=null,n.CallMeBtn=null,n.FirstSlide=null,n.SecondSlide=null,n.FirstSlideNextBtn=null,n.SecondSlideCallMeBtn=null,n.FullNameInput=null,n.CountrySelect=null,n.PhoneCodeInput=null,n.PhoneInput=null,n.ErrorDiv=null,n.ErrorDivLabel=null,n.SuccessDiv=null,n.SuccessDivLabel=null,n.ReCaptchaDiv=null,n.ErrorMessageFullNameNotValid="",n.ErrorMessagePhoneNumberNotValid="",n.CallMeData={},n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();i()},n.setVars=function(){n.Container=$("#"+n.BrokerId);n.CallMeBtn=n.Container.find(".fxs_btn_content_toggle_collapse");n.FirstSlide=n.Container.find(".fxs_contact_broker_slide").eq(0);n.SecondSlide=n.Container.find(".fxs_contact_broker_slide").eq(1);n.FirstSlideNextBtn=n.FirstSlide.find("button");n.SecondSlideCallMeBtn=n.SecondSlide.find("button");n.FullNameInput=n.Container.find("#fullname-"+n.BrokerId);n.CountrySelect=n.Container.find("#select-"+n.BrokerId);n.PhoneCodeInput=n.Container.find("#phone-code-"+n.BrokerId);n.PhoneInput=n.Container.find("#phone-"+n.BrokerId);n.ErrorDiv=n.Container.find("#error-"+n.BrokerId);n.ErrorDivLabel=n.ErrorDiv.find("p");n.SuccessDiv=n.Container.find("#success-"+n.BrokerId);n.SuccessDivLabel=n.SuccessDiv.find("span");n.ReCaptchaDiv=n.Container.find("#recaptcha-"+n.BrokerId);$('[data-toggle="tooltip"]').tooltip();n.CallMeBtn.addClass("collapsed");var t=FXStreet.Resource.Translations.Sidebar_FilterAndList;n.ErrorMessageFullNameNotValid=t.CallMeFormErrorEnterValidFullName;n.ErrorMessagePhoneNumberNotValid=t.CallMeFormErrorEnterValidPhoneNumber;n.ErrorMessageInvalidCaptcha=t.ErrorCaptchaAlert;n.resetData();n.countrySelectChange()},n.addEvents=function(){n.CallMeBtn.click(n.callMeBtnClick);n.FirstSlideNextBtn.click(n.firstSlideBtnClick);n.SecondSlideCallMeBtn.click(n.secondSlideBtnClick);n.CountrySelect.change(n.countrySelectChange)},n.callMeBtnClick=function(){n.FirstSlide.addClass("active");n.SecondSlide.removeClass("active");t()},t=function(){n.Recaptcha.Execute()},n.firstSlideBtnClick=function(){n.hideErrorMessage();var t=n.FullNameInput.val();if(!n.validateFullName(t)){n.showErrorMessage(n.ErrorMessageFullNameNotValid);return}n.CallMeData.UserName=t;n.FirstSlide.removeClass("active");n.SecondSlide.addClass("active")},n.secondSlideBtnClick=function(){if(n.hideErrorMessage(),!n.Recaptcha.GetResponse()){n.showErrorMessage(n.ErrorMessageInvalidCaptcha);return}var t=n.PhoneInput.val();if(!n.validatePhoneNumber(t)){n.showErrorMessage(n.ErrorMessagePhoneNumberNotValid);return}n.CallMeData.PhoneNumber=t;n.CallMeData.PhoneCode=n.PhoneCodeInput.text();n.CallMeData.CountryName=n.CountrySelect.find("option:selected").text();n.postData()},n.countrySelectChange=function(){var t="(+"+n.CountrySelect.find("option:selected").val()+")";n.PhoneCodeInput.text(t)},i=function(){var t={ContainerId:"recaptcha-"+n.BrokerId,Config:{Callback:n.recaptchaCallback}};n.Recaptcha=new FXStreet.Class.Recaptcha;n.Recaptcha.init(t)},n.recaptchaCallback=function(){n.SecondSlideCallMeBtn.prop("disabled",!1)},n.postData=function(){$.ajax({type:"POST",url:FXStreet.Resource.FxsApiRoutes.BrokerCallMe,data:JSON.stringify(n.CallMeData),contentType:"application/json; charset=utf-8",dataType:"json"}).done(n.postDataSuccess).error(n.postDataError)},n.postDataSuccess=function(){n.push();n.resetData();n.CallMeBtn.hide();n.showSuccess();n.Recaptcha.Reset()},n.push=function(){var t=FXStreet.Class.Patterns.Singleton.TagManager.Instance();t.PushToEventhub(n.CallMeData,"BrokerCallMe")},n.postDataError=function(t,i){var r="";r=t.status===0?"Not connect.\n Verify Network.":t.status==404?"Requested page not found. [404]":t.status==500?"Internal Server Error [500].":i==="parsererror"?"Requested JSON parse failed.":i==="timeout"?"Time out error.":i==="abort"?"Ajax request aborted.":"Uncaught Error.\n"+t.responseText;n.showErrorMessage(r)},n.resetData=function(){n.CallMeData={Culture:FXStreet.Resource.CultureName,BrokerId:n.BrokerId,UserName:"",CountryName:"",PhoneCode:"",PhoneNumber:""};n.FirstSlide.removeClass("active");n.SecondSlide.removeClass("active");n.FullNameInput.val("");n.hideErrorMessage();n.hideSuccess()},n.validateFullName=function(n){return/^[a-z ,.'-]+$/i.test(n)},n.validatePhoneNumber=function(n){return n.match("[0-9-()s]+")},n.showErrorMessage=function(t){n.ErrorDiv.show();n.ErrorDivLabel.text(t)},n.hideErrorMessage=function(){n.ErrorDiv.hide();n.ErrorDivLabel.text("")},n.showSuccess=function(){n.SuccessDiv.show()},n.hideSuccess=function(){n.SuccessDiv.hide()},n}}(),function(){FXStreet.Class.BrokerDetails=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Broker=null,n.Pairs=[],n.SpreadsHtmlTemplateFile="",n.SpreadsContainerId="",n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=$("#"+n.Broker.Id);n.SpreadsContainerId="fxs-spreads-"+n.Broker.Id},n.render=function(){n.Broker.NotAllowedInSession?n.disableLinks():n.initBrokersSpreads();n.initBrokerCallMe()},n.disableLinks=function(){var t=n.Container.find("a");$.each(t,function(n,t){$(t).attr("href","");$(t).click(function(){return!1})})},n.initBrokersSpreads=function(){var t={ContainerId:n.SpreadsContainerId,Brokers:[{MyFxBookSpreadServer:n.Broker.MyFxBookSpreadServer}],Pairs:n.Pairs,HtmlTemplateFile:n.SpreadsHtmlTemplateFile},i=new FXStreet.Class.BrokersSpreads;i.init(t)},n.initBrokerCallMe=function(){var t={BrokerId:n.Broker.Id},i=new FXStreet.Class.BrokerCallMe;i.init(t)},n}}(),function(){FXStreet.Class.BrokersList=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Container=null,n.BrokersTable=null,n.SpreadsElements=[],n.LowerPriceClass="fxs_widget_spreads_item_lower",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.InitMyFxBookHandler()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.BrokersTable=n.Container.find("table");n.SpreadsElements=n.BrokersTable.find("td[fxs_spreadserver]")},n.InitMyFxBookHandler=function(){for(var r,u,t={SpreadServer:[],Symbols:[],GetSpreadsIntervalInMilliseconds:1500,GetSpreadsDelegated:n.SpreadsRecieved},i=0;i<n.SpreadsElements.length;i++)r=$(n.SpreadsElements[i]),t.SpreadServer.push(r.attr("fxs_spreadserver")),t.Symbols.push(r.attr("fxs_spreadid"));u=FXStreet.Class.MyFxBookHandler();u.init(t)},n.SpreadsRecieved=function(t){var i=t.split(";");i.forEach(function(t){for(var t,r,u,f=t.split(","),o=f[0],s=f[1],h=f[2],i=null,e=0;e<n.SpreadsElements.length;e++)if(t=$(n.SpreadsElements[e]),t.attr("fxs_spreadid")===s){if(r=t.find("span"),t.attr("fxs_spreadserver")===o&&r.html(h),r.removeClass(n.LowerPriceClass),u=r.html(),u===""||u==="N/A"){r.html("N/A");continue}(i===null||u==Math.min(u,i.find("span").html()))&&(i=t)}i!==null&&i.find("span").addClass(n.LowerPriceClass)})},n}}(),function(){FXStreet.Class.BrokersSpreads=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Brokers=[],n.Pairs=[],n.SitefinitySpreadsPageUrl="",n.ShowAllSpreadsButton=!1,n.HtmlTemplateFile="",n.Container=null,n.BrokersTable=null,n.LowerPriceClass="fxs_widget_spreads_item_lower",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.render=function(){var t={Value:{Brokers:n.Brokers,Pairs:n.Pairs,SitefinitySpreadsPageUrl:n.SitefinitySpreadsPageUrl,ShowAllSpreadsButton:n.ShowAllSpreadsButton,SingleMyFxBookSpreadServer:n.Brokers[0].MyFxBookSpreadServer},Translations:FXStreet.Resource.Translations.BrokersSpreads_Widget,ColumnsNumber:3+n.Pairs.length};n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var f=FXStreet.Util.renderByHtmlTemplate(i,t),r,u;n.Container.html(f);n.BrokersTable=n.Container.find("table");r={SpreadServer:$.map(n.Brokers,function(n){return n.MyFxBookSpreadServer}),Symbols:$.map(n.Pairs,function(n){return n.MyFxBookSpreadId}),GetSpreadsIntervalInMilliseconds:1500,GetSpreadsDelegated:n.SpreadsRecieved};u=FXStreet.Class.MyFxBookHandler();u.init(r);n.SetTooltip()})},n.SetTooltip=function(){$('[data-toggle="tooltip"]').tooltip();$("tr").tooltip({trigger:"click"})},n.SpreadsRecieved=function(t){var i=t.split(";");i.forEach(function(t){var i=t.split(","),r=i[0],u=i[1],f=i[2],e=n.BrokersTable.find('td[fxs_spreadserver="'+r+'"][fxs_spreadid="'+u+'"] span[fxs_content="spreadPrice"]');e.text(f)});n.Pairs.forEach(function(t){var r=n.BrokersTable.find('td[fxs_spreadid="'+t.MyFxBookSpreadId+'"] span[fxs_content="spreadPrice"]'),u=r.filter(function(n,t){var i=$(t).text();return i===""||i==="N/A"}),i;$.each(u,function(n,t){$(t).html("N/A")});i=r.not(u);i.removeClass(n.LowerPriceClass);var f=$.map(i,function(n){return $(n).text()}),e=Math.min.apply(Math,f),o=i.filter(function(n,t){return $(t).text()==e});o.addClass(n.LowerPriceClass)})},n}}(),function(){FXStreet.Class.Cag=function(){var f=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(f);n.ContainerId="";n.ContentId="";n.MarketToolsWebApiBaseUrl="";n.Asset="";n.PairName="";n.PriceProviderCode="";n.DecimalPlaces=null;n.Date="";n.Translations={};n.BigChartUrl=null;n.AssetUrl=null;n.JsonData={};var i=!1,r=!1,u=!1;n.TrendCssClasess={StronglyBearish:"fxs_txt_danger",Bearish:"fxs_txt_danger",Neutral:"fxs_txt_neutral",Bullish:"fxs_txt_success",SlightlyBullish:"fxs_txt_success"};n.ObOsCssClasess={Oversold:"fxs_txt_warning",Neutral:"fxs_txt_neutral",Overbought:"fxs_txt_warning"};n.VolatilityCssClasess={Expanding:"fxs_txt_neutral",High:"fxs_txt_warning",Low:"fxs_txt_warning",Shrinking:"fxs_txt_neutral"};n.Container=null;n.HtmlTemplateFile=function(){return"cagwidget_default.html"};n.init=function(i){n.setSettingsByObject(i);n.setVars();t();o();s();h()};n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.ContentId=FXStreet.Util.guid();n.JsonData.ContentId=n.ContentId;n.JsonData.Asset=n.Asset;n.JsonData.PairName=n.PairName;n.JsonData.Translations=n.Translations};var t=function(){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile()).done(function(t){var f=FXStreet.Util.renderByHtmlTemplate(t,n.JsonData);n.Container.html(f);(i||r||u)&&e();FXStreet.Util.SetTooltip()})},e=function(){c();l()},o=function(){$.get(n.MarketToolsWebApiBaseUrl+"/v1/"+FXStreet.Resource.CultureName+"/pivotPoints/study/"+n.Asset).then(function(n){i=!0;a(n);t()},function(){i=!0;t()})},s=function(){return $.get(n.MarketToolsWebApiBaseUrl+"/v1/"+FXStreet.Resource.CultureName+"/sentiment/study/"+n.Asset).then(function(n){r=!0;v(n);t()},function(){r=!0;t()})},h=function(){return $.get(n.MarketToolsWebApiBaseUrl+"/v1/"+FXStreet.Resource.CultureName+"/forecast/study/?assetids="+n.Asset).then(function(n){u=!0;y(n);t()},function(){u=!0;t()})},c=function(){var t={PairName:n.PairName,PriceProviderCode:n.PriceProviderCode,WidgetType:"fxs_widget_cag",ContainerId:"fxs_chart_"+n.ContentId,BigChartUrl:n.BigChartUrl.toLowerCase(),DisplayRSI:!1,DisplaySMA:!1,DisplayBigChartUrl:!1,TouchAvailable:!1,ExternalUrl:n.BigChartUrl.toLowerCase()};n.SingleChartManagerObj=new FXStreet.Class.SingleChartManager;n.SingleChartManagerObj.init(t)},l=function(){var t={};t.Value={AssetId:n.Asset,Title:n.PairName,PriceProviderCode:n.PriceProviderCode,DecimalPlaces:n.DecimalPlaces,SEO:{FullUrl:n.AssetUrl}};t.Translations=n.Translations;n.RateManagerObj=new FXStreet.Class.SingleRateManager;n.RateManagerObj.init({ContainerId:"fxs_ratedata_"+n.ContentId,Data:t,HtmlTemplateFile:"ratesandcharts_header.html",RenderAtInit:!0,MustSubscribeAtInit:!0})},a=function(t){var i=t.Values[0];n.JsonData.PivotPoints={R1:i.R1,R2:i.R2,R3:i.R3,S1:i.S1,S2:i.S2,S3:i.S3,PP:i.PivotPoint}},v=function(t){for(var e,r=t.Values,u=[],f={},i=0;i<r.length;i++)e=Math.floor(Math.random()*100+1),f[i]={Type:r[i].Type,TrendIndex:r[i].Trend,TrendIndex_class:n.TrendCssClasess[r[i].Trend],Obos:r[i].ObOs,Obos_Class:n.ObOsCssClasess[r[i].ObOs],Volatility:r[i].Volatility,Volatility_Class:n.VolatilityCssClasess[r[i].Volatility],Id:"Tab"+r[i].Type+r[i].Asset.Id+e,Class:i==0?"active":""},u[i]=f[i];n.JsonData.Sentiment=u;n.JsonData.Date=FXStreet.Util.dateToDayAndTimeString(r[0].Date.Value)},y=function(t){t.Values&&t.Values[0].WeekStatics&&(n.JsonData.ForecastBias=t.Values[0].WeekStatics.Bias,n.JsonData.ForecastBiasClass=n.TrendCssClasess[t.Values[0].WeekStatics.Bias])};return n}}(),function(){FXStreet.Class.CalendarSubscriber=function(){var o=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(o);n.ContainerId="";n.Translations=[];var u=null,t=null,i=!1,r=null,f=null;n.init=function(t){n.setSettingsByObject(t);n.ContainerId="fxst-calendar-filter-dateshortcuts";s()};n.setVars=function(){c();v()};var s=function(){f=setInterval(h,100)},h=function(){t=$("#"+n.ContainerId);t!==null&&t&&t.length>0&&(clearInterval(f),n.setVars())},c=function(){u=FXStreet.Util.getObjectInstance("Sound")},l=function(){$(document).on("actualreceived","#fxst_grid",e)},a=function(){$(document).unbind("actualreceived",e)},e=function(){u.playSound()},v=function(){var i=$("<a />",{href:"javascript:;",click:y,"class":"fxs_notify_btn"}),u=$("<span />",{text:n.Translations.Notifications+" "});i.append(u);r=$("<i />",{"class":"fa fa-volume-off"});i.append(r);t.append(i)},y=function(){i=!i;i?l():a();p()},p=function(){r.toggleClass("fa-volume-off fa-volume-up")};return n}}(),function(){FXStreet.Class.ExportCalendar=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.FilterDivId="",n.GridDivId="",n.MessagesContentId="",n.UserIsLogged=!1,n.Translations=null,n.Container=null,n.Filter=null,n.Grid=null,n.MessagesContent=null,n.Template=null,n.HtmlTemplateFile="exportcalendar.html",n.Message_HtmlTemplateFile="exportcalendar_alert.html",n.MessageHtml="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Filter=FXStreet.Util.getjQueryObjectById(n.FilterDivId);n.Grid=FXStreet.Util.getjQueryObjectById(n.GridDivId);n.MessagesContent=FXStreet.Util.getjQueryObjectById(n.MessagesContentId);n.Template=FXStreet.Util.getObjectInstance("TemplateBase");FXStreet.Util.loadHtmlTemplate(n.Message_HtmlTemplateFile).done(function(t){n.MessageHtml=FXStreet.Util.renderByHtmlTemplate(t,n.Translations.AlertTranslations)})},n.render=function(){var t=JSON.parse(n.Translations);n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.append(r);n.onRendered()})},n.onRendered=function(){if(!n.UserIsLogged){n.Container.find("a").on("click",n.NotifyLoginRequired);return}n.Container.find("a[fxs_csv]").on("click",n.ExportAsCsv);n.Container.find("a[fxs_ics]").on("click",n.DownloadIcs)},n.NotifyLoginRequired=function(t){t.preventDefault();n.MessagesContent.html(n.MessageHtml);n.MessagesContent.find("[fxs_button_login]").on("click",n.OpenLogin);n.MessagesContent.find("[fxs_button_join]").on("click",n.OpenJoinUs)},n.OpenLogin=function(t){t.preventDefault();n.Template.SidebarRight_ShowButton_Click("login")},n.OpenJoinUs=function(t){t.preventDefault();n.Template.SidebarRight_ShowButton_Click("signup")},n.ExportAsCsv=function(t){t.preventDefault();n.Grid.trigger("exportcsv")},n.DownloadIcs=function(t){t.preventDefault();n.Grid.trigger("downloadics")},n}}(),function(){FXStreet.Class.CompanyDetailManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Company={},n.Translations={},n.HtmlTemplateFile="companydetails_default.html",n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.render=function(){var t={Value:n.Company,Translations:n.Translations};FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.loadHtmlTemplateSuccessComplete(n.Company)})},n.loadHtmlTemplateSuccessComplete=function(t){n.initSocialMediaWidget(t);n.initFilteredPostsWidget(t)},n.initSocialMediaWidget=function(n){var t={ContainerId:"fxs_socialmedia_bar_"+n.Id,SocialMediaBarData:n.SocialMedias};FXStreet.Util.createObject("SocialMediaBarProfile",t)},n.initFilteredPostsWidget=function(n){var t={ContainerId:"fxs_filtered_posts_"+n.Id,CompanyId:n.Id,Take:10};FXStreet.Util.createObject("FilteredPostsManager",t)},n}}(),function(){FXStreet.Class.CookiesAlert=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Title="",n.Message="",n.IsModal=!1,n.Container=null,n.CookieKey="CookiesPolicyAccepted",n.HtmlTemplateFile=function(){return n.IsModal?"cookiesalert_modal.html":"cookiesalert_default.html"},n.CloseButtonId="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.CloseButtonId=FXStreet.Util.guid()},n.render=function(){if($.cookie(n.CookieKey)!==undefined){n.Container.hide();return}n.Container.addClass("fxs_global_alert fxs_alertCookies fxs_alertTitle_dissmisible fxs_alert_info alert alert-dismissible fade in");var t={Title:n.Title,Message:n.Message,CloseButtonId:n.CloseButtonId};n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile()).done(function(i){var u=FXStreet.Util.renderByHtmlTemplate(i,t),r;n.Container.html(u);r=FXStreet.Util.getjQueryObjectById(n.CloseButtonId);r.on("click",n.onCloseButtonClick)})},n.onCloseButtonClick=function(){var t=new Date;t.setFullYear(t.getFullYear()+2);$.cookie(n.CookieKey,"",{path:"/",expires:t})},n}}(),function(){FXStreet.Class.Patterns.Singleton.FxsCookiesManager=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.UpdateCookie=function(t,i,r,u){n.DeleteCookie(t);n.SaveCookie(t,i,r,u)},n.SaveCookie=function(n,t,i,r){r=r||"/";$.cookie(n,t,{path:r,expires:i})},n.DeleteCookie=function(n){$.cookie(n,null,{path:"/"});$.removeCookie(n,{path:"/"})},n.GetCookieValue=function(n){return $.cookie(n)},n.ExistCookie=function(n){var t=$.cookie(n);return t!=undefined},n};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){window.FXSEventManager={};var n=function(n,t,i){var r="",u=function(i){var f=n+t+"/messages?timeout=60&api-version=2014-01",u=new XMLHttpRequest;u.open("POST",f,!0);u.setRequestHeader("Content-Type","application/atom+xml;type=entry;charset=utf-8");u.setRequestHeader("Authorization",r);u.send(i)},f=function(n){var f=new XMLHttpRequest;f.onreadystatechange=function(){f.readyState==4&&f.status==200&&(r=JSON.parse(f.responseText),r!=""&&r&&u(n))};f.open("GET",i+t,!0);f.send(null)};this.Send=function(n){r==""?f(n):u(n)}};window.FXSEventManager.GetInstance=function(t,i,r){return new n(t,i,r)}}(),function(){FXStreet.Class.EventManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Take=0,n.HtmlTemplateFile="eventList.html",n.Url="",n.Translations={},n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.callEventsApi()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Url=FXStreet.Resource.FxsApiRoutes.EventsGetItems},n.callEventsApi=function(){var t={Take:n.Take,CultureName:FXStreet.Resource.CultureName};$.ajax({type:"GET",url:n.Url,data:t,contentType:"application/json; charset=utf-8",dataType:"json"}).done(n.searchSuccess)},n.searchSuccess=function(t){var i={Value:t,Translations:n.Translations};FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.Container.html(r);n.loadHtmlTemplateSuccessComplete()})},n.loadHtmlTemplateSuccessComplete=function(){},n}}(),function(){FXStreet.Class.FilteredPostsManager=function(){var o=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(o);n.ContainerId="";n.Take=0;n.AuthorId="";n.CompanyId="";n.CategoryId="";n.HtmlTemplateFile="filteredpostslist.html";n.LoadMoreButtonId="loadMoreBtn";n.Container=null;n.LoadMoreButton=null;var i="",s="innerfilteredpostlist.html",h="innerfilteredeventlist.html",t={},r=null,u=$('<div class="fxs_preload_modules fxs_marginAuto"/>');n.init=function(t){n.setSettingsByObject(t);n.setVars();c().done(l)};n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);i=FXStreet.Resource.FxsApiRoutes.FilteredPostsGetItems;t={News:{LoadMoreUrl:FXStreet.Resource.FxsApiRoutes.FilteredNewsGetItems},Analysis:{LoadMoreUrl:FXStreet.Resource.FxsApiRoutes.FilteredAnalysisGetItems},Videos:{LoadMoreUrl:FXStreet.Resource.FxsApiRoutes.FilteredVideosGetItems},Education:{LoadMoreUrl:FXStreet.Resource.FxsApiRoutes.FilteredEducationGetItems},LiveShows:{LoadMoreUrl:FXStreet.Resource.FxsApiRoutes.FilteredLiveShowsGetItems}}};var c=function(){return FXStreet.Util.loadHtmlTemplate(s).done(function(n){return t.News.InnerHtmlTemplate=n,t.Analysis.InnerHtmlTemplate=n,t.Videos.InnerHtmlTemplate=n,t.Education.InnerHtmlTemplate=n,FXStreet.Util.loadHtmlTemplate(h).done(function(n){t.LiveShows.InnerHtmlTemplate=n})})},f=function(t){return{Take:n.Take,AuthorId:n.AuthorId,CompanyId:n.CompanyId,CategoryId:n.CategoryId,CultureName:FXStreet.Resource.CultureName,Page:t,contenttype:1}},l=function(){$.ajax({type:"GET",url:i,data:f(),contentType:"application/json; charset=utf-8",dataType:"json"}).done(p)},e=function(n){var i=FXStreet.Util.getjQueryObjectById(n),t=i.find("a[ct]");t.attr("disabled","disabled");t.addClass("disabled");t.off("click");t.text(r.NoMoreContent)},a=function(i,r,f){var s=FXStreet.Util.getjQueryObjectById(i),o=t[i],h=FXStreet.Util.renderByHtmlTemplate(o.InnerHtmlTemplate,r),c=$(h).find("li");s.find("aside ol").append(c);o.Page++;f.show();u.remove();r.Value.length<n.Take&&e(i)},v=function(){var n=$(this),i=n.attr("ct"),r=t[i].Page+1,e=t[i].LoadMoreUrl;return n.hide(),n.after(u),$.ajax({type:"GET",url:e,data:f(r),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){a(i,t,n)}),!1},y=function(i){function u(){var t=n.Container.find('.fxs_tabs_nav a[data-toggle="tab"]').first();t.click()}function f(){n.LoadMoreButton=n.Container.find('div[role="tabpanel"]>a[ct]');n.LoadMoreButton.click(v)}function o(){var r=$('div[role="tabpanel"]>aside');r.each(function(r,u){var f=$(u).attr("ct"),o=t[f],s={Value:i.Value[f]},h=FXStreet.Util.renderByHtmlTemplate(o.InnerHtmlTemplate,s);$(u).replaceWith($(h));o.Page=1;i.Value[f].length<n.Take&&e(f)})}r=i.Translations;o();f();u()},p=function(t){var i={Value:w(t),Translations:t.Translations};FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.Container.html(r);y(i)})},w=function(n){var t=n;return t.HasAnalysis=n.Analysis.length>0,t.HasEducation=n.Education.length>0,t.HasNews=n.News.length>0,t.HasVideos=n.Videos.length>0,t.HasLiveShows=n.LiveShows.length>0,t};return n}}(),function(){FXStreet.Class.ForecastPagination=function(){var f=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(f);n.ContainerId="";n.PageUrl="";n.Translations={};n.Date=null;n.Body=null;n.HtmlTemplateFile="forecast_pagination.html";n.Container=null;n.ContainerForecastWidget=null;n.ContainerForecastContributorWidget=null;n.init=function(t){n.setSettingsByObject(t);n.setVars();e()};n.setVars=function(){n.Body=$("body");n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Date=c()};var e=function(){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,{Translations:n.Translations});n.Container.html(i);o()})},o=function(){n.Container.find(".fxs_fLeft").on("click",s);n.Container.find(".fxs_fRight").on("click",h);n.ContainerForecastWidget=n.Body.find("[fxs_name='forecast']");n.ContainerForecastContributorWidget=n.Body.find("[fxs_name='forecastcontributors']")},t=function(){var t=u();n.ContainerForecastWidget.attr("fxs_date",t);n.ContainerForecastContributorWidget.attr("fxs_date",t);FXStreetWidgets.Deferred.deferredLoad(n.Body)},s=function(){i(-7);r();t()},h=function(){i(7);r();t()},i=function(t){n.Date.setDate(n.Date.getDate()+t)},r=function(){var t=u(),i="forecast_"+t,r=n.PageUrl+"?date="+t;FXStreet.Util.updateUrl(i,document.title,r)},u=function(){return FXStreet.Util.dateToIsoString(n.Date)+" "+FXStreet.Util.dateToTimeString(n.Date)},c=function(){var n=new Date,t=FXStreet.Util.getQueryStringValue("date");return t!=null&&(n=FXStreet.Util.dateStringToDateUTC(t.replace("%20"," "))),n};return n}}(),function(){FXStreet.Class.GlobalAlert=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Title="",n.Message="",n.IsModal=!1,n.GlobalAlertKey="GlobalAlertRemainHide",n.Container=null,n.HtmlTemplateFile=function(){return n.IsModal?"globalalert_modal.html":"globalalert_default.html"},n.CloseButtonId="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.CloseButtonId=FXStreet.Util.guid()},n.render=function(){if($.cookie(n.GlobalAlertKey)!==undefined){n.Container.hide();return}n.Container.addClass("fxs_global_alert fxs_alert_featured alert alert-dismissible fade in");var t={Title:n.Title,Message:n.Message,CloseButtonId:n.CloseButtonId};n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile()).done(function(i){var u=FXStreet.Util.renderByHtmlTemplate(i,t),r;n.Container.html(u);r=FXStreet.Util.getjQueryObjectById(n.CloseButtonId);r.on("click",n.onCloseButtonClick)})},n.onCloseButtonClick=function(){var t=new Date;t.setDate(t.getDate()+1);$.cookie(n.GlobalAlertKey,"",{path:"/",expires:t})},n}}(),function(){FXStreet.Class.GoogleDriveManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.GoogleDriveUrl=null,n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){},n.AddData=function(t,i){$.ajax({type:"PUT",url:n.GoogleDriveUrl,data:JSON.stringify(t),contentType:"application/json; charset=utf-8"}).done(i)},n.SavePlayEvent=function(t,i){if(FXStreet.Resource.UserInfo.Email){var r={Content:n.GetContent(t)};n.AddData(r,i)}},n.GetContent=function(n){var t=(new Date).toUTCString();return n.Title+"|"+FXStreet.Resource.UserInfo.Email+"|"+FXStreet.Resource.UserInfo.FirstName+"|"+FXStreet.Resource.UserInfo.Phone+"|"+(n.Contact===!0?"CONTACT":"NOTCONTACT")+"|"+n.Origin+"|"+t},n}}(),function(){FXStreet.Class.InfiniteScroll=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);n.IsLoading=!1;n.ScrollingContent=null;n.LoadFollowingDelegatePromise=null;n.LoadPreviousDelegatePromise=null;n.ScrollingElement=null;n.LoadingMoreId="";n.LastScroll=0;n.Initialized=!1;n.Scrolling=!1;n.NotMoreContent=!1;n.LoadingMore=null;n.AvoidScroll=!1;n.endOfList=!1;n.actionBottomToPx=100;n.MoveUpDirection=!1;n.ScrollActionDelegatePromise_ObserverSubject=null;n.init=function(t){n.setSettingsByObject(t);n.setVars();n.InitPaginator()};n.setVars=function(){n.LoadingMore=FXStreet.Util.getjQueryObjectById(n.LoadingMoreId);n.LoadingMore!==null?n.LoadingMore.show():null;n.ScrollActionDelegatePromise_ObserverSubject=new FXStreet.Class.Patterns.Observer.Subject};var i=function(){n.IsLoading=!0;n.MoveUpDirection=!1;n.LoadFollowingDelegatePromise().then(function(){n.IsLoading=!1})},r=function(){n.IsLoading=!0;n.MoveUpDirection=!0;n.LoadPreviousDelegatePromise().then(function(){n.IsLoading=!1})},u=function(){n.ScrollActionDelegatePromise_ObserverSubject.notify()};return n.InitPaginator=function(){n.ScrollingContent.on("scroll",n.ScrollAction)},n.ScrollAction=function(){if(n.MoveUpDirection=!1,!n.IsLoading&&!n.AvoidScroll){var t=n.getScrollPosition();(n.MoveUpDirection=t<=n.LastScroll,n.LastScroll=t,u(),n.NotMoreContent)||(t===0&&n.LoadPreviousDelegatePromise!==null?r():n.ScrollIsOnBottomZone()&&i())}},n.ScrollIsOnBottomZone=function(){var t=n.getScrollPosition();return t>=-n.actionBottomToPx+(n.ScrollingElement.height()-n.ScrollingContent.height())},n.ScrollIsOnTop=function(){var t=n.getScrollPosition();return t===0},n.ScrollIsOnBottom=function(){var t=n.getScrollPosition();return t>=n.ScrollingElement.height()-n.ScrollingContent.height()},n.getScrollPosition=function(){return n.ScrollingContent.scrollTop()},n.moveToPosition=function(t){n.ScrollingContent.scrollTop(t)},n.MoveScroll=function(t){var i=n.getScrollPosition();n.moveToPosition(i+t)},n.animateToPosition=function(t){n.ScrollingContent.stop();n.ScrollingContent.animate({scrollTop:t},1e3)},n.endedList=function(){n.endOfList=!0;n.LoadingMore.hide()},n.setAvoidScroll=function(t){n.AvoidScroll=t},n.whenScroll=function(t){var i=null,r;return typeof t=="function"?(r={UpdateDelegate:t},i=new FXStreet.Class.Patterns.Observer.Observer,i.init(r),n.ScrollActionDelegatePromise_ObserverSubject.addObserver(i)):console.error("The functionDelegate provided is not a function"),i},n.unsubscribeScroll=function(t){var i=n.ScrollActionDelegatePromise_ObserverSubject.observers,r=i.indexOf(t);r>-1&&i.removeAt(r)},n};FXStreet.Class.InfiniteScrollPage=function(){var t=FXStreet.Class.InfiniteScroll(),n=FXStreet.Util.extendObject(t);return n.LoadContentDelegatePromise_ObserverSubject=null,n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars()},n.setVars=function(){t.setVars();n.LoadContentDelegatePromise_ObserverSubject=new FXStreet.Class.Patterns.Observer.Subject},n.whenLoadContent=function(t){if(t!==undefined&&t!==null){var r={UpdateDelegate:t},i=new FXStreet.Class.Patterns.Observer.Observer;i.init(r);n.LoadContentDelegatePromise_ObserverSubject.addObserver(i)}},t.LoadFollowingDelegatePromise=function(){return $.when(n.LoadContentDelegatePromise_ObserverSubject.notify())},t.LoadPreviousDelegatePromise=function(){return $.when(n.LoadContentDelegatePromise_ObserverSubject.notify())},n}}(),function(){FXStreet.Class.LandingPremiumConversion=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Model={},n.HtmlTemplateFile="landing_premium_conversion.html",n.HtmlTemplateFilePriceTablelogin="price_table_login.html",n.HtmlTemplateFilePriceTable="price_table.html",n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.render()},n.setVars=function(t){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Model={Subscription:t.Subscription,UserInfo:t.UserInfo,Translations:t.Translations}},n.render=function(){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,n.Model);n.Container.html(i);n.Model.UserInfo.IsLogged?FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFilePriceTable).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,n.Model);n.Container.find(".fxs_row").html(i)}):(FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFilePriceTablelogin).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,n.Model);n.Container.find(".fxs_row").html(i)}),n.addEvents())})},n.addEvents=function(){var u="fxs_button_month_1",f="fxs_button_month_3",e="fxs_button_month_12",r=FXStreet.Util.getjQueryObjectById(u,!1),t=FXStreet.Util.getjQueryObjectById(f,!1),i=FXStreet.Util.getjQueryObjectById(e,!1),r=FXStreet.Util.getjQueryObjectById(u,!1);if(r!=null&&r.length>0)r.on("click",n.showRightSideBar);if(t=FXStreet.Util.getjQueryObjectById(f,!1),t!=null&&t.length>0)t.on("click",n.showRightSideBar);if(i=FXStreet.Util.getjQueryObjectById(e,!1),i!=null&&i.length>0)i.on("click",n.showRightSideBar)},n.showRightSideBar=function(){var n=FXStreet.Util.getObjectInstance("UserMenu");n!=null&&n.Login()},n}}(),function(){FXStreet.Class.LiveEventManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Event={},n.EventId="",n.ContainerId="",n.ContainerId="",n.EventUrl="",n.BackgroundVideo="Live2.mp4",n.HtmlTemplateFile="live_event_default.html",n.HtmlTemplateFilePriceTable="price_table.html",n.Translations=null,n.UserInfo=null,n.Subscription=null,n.Following=!1,n.counterTemplate='<span><span class="fxs_widget_custom_data_lable">{0} :<\/span>days<\/span><span><span class="fxs_widget_custom_data_lable">{1} :<\/span>hours<\/span><span><span class="fxs_widget_custom_data_lable">{2} :<\/span>min<\/span><span><span class="fxs_widget_custom_data_lable">{3}<\/span>sec<\/span>',n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render()},n.setVars=function(){n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1));(n.EventId==undefined||n.EventId==="")&&(n.EventId=n.Event.Id,n.EventUrl=n.Event.Url);n.counterTemplate=n.counterTemplate.replace("days",n.Translations.Days).replace("hours",n.Translations.Hours).replace("min",n.Translations.Minutes).replace("sec",n.Translations.Seconds)},n.render=function(){var t=n.getJsonForRenderHtml();n.htmlRender(t)},n.htmlRender=function(t){n.Container!=null&&(n.Following=n.getInitialFollowingValue(),FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);t.Event.PremiumView&&FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFilePriceTable).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.find(".fxs_row").append(r)});n.addDOMEvents();n.Following&&n.changeSubscribeButtonClass()}))},n.getInitialFollowingValue=function(){var t=!1,i;return n.UserInfo.Personalization&&(i=$.grep(n.UserInfo.Personalization.EventsFollowing,function(t){return t.PostId===n.EventId}),i.length>0&&(t=!0)),t},n.addDOMEvents=function(){n.Container!=null&&(n.initCountDown(n.Container),n.addLoginEvent(),n.addSubscriptionEvent())},n.initCountDown=function(t){var i=t.find("[countdown-date]"),r=FXStreet.Util.dateStringToDateUTC(n.Event.StartDateUtc);i.countdown(r).on("update.countdown",function(t){$(this).html(t.strftime(n.counterTemplate.replace("{0}","%D").replace("{1}","%H").replace("{2}","%M").replace("{3}","%S")))}).on("finish.countdown",function(){var r=$(this).html(n.counterTemplate.replace("{0}","00").replace("{1}","00").replace("{2}","00").replace("{3}","00")),f=new Date(n.Event.StartDateUtc),u,t,i;u=n.Event.EndDateUtc?new Date(n.Event.EndDateUtc):new Date;t=new Date;i=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());i>=f&&i<=u?r.closest(".fxs_live_event_module").addClass("on_air"):r.closest(".fxs_live_event_module").addClass("finished_event")})},n.getJsonForRenderHtml=function(){var t=n.getEventData();return{Translations:n.Translations,UserInfo:n.UserInfo,Subscription:n.Subscription,Event:t,BackgroundVideoSrc:FXStreet.Resource.StaticContentVideo+n.BackgroundVideo}},n.addLoginEvent=function(){var i=FXStreet.Util.getObjectInstance("UserMenu"),r,t;i!=null&&(r="fxs_cta_login_"+n.EventId,t=FXStreet.Util.getjQueryObjectById(r,!1),t!=null&&t.length>0&&i!=null&&t.click(function(){i.Login()}))},n.addSubscriptionEvent=function(){var i="fxs_cta_subscribe_"+n.EventId,t=FXStreet.Util.getjQueryObjectById(i,!1);if(t!=null&&t.length>0&&!n.Following)t.on("click",n.pushSubscription)},n.pushSubscription=function(){var t,i,r;if(n.UserInfo.IsLogged)i={PostId:n.EventId},r=FXStreet.Class.Patterns.Singleton.TagManager.Instance(),r.PushToEventhub(i,"EventFollow"),n.changeSubscribeButtonClass();else{if(t=FXStreet.Util.getObjectInstance("UserMenu"),t==null)return;t.Login()}},n.changeSubscribeButtonClass=function(){var t="fxs_cta_subscribe_"+n.EventId,i=FXStreet.Util.getjQueryObjectById(t,!1);i.addClass("active")},n.getEventData=function(){return n.Event},n}}(),function(){FXStreet.Class.Login=function(){function t(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i);return n.ContainerId="",n.Container=null,n.HtmlTemplateFile="login.html",n.SignupPasswordEyeId="signupPasswordEyeId",n.FxsUserErrorClass="fxs_user_field_error",n.UsernameLoginTextboxId="",n.PasswordLoginTextboxId="",n.UsernameLoginTextbox=null,n.PasswordLoginTextbox=null,n.SignupPasswordEye=null,n.UserContainer=null,n.PasswordContainer=null,n.LoginUrl=FXStreet.Resource.FxsApiRoutes.LoginUrl,n.Form=null,n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.render(t)},n.addEvents=function(){$(n.SignupPasswordEye).click(function(){$(n.SignupPasswordEye).toggleClass("active");var t="type",i="password";$(n.PasswordLoginTextbox).attr(t)===i?$(n.PasswordLoginTextbox).attr(t,"text"):$(n.PasswordLoginTextbox).attr(t,i)})},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.UsernameLoginTextboxId="fxs_login_username_"+n.ContainerId;n.PasswordLoginTextboxId="fxs_login_password_"+n.ContainerId;n.FormLoginId="fxs_login_form_"+n.ContainerId;n.UserContainerId="fxs_username_container_"+n.ContainerId;n.PasswordContainerId="fxs_password_container_"+n.ContainerId},n.render=function(t){n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){t.LoginUrl=n.LoginUrl;var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.Container.find(".fxs_close").on("click",function(){n.Container.hide()});n.UsernameLoginTextbox=FXStreet.Util.getjQueryObjectById(n.UsernameLoginTextboxId);n.PasswordLoginTextbox=FXStreet.Util.getjQueryObjectById(n.PasswordLoginTextboxId);n.UserContainer=FXStreet.Util.getjQueryObjectById(n.UserContainerId);n.PasswordContainer=FXStreet.Util.getjQueryObjectById(n.PasswordContainerId);n.Form=FXStreet.Util.getjQueryObjectById(n.FormLoginId);n.Form.validate({invalidHandler:n.InvalidForm,errorPlacement:function(){}});n.SignupPasswordEye=FXStreet.Util.getjQueryObjectById(n.SignupPasswordEyeId);n.addEvents();n.loadData()})},n.loadData=function(){var i=t("username"),r;i&&n.UsernameLoginTextbox.val(i);r=t("error");r&&($(n.UserContainer).addClass(n.FxsUserErrorClass),$(n.PasswordContainer).addClass(n.FxsUserErrorClass))},n.SubmitForm=function(){n.Form.submit()},n}}(),function(){FXStreet.Class.ManageSubscription=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.UserPersonalization={},n.Translations={},n.HtmlTemplateFile="manage_subscriptions.html",n.Container=null,n.NewsletterSubscriber=null,n.ActiveClass="active",n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.render(t)},n.setVars=function(t){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);t.AuthorsActiveClass=t.AuthorsActive?n.ActiveClass:"";t.NewslettersActiveClass=t.NewslettersActive?n.ActiveClass:""},n.render=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.addEvents()})},n.addEvents=function(){var t,i;$("[subscription-tab]").on("click",n.selectTab);n.initSubscribeToNewsletter();FXStreet.Resource.UserId=n.UserPersonalization.UserId;t=n.UserPersonalization.Authors;t.forEach(function(t){n.initAuthorFollowController(t.Author)});i=n.UserPersonalization.SuggestedAuthors;i.forEach(function(t){n.initAuthorFollowController(t.Author)});n.UserPersonalization.UserEmail||n.addLoginEvent()},n.addLoginEvent=function(){var i=FXStreet.Util.getObjectInstance("UserMenu"),r,t;i!=null&&(r="fxs_cta_login_"+n.ContainerId,t=FXStreet.Util.getjQueryObjectById(r,!1),t!=null&&t.length>0&&t.click(function(){i.Login()}))},n.CheckSelectedNewsleters=function(){return n.NewsletterSubscriber.NewsletterFollow=[],n.NewsletterSubscriber.NewsletterUnfollow=[],n.Container.find("input:checkbox[name=newsletters]").each(function(){$(this).is(":checked")?n.NewsletterSubscriber.NewsletterFollow.push($(this).attr("value")):n.NewsletterSubscriber.NewsletterUnfollow.push($(this).attr("value"))}),!0},n.ShowSuccessMessage=function(){$("#success_message_"+n.ContainerId).show().delay(5e3).hide(0)},n.initAuthorFollowController=function(t){var i={UserInfo:{Email:n.UserPersonalization.UserEmail,IsLogged:!0,Personalization:n.UserPersonalization},Author:t,FollowButtonId:"fxs_cta_authorfollow_"+t.Id},r=new FXStreet.Class.AuthorFollow;r.init(i)},n.initSubscribeToNewsletter=function(){var t={WidgetType:"fxs_widget_tab",Email:n.UserPersonalization.UserEmail,CountryCode:n.UserPersonalization.CountryCode,Newsletters:n.UserPersonalization.Newsletters,ContainerId:"newsletters_"+n.ContainerId,EmailPlaceholderText:n.Translations.EmailPlaceholderText,SubscribeButtonText:n.Translations.ButtonUpdate,CongratsAlertLabel:n.Translations.CongratsAlertLabel,CongratsAlertText:n.Translations.CongratsAlertText,ErrorAlertLabel:n.Translations.ErrorAlertLabel,ErrorAlertText:n.Translations.ErrorAlertText,ErrorAlertLabel:n.Translations.ErrorAlertLabel,ErrorCaptchaAlertText:n.Translations.ErrorCaptchaAlertText};n.SubscribeToNewsletter=new FXStreet.Class.SubscribeToNewsletter;n.SubscribeToNewsletter.init(t)},n.selectTab=function(t){var i=$(t.target),r=i.data("tabselector");return i.parent().addClass(n.ActiveClass).siblings().removeClass(n.ActiveClass),$(r).show().siblings().hide(),!1},n}}(),function(){FXStreet.Class.MarketingLeadsManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.MarketingLeadsRecorderUrl=null,n.MarketingLeadsReaderUrl=null,n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){},n.AddData=function(t,i){$.ajax({type:"POST",url:n.MarketingLeadsRecorderUrl,data:JSON.stringify(t),contentType:"application/json"}).done(i)},n.GetData=function(t,i){$.ajax({type:"GET",url:n.MarketingLeadsReaderUrl,contentType:"application/json"}).done(i)},n.SavePlayEvent=function(t,i){if(FXStreet.Resource.UserInfo.Email){var r=n.GetContent(t);n.AddData(r,i)}},n.GetContent=function(n){var t=(new Date).toUTCString();return{Title:n.Title,Email:FXStreet.Resource.UserInfo.Email,FirstName:FXStreet.Resource.UserInfo.FirstName,Contact:n.Contact,Phone:FXStreet.Resource.UserInfo.Phone,Origin:n.Origin,Date:t}},n}}(),function(){FXStreet.Class.Menu=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.VerticalMenuId="",n.HorizontalMenuId="",n.VerticalMenu=null,n.HorizontalMenu=null,n.responsiveDesignObj=null,n.HideElementClass="fxs_hideElements",n.SectionEntrySelector="a[fxs-desktop-menu-entry]",n.ItemEntrySelector="a[fxs-desktop-menu-item-entry]",n.MouseOverClass="fxs_item_active",n.ActiveMenuEntryClass="active",n.SectionSelector="[fxs-section-entry]",n.DesktopMatchSize="(min-width: 780px)",n.MenuBarSelector="#fxs_nav_position",n.LogoSelector="#fxs_logo_reduced",n.HeaderSelector=".fxs_header",n.PositionFixedClass="fxs_positionFixed",n.WallpaperSelector=".fxs_wallpaper_wrap",n.SideBarSelector=".fxs_listView",n.MobileMenuContainerSelector="#cbp-spmenu-s1",n.MobileMenuBlockClass="fxs_dBlock",n.MobileMenuCloseClass="fa-times",n.MobileMenuOpenClass="fa-bars",n.MobileMenuButtonSelector="#fxs_showLeftPush",n.MobileMenuPushToRight="cbp-spmenu-push-toright",n.HeaderScrolledClass="fxs_header_scrolled",t=1024,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.setActiveSection()},n.setVars=function(){n.VerticalMenu=FXStreet.Util.getjQueryObjectById(n.VerticalMenuId);n.HorizontalMenu=FXStreet.Util.getjQueryObjectById(n.HorizontalMenuId)},n.addEvents=function(){n.responsiveDesignObj=FXStreet.Util.getObjectInstance("ResponsiveDesign");n.responsiveDesignObj&&(n.responsiveDesignObj.whenWindowDecreaseToSize(function(){n.toggleMenu(!1)},t),n.responsiveDesignObj.whenWindowIncreaseToSize(function(){n.toggleMenu(!0)},t));FXStreet.Util.isMobileDevice()?n.mobileMenuEvents():n.loadScrollEvents()},n.toggleMenu=function(t){n.VerticalMenu.toggleClass(n.HideElementClass,t);n.HorizontalMenu.toggleClass(n.HideElementClass,!t);t?(n.MobileMenuActions(!1),n.setMouseEvents(),n.loadScrollEvents()):n.mobileMenuEvents()},n.setActiveSection=function(){var r=$(n.SectionEntrySelector),i,t;r&&($(r).removeClass(n.ActiveMenuEntryClass),i=window.location.pathname,t=n.matchSectionUrl(i)||n.matchItemUrl(i),t&&t.length!==0)&&$(t).addClass(n.ActiveMenuEntryClass)},n.matchSectionUrl=function(t){var i=null,r=$(n.SectionEntrySelector);return(r.each(function(r,u){var f=$(u).attr("href");if(n.isHomePath(f)){if(t==f)return i=u,!1}else if(t.indexOf(f)===0)return i=u,!1}),!i||i.length===0)?i:i=$(i).parents(n.SectionSelector)},n.isHomePath=function(n){return n==="/"},n.matchItemUrl=function(t){var i=$(n.ItemEntrySelector+'[href="'+t+'"]');return!i||i.length===0?null:$(i).parents(n.SectionSelector)},n.loadScrollEvents=function(){$(window).scroll(function(){n.scrollActions()})},n.scrollActions=function(){var u=window.matchMedia(n.DesktopMatchSize),i=$(n.MenuBarSelector),f=$(n.LogoSelector),e=$(n.HeaderSelector),r=$("body"),t=$(".fxs_wallpaper_wrap");u.matches?$(window).scrollTop()>80?(r.addClass(n.HeaderScrolledClass),i.addClass(n.PositionFixedClass),t.removeClass(n.HeaderScrolledClass)):$(window).scrollTop()>1?t.addClass(n.HeaderScrolledClass):(i.removeClass(n.PositionFixedClass),r.removeClass(n.HeaderScrolledClass),t.removeClass(n.HeaderScrolledClass)):(e.css("position","fixed"),f.addClass(n.HideElementClass))},n.mobileMenuEvents=function(){$(n.MobileMenuButtonSelector).off("click").on("click",function(){var t=$(n.MobileMenuContainerSelector).hasClass(n.MobileMenuBlockClass);n.MobileMenuActions(!t)})},n.MobileMenuActions=function(t){var i=$(n.MobileMenuContainerSelector),r=$(n.MobileMenuButtonSelector).find("i"),u=$("body");t?(i.addClass(n.MobileMenuBlockClass),r.removeClass(n.MobileMenuOpenClass).addClass(n.MobileMenuCloseClass),$(u).addClass(n.MobileMenuPushToRight)):(i.removeClass(n.MobileMenuBlockClass),r.removeClass(n.MobileMenuCloseClass).addClass(n.MobileMenuOpenClass),$(u).removeClass(n.MobileMenuPushToRight))},n}}(),function(){FXStreet.Class.Modal=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.IsEditorMode="",n.ShowModal=!0,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents()},n.setVars=function(){n.ShowModal=n.IsEditorMode.toLowerCase()!=="true"},n.addEvents=function(){var t,i;if(n.ShowModal){$(".modal").modal("show");$(".modal").on("hidden.bs.modal",function(){document.referrer&&window.location.assign(document.referrer)})}t=$("div .fxs_modal_add.fxs_leaderboard");t.html().trim()||t.hide();i=FXStreet.Util.parseUrl(document.referrer);i&&i.host===window.location.host||($(".fxs_modal_wrap > button").hide(),$(".fxs_modal_wrap").off("click"))},n}}(),function(){FXStreet.Class.MultiAssetsFilter=function(){var f=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(f),i,t;n.SelectedAssetsId="";n.ApplyFilterId="";n.DefaultAssets={};n.ClearFilterId="";n.AdvancedFilterId="";n.CloseAdvancedFilterId="";n.AssetsAddedId="";n.FilterSectionId="";n.FindBy_Options=[];n.OptionSelectedDelegate=null;n.GetAssetsUserSettingDelegate=null;n.TypeaheadJsonInitialization={};n.Translations={};n.SelectedAssetsContainer=null;n.ApplyFilter=null;n.AdvancedFilter=null;n.CloseAdvancedFilter=null;n.FilterSection=null;n.AssetsAddedContainer=null;n.PreSelectedAssets={};n.SelectedAssets={};n.IsOpened=!1;i=null;t=null;n.init=function(t){n.setSettingsByObject(t);n.SetVarsEvents()};n.SetVarsEvents=function(){n.setVars();n.addEvents();s()};n.setVars=function(){n.SelectedAssetsContainer=FXStreet.Util.getjQueryObjectById(n.SelectedAssetsId,!1);n.ApplyFilter=FXStreet.Util.getjQueryObjectById(n.ApplyFilterId,!1);n.ClearFilter=FXStreet.Util.getjQueryObjectById(n.ClearFilterId,!1);n.AdvancedFilter=FXStreet.Util.getjQueryObjectById(n.AdvancedFilterId,!1);n.CloseAdvancedFilter=FXStreet.Util.getjQueryObjectById(n.CloseAdvancedFilterId,!1);n.FilterSection=FXStreet.Util.getjQueryObjectById(n.FilterSectionId,!1);n.AssetsAddedContainer=FXStreet.Util.getjQueryObjectById(n.AssetsAddedId,!1);n.SelectedAssets=n.GetAssetsUserSettingDelegate()};n.addEvents=function(){n.ApplyFilter.click(n.applyFilterOnClick);n.ClearFilter.click(n.cancelFilterOnClick);n.AdvancedFilter.click(n.customFilterOnClick);n.CloseAdvancedFilter.click(n.applyNoneFilterOnClick)};var r=function(){var t,i,r;n.SelectedAssetsContainer.html("");for(t in n.PreSelectedAssets)n.PreSelectedAssets.hasOwnProperty(t)&&(i=n.PreSelectedAssets[t],r=e(i),n.SelectedAssetsContainer.append(r));u(n.PreSelectedAssets)},e=function(n){var i=$("<i>").addClass("fa fa-minus-circle").attr("aria-hidden","true"),r=$("<div>").html(n.display),t=$("<li>").append(r).append(i);return t.click(function(){o(n,t)}),t},o=function(t,i){delete n.PreSelectedAssets[t.id];i.remove();u(n.PreSelectedAssets)},u=function(t){var i=Object.keys(t).length,r=n.Translations.AssetCounterNumber.replace("{0}",i);$(".fxs_assets_number").html(r)};n.applyFilterOnClick=function(){n.showAssetsChangedMessage();n.SelectedAssets=$.extend(!0,{},n.PreSelectedAssets);n.OptionSelectedDelegate(n.SelectedAssets);n.toggleFilterVisibility(!1)};n.cancelFilterOnClick=function(){n.toggleFilterVisibility(!1)};n.customFilterOnClick=function(){t.TypeaheadInput["0"].value="";n.SelectedAssets=n.GetAssetsUserSettingDelegate();n.PreSelectedAssets={};(!n.SelectedAssets||Object.keys(n.SelectedAssets).length===0&&Object.keys(n.DefaultAssets).length>0)&&(n.SelectedAssets=$.extend(!0,{},n.DefaultAssets));n.PreSelectedAssets=$.extend(!0,{},n.SelectedAssets);n.toggleFilterVisibility(!0);r()};n.applyNoneFilterOnClick=function(){n.showCustomSettingsRemovedMessage();n.SelectedAssets={};n.OptionSelectedDelegate(n.SelectedAssets);n.toggleFilterVisibility(!1)};n.showAssetsChangedMessage=function(){n.AssetsAddedContainer[0].textContent=n.Translations.FilterAssetsAdded;n.AssetsAddedContainer.show().delay(2e3).fadeOut()};n.showCustomSettingsRemovedMessage=function(){n.AssetsAddedContainer[0].textContent=n.Translations.CustomAssetsRemoved;n.AssetsAddedContainer.show().delay(2e3).fadeOut()};n.toggleFilterVisibility=function(t){n.AdvancedFilter.toggle(!t);n.CloseAdvancedFilter.toggle(t);n.FilterSection.toggleClass("active",t);$(".fxs_listView_blockWrapper").toggleClass("fxs_blur_effect",t);n.IsOpened=t};var s=function(){n.TypeaheadJsonInitialization.FindBy_Options=n.FindBy_Options;n.TypeaheadJsonInitialization.CloseDelegated=h;n.TypeaheadJsonInitialization.OnLayoutBuiltBeforeDelegate=c;n.TypeaheadJsonInitialization.OnClickBeforeDelegate=a;t=new FXStreet.Class.Sidebar.Typeahead;t.init(n.TypeaheadJsonInitialization)},h=function(){},c=function(n,t,r,u){return i=t,$("#typeaheadTarget").html(i),u!=null&&u.children().length>=1&&!u.children().first().hasClass("typeahead__empty")&&u.children().each(function(n,t){l($(t).find("a"))}),u},l=function(t){var i=$("<span>").attr("aria-hidden","true").addClass("fa"),u="fa-plus-circle",r,f;if(n.PreSelectedAssets!==null)for(r in n.PreSelectedAssets)if(n.PreSelectedAssets.hasOwnProperty(r)&&(f=n.PreSelectedAssets[r],f.display===t.text())){u="fa-check";break}i.addClass(u);t.append(i);t.click(function(){i.toggleClass("fa-plus-circle fa-check")})},a=function(t,i,u,f){return f.preventDefault(),n.PreSelectedAssets[u.id]?delete n.PreSelectedAssets[u.id]:n.PreSelectedAssets[u.id]=u,r(),!0};return n};FXStreet.Class.SideBarMultiassetFilter=function(){var t=FXStreet.Class.MultiAssetsFilter(),n=FXStreet.Util.extendObject(t),o,s,h,c,u,e;n.FilterStateLabelId="";var r=null,f="",i={Default:1,Opened:2,Customized:3,Canceled:4};return n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars()},n.setVars=function(){r=FXStreet.Util.getjQueryObjectById(n.FilterStateLabelId,!1);r!=null&&(f=r[0].textContent)},o=t.applyFilterOnClick,t.applyFilterOnClick=function(){o();u(i.Customized)},s=t.cancelFilterOnClick,t.cancelFilterOnClick=function(){s();u(i.Canceled)},h=t.customFilterOnClick,t.customFilterOnClick=function(){h();u(i.Opened)},c=t.applyNoneFilterOnClick,t.applyNoneFilterOnClick=function(){c();u(i.Default)},u=function(t){var u="";switch(t){case i.Customized:u=n.Translations.Filter_Customized;f=u;break;case i.Opened:u=n.Translations.Filter_Opened;break;case i.Canceled:u=f;u===n.Translations.Assets&&(u+=" "+e());break;case i.Default:default:u=n.Translations.Assets+" "+e();f=u}r!=null&&(r[0].innerHTML=u,FXStreet.Util.SetTooltip())},e=function(){return'<i class="fa fa-info-circle" data-toggle="tooltip" data-placement="bottom" title="{0}" data-original-title="{1}"><\/i>'.replace("{0}",n.Translations.Filter_Description).replace("{1}",n.Translations.Filter_Description)},n};FXStreet.Class.RatesFilter=function(){var t=FXStreet.Class.MultiAssetsFilter(),n=FXStreet.Util.extendObject(t),o,e,u;n.ModalContainerId="";n.PopupContainerId="";n.PopupApplyId="";n.PopupCancelId="";n.FilterStateLabelId="";n.DefaultWidgetTitle="";n.ModalContainer=null;n.PopupContainer=null;n.PopupApply=null;n.PopupCancel=null;var f=null,s="",i={Default:1,Customized:2};n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars();n.addEvents()};n.setVars=function(){n.ModalContainer=FXStreet.Util.getjQueryObjectById(n.ModalContainerId,!1);n.PopupContainer=FXStreet.Util.getjQueryObjectById(n.PopupContainerId,!1);n.PopupApply=FXStreet.Util.getjQueryObjectById(n.PopupApplyId,!1);n.PopupCancel=FXStreet.Util.getjQueryObjectById(n.PopupCancelId,!1);f=FXStreet.Util.getjQueryObjectById(n.FilterStateLabelId,!1);Object.keys(n.SelectedAssets).length>0&&r(i.Customized)};n.addEvents=function(){n.PopupApply.click(c);n.PopupCancel.click(l)};o=t.applyFilterOnClick;t.applyFilterOnClick=function(){o();r(i.Customized)};e=t.applyNoneFilterOnClick;t.applyNoneFilterOnClick=function(){h()?u(!0):(e(),r(i.Default))};var r=function(t){var r="";switch(t){case i.Customized:r=n.Translations.Filter_Customized;s=r;break;case i.Default:default:r=n.DefaultWidgetTitle}f!=null&&(f[0].textContent=r)},h=function(){var t=FXStreet.Util.haveSameProperties(n.SelectedAssets,n.DefaultAssets);return!t},c=function(){u(!1);r(i.Default);e()},l=function(){u(!1)};return t.toggleFilterVisibility=function(t){n.FilterSection.toggleClass("fxs_hideElements",!t);n.IsOpened=t},u=function(t){n.ModalContainer.toggleClass("fxs_hideElements",t);n.PopupContainer.toggleClass("fxs_hideElements",!t)},n}}(),function(){FXStreet.Class.MyFxBookHandler=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.GetSpreadsDelegated=null,n.GetSpreadsIntervalInMilliseconds=0,n.SpreadServer=[],n.Symbols=[],n.MyFxBookApiUrl="https://spreads.myfxbook.com/api/get-spreads.html",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.PollSpreads()},n.setVars=function(){n.SpreadServer=t()},n.PollSpreads=function(){if(!n.SpreadServer.join(",")||n.SpreadServer.length===0){n.ExecuteDelegate("");console.warn("The spread brokers has a wrong configuration");return}return $.ajax({type:"GET",dataType:"jsonp",url:n.CreateUrl(),success:n.ExecuteDelegate,error:n.PollSpreadsFailed,complete:n.PollSpreadsFinally})},t=function(){return $.grep(n.SpreadServer,function(n){return n!==-1})},n.ExecuteDelegate=function(t){typeof n.GetSpreadsDelegated=="function"&&n.GetSpreadsDelegated(t)},n.PollSpreadsFailed=function(){console.warn("Error getting spreads")},n.PollSpreadsFinally=function(){n.GetSpreadsIntervalInMilliseconds>0&&setTimeout(n.PollSpreads,n.GetSpreadsIntervalInMilliseconds)},n.CreateUrl=function(){var t=n.MyFxBookApiUrl+"?";return t+="mt4Servers="+n.SpreadServer.join(",")+"&",t+="symbols="+n.Symbols.join(",")+"&",t.slice(0,-1)},n}}(),function(){FXStreet.Class.OnAirEventManager=function(){var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e),t,i,u,r,f;return n.ContainerId="",n.Event=null,n.Text="",n.AutoPlay=!1,n.Translations=null,n.UserInfo=null,n.Subscription=null,n.BackgroundVideo="",n.BackgroundVideoSrc="",n.HtmlTemplateFile="onair_event_default.html",n.HtmlTemplateFilePriceTable="price_table.html",n.GoogleDriveMgr={},n.MarketingLeadsManagerManager={},n.CtaContactChkId="",n.CtaEnterId="",n.CtaLoginId="",n.ShowVideoCurtainId="",n.ShowVideoButtonId="",n.VideoContainerId="",t=null,i=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render(t);n.AutoPlay&&!n.Event.RegistrationRequired&&n.SendPlayEvent()},n.setVars=function(){n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1));n.BackgroundVideoSrc=FXStreet.Resource.StaticContentVideo+n.BackgroundVideo;n.GoogleDriveMgr=FXStreet.Util.getObjectInstance("GoogleDriveManager");n.MarketingLeadsManagerManager=FXStreet.Util.getObjectInstance("MarketingLeadsManager");n.CtaContactChkId="accept_contact_chk_on_air";n.CtaEnterId="fxs_cta_enter_"+n.Event.Id;n.CtaLoginId="fxs_cta_login_"+n.Event.Id;n.ShowVideoCurtainId="fxs_live_event_marketing_"+n.Event.Id;n.ShowVideoButtonId="fxs_cta_show_video_"+n.Event.Id;n.VideoContainerId="fxs_live_event_video_container_"+n.Event.Id},n.render=function(t){n.Container!=null&&FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);t.Event.PremiumView&&FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFilePriceTable).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.find(".fxs_row").append(r)});n.addDOMEvents(t)})},n.addDOMEvents=function(){n.Container!=null&&(n.addLoginEvent(),n.addCTAEvents(),n.addShowVideoEvents())},n.addLoginEvent=function(){var i=FXStreet.Util.getObjectInstance("UserMenu"),t;i!=null&&(t=FXStreet.Util.getjQueryObjectById(n.CtaLoginId,!1),t!=null&&t.length>0&&t.click(function(){i.Login()}))},n.addShowVideoEvents=function(){if(n.Event.PublicView&&n.Event.RegistrationRequired){t=FXStreet.Util.getjQueryObjectById(n.ShowVideoCurtainId,!1);i=FXStreet.Util.getjQueryObjectById(n.VideoContainerId,!1);var r=FXStreet.Util.getjQueryObjectById(n.ShowVideoButtonId,!1);r.on("click",u)}},u=function(){t.addClass("fxs_hideElements");i.removeClass("fxs_hideElements");r()},n.addCTAEvents=function(){var i=FXStreet.Util.getjQueryObjectById(n.CtaEnterId,!1),t;if(i!=null&&i.length>0)i.on("click",n.enterEventClick);if(t=FXStreet.Util.getjQueryObjectById(n.CtaContactChkId,!1),t!=null&&t.length>0)t.on("change",n.contactAcceptChange)},n.enterEventClick=function(){r();window.open(n.Event.EventUrl,"_blank")},n.pushSuccess=function(){},n.contactAcceptChange=function(){var n=this.checked,t=FXStreet.Class.Patterns.Singleton.FxsSessionStorageManager.Instance();t.Save(FXStreet.Util.FxsSessionStorage.AcceptContactOnAir,n)},r=function(){var t={Title:n.Event.Title,Origin:"on-air",Contact:f()};n.GoogleDriveMgr.SavePlayEvent(t,n.pushSuccess);n.MarketingLeadsManagerManager.SavePlayEvent(t,n.pushSuccess)},f=function(){var t="accept_contact_chk_on_air_"+n.Event.Id,i=FXStreet.Util.getjQueryObjectById(t,!1);return i.val()==="on"},n}}(),function(){FXStreet.Class.PostBaseList=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Category="",n.Take=0,n.Translations=null,n.HtmlTemplateFile=function(){throw new Error("Abstract method!");},n.Url=function(){throw new Error("Abstract method!");},n.Container=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.callNewsApi()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Take=+n.Take},n.callNewsApi=function(){var t={CategoryId:[n.Category],Take:n.Take,CultureName:FXStreet.Resource.CultureName,Page:1,contenttype:1};$.ajax({type:"GET",url:n.Url(),data:t,contentType:"application/json; charset=utf-8",dataType:"json"}).done(n.searchSuccess)},n.searchSuccess=function(t){var i={Posts:t,Translations:n.Translations};FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile()).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.Container.html(r);n.loadHtmlTemplateSuccessComplete()})},n.loadHtmlTemplateSuccessComplete=function(){},n};FXStreet.Class.NewsList=function(){var n=FXStreet.Class.PostBaseList(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile=function(){return"newslist.html"},n.Url=function(){return FXStreet.Resource.FxsApiRoutes.NewsItemGetItems},t};FXStreet.Class.AnalysisList=function(){var n=FXStreet.Class.PostBaseList(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile=function(){return"analysislist.html"},n.Url=function(){return FXStreet.Resource.FxsApiRoutes.AnalysisItemGetItems},t};FXStreet.Class.EducationList=function(){var n=FXStreet.Class.PostBaseList(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile=function(){return"educationlist.html"},n.Url=function(){return FXStreet.Resource.FxsApiRoutes.EducationItemGetItems},t};FXStreet.Class.VideosList=function(){var n=FXStreet.Class.PostBaseList(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile=function(){return"videoslist.html"},n.Url=function(){return FXStreet.Resource.FxsApiRoutes.VideoGetItems},t}}(),function(){FXStreet.Class.PostNotifications=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;n.HttpPushServerUrl="";n.HttpPushServerKeysUrl="";n.ContentType="";n.PushNotificationChannel="";n.PostCreated_ObserverSubject=null;t=function(n){setTimeout(function(){try{n()}catch(t){console.log("cannot stablish connection")}},2e3)};n.init=function(i){n.setSettingsByObject(i);r();t(u)};n.registerObserver=function(t){if(t!==undefined&&t!==null){var r={UpdateDelegate:t},i=new FXStreet.Class.Patterns.Observer.Observer;i.init(r);n.PostCreated_ObserverSubject.addObserver(i)}};var r=function(){n.PostCreated_ObserverSubject=new FXStreet.Class.Patterns.Observer.Subject},u=function(){var t=FXStreetPush.PushNotification.getInstance({culture:FXStreet.Resource.CultureName,tokenUrl:n.HttpPushServerKeysUrl,httpPushServerUrl:n.HttpPushServerUrl});t.postSubscribe([n.PushNotificationChannel],f)},f=function(t){var r=t!==null&&t!==undefined&&FXStreet.Resource.CultureName===t.Language.CultureName&&FXStreet.Util.ContentTypeMapping[t.ContentTypeId].FxsContentType===n.ContentType,i;r&&(i=e(t),n.PostCreated_ObserverSubject.notify(i))},e=function(n){var t=FXStreet.Resource.Translations.Sidebar_FilterAndList.MinutesAgo,i=o(new Date(n.PublicationDate)),r={IsPushNotifed:!0,PublicationDateDisplay:i.toString().concat(t),Author:{ImageResponse:n.Author.Image}};return $.extend(!0,r,n)},o=function(n){var t=Math.floor((new Date-n)/1e3);return Math.floor(t/60)};return n}}(),function(){FXStreet.Class.Patterns.Singleton.PushTT=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var c=FXStreet.Class.Base(),i=FXStreet.Util.extendObject(c),t=[],l=FXStreet.Resource.TeletraderSecurityUrl,n=null,r=[];i.init=function(n){i.setSettingsByObject(n);a()};var a=function(){u(v)},u=function(n){$.ajax({type:"GET",url:l}).done(function(t){n(t.Token)})},v=function(t){var f=FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance(),s=f.GetTTTimeZoneValue(),i;if(n=new FXStreet.ExternalLib.Teletrader.Push({token:t,tokenCallback:u}),n.SetOptions({pushurl:FXStreet.Resource.DataProviderUrl,symbolfids:o(),timeZone:s}),n.addEventListener("status",function(n){var t=n}),r.length>0){for(n.startBatch(),i=0;i<r.length;i++)e([r[i]]);n.endBatch();r=[]}};i.Subscribe=function(t,i,u){for(var h,s=[],o=0;o<t.length;o++)h=y(t[o],u),p(h,i),h.lastValue!==null?i($.extend({},h.lastValue)):s.push(h);if(s.length>0&&f())n.startBatch(),e(s),n.endBatch();else for(o=0;o<s.length;o++)r.push(s[o])};var f=function(){return n!==null},y=function(n,i){var r={},u=$.grep(t,function(t){return t.symbolId===n}),f;return u.length>0?r=u[0]:(f=w(i),r={symbolId:n,callbacks:[],pushType:f,elementType:i,lastValue:null},t.push(r)),r},p=function(n,t){var i=$.grep(n.callbacks,function(n){return n===t});i.length===0&&n.callbacks.push(t)},w=function(n){return n==="fxs_widget_full"||n==="fxs_widget_bigToolbar"?"Everything":"Snapshot"};i.Unsubscribe=function(i,r){for(var u,s,e=[],o=0;o<i.length;o++)u=t.findFirst(function(n){return n.symbolId===i[o]}),u&&(s=$.grep(u.callbacks,function(n){return n!==r}),s.length===0?(t=$.grep(t,function(n){return n!==u}),e.push(u)):u.callbacks=s);e.length>0&&f()&&(n.startBatch(),b(e),n.endBatch())};var b=function(t){for(var r=[],i=0;i<t.length;i++)t[i]!==undefined&&t[i].symbolId!==undefined&&r.push(s(t[i].symbolId));n.unsubscribe([{symbolID:r,callback:h}])},e=function(t){var r,i;if(t.length!=0){for(r=[],i=0;i<t.length;i++)t[i]!==undefined&&t[i].symbolId!==undefined&&r.push(s(t[i].symbolId));n.subscribe([{symbolID:r,callback:h,filterFields:{FIDs:o(t[0]),SymbolSnapshot:k(t[0]),PushType:t[0].pushType}}])}},o=function(n){return n&&n.pushType==="Everything"?["last","dateTime","tradeVolume"]:["high","open","bid","ask","last","low","change","changePercent","dateTime","volume","tradeVolume"]},k=function(n){return n.pushType!=="Everything"},s=function(n){return n.match("cc{(.*)}")?n:n.substring(4)},h=function(n){for(var r=g(n),u=$.grep(t,function(n){return n.symbolId===r.symbolId}),i=0;i<u.length;i++)d(u[i],r)},d=function(n,t){nt(n,t);for(var i=0;i<n.callbacks.length;i++)n.callbacks[i]($.extend({},n.lastValue))},g=function(n){var i=function(){if(n.data.dateTime){var f=n.data.dateTime,u=f.split(" "),e=u[0],o=u[1],i=e.split("."),s=i[0],h=i[1]-1,c=i[2],r=o.split(":"),l=r[0],a=r[1],v=r[2],y=new Date(c,h,s,l,a,v);t.dateTime=y}},r=function(){var i=n.data.bar?n.data.bar:n.data;i.volume&&(t.volume=i.volume);i.close&&(t.close=i.close);i.open&&(t.open=i.open);i.low&&(t.low=i.low);i.high&&(t.high=i.high)},u=function(){n.data.last&&(t.last=n.data.last);n.data.bid&&(t.bid=n.data.bid);n.data.ask&&(t.ask=n.data.ask);n.data.change&&(t.change=n.data.change);n.data.changePercent&&(t.changePercent=n.data.changePercent);n.data.tradeVolume&&(t.tradeVolume=n.data.tradeVolume)},t={symbolId:"tts-"+n.data.symbolId};return r(),u(),i(),t},nt=function(n,t){n.lastValue||(n.lastValue={});$.each(t,function(t,i){n.lastValue[t]=i})};return i};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){FXStreet.Class.Quote=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ItemUrl="",n.Url=FXStreet.Resource.FxsApiRoutes.AnalysisItemGetItemByUrl,n.HtmlTemplate="quote.html",n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.generateHtml=function(t){n.callPostApi().done(function(i){n.htmlRender(i,t)})},n.callPostApi=function(){var t=n.ItemUrl.trim().toLowerCase(),i,r;if(t.indexOf("://")>-1)for(i=0;i<2;i++)t=t.substring(t.indexOf("/")+1,t.length);for(i=0;i<2;i++)t=t.substring(t.indexOf("/")+1,t.length);return r={Url:t,Culture:FXStreet.Resource.CultureName},$.ajax({type:"GET",url:n.Url,data:r,contentType:"application/json; charset=utf-8",dataType:"json"})},n.htmlRender=function(t,i){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplate).done(function(n){var r=FXStreet.Util.renderByHtmlTemplate(n,t);i(r)})},n}}(),function(){FXStreet.Class.Patterns.Singleton.LoadAssets=function(){var n,t=function(){var n,t,i="/api/assetapi/getassets";this.getAssets=function(){return n?$.when(n):(t||(t=$.ajax({type:"GET",url:FXStreet.Util.createUrl(i),cache:!0}).then(function(i){return n=i,t=null,n})),t)}};return{getInstance:function(){return n||(n=new t),n}}}();FXStreet.Class.RateMapper=function(){var h=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(h);n.PairName="";n.PriceProviderCode="";n.DecimalPlaces=4;n.LastPrice=null;n.LastBid=null;n.LastAsk=null;n.LastClose=null;const u="price_up",f="price_down",c="up",l="down",a="fxs_chg_up",v="fxs_chg_down";n.createJsonFromMsg=function(s){var h=s.bid?s.bid:s.last,c=s.ask?s.ask:s.last,l={Study:{PairName:n.PairName,PriceProviderCode:n.PriceProviderCode,PriceStatics:{Volume:s.volume,Open:t(s.open),Close:t(s.close),High:t(s.high),Low:t(s.low),Last:s.last,Bid:s.bid,Ask:s.ask,BidAsk:null,Change:s.change,BidBigFigure:e(h),BidSmallFigure:o(h),AskBigFigure:e(c),AskSmallFigure:o(c),ChangePercent:r(s.changePercent),ChangePercentWithSymbol:p(s.changePercent),ChangePercentDisplay:w(s.changePercent),ChangePercentClass:s.changePercent>0?a:v,LastClass:i(n.LastPrice,s.last),BidClass:i(n.LastBid,s.bid),AskClass:i(n.LastAsk,s.ask),PriceClass:s.changePercent>0?u:f,ChangeTendencyClass:b(s.last)}}};return y(l.Study.PriceStatics,h),n.LastPrice=s.last,n.LastBid=s.bid,n.LastAsk=s.ask,n.LastClose=s.close,l};var i=function(n,t){if(n&&t)return parseFloat(t)>parseFloat(n)?u:f},y=function(n,t){var i=n.BidBigFigure!=null?n.BidBigFigure.length:0,r=n.BidSmallFigure!=null?n.BidSmallFigure.length:0,u=i+r;n.BidAsk=t.substring(0,t.length-u)},e=function(n){var t=n.length,i;return s(n)&&(t=t-1),i=Math.min(t,2),n.substring(t-i,t)},o=function(n){var t=null;return s(n)&&(t=n.substring(n.length-1,n.length)),t},s=function(n){return n.length>3},r=function(n){if(n)return Math.round(n*100)/100},p=function(n){var t=r(n);if(t!==undefined)return t+"%"},w=function(n){var t=r(n);if(t!==undefined)return"("+t+"%)"},b=function(t){var i="";return n.LastPrice!==null&&n.LastPrice!==""&&t!==""&&n.LastPrice!==t&&(i=parseFloat(n.LastPrice)>parseFloat(t)?c:l),i},t=function(t){if(t){var i=t,r=t.indexOf(".");return r>-1&&(i=t.substr(0,r+1+n.DecimalPlaces)),i}};return n};FXStreet.Class.RateService=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.PairName="",n.PriceProviderCode="",n.AlreadySubscribed=!1,n.ChangeCallback=null,n.DecimalPlaces=4,n.PushTTObj=null,n.RateMapper=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.RateMapper.init(t)},n.setVars=function(){n.PushTTObj=FXStreet.Class.Patterns.Singleton.PushTT.Instance();n.RateMapper=new FXStreet.Class.RateMapper},n.subscribeToChannel=function(){n.PushTTObj.Subscribe([n.PriceProviderCode],n.priceChangeCallback)},n.unsubscribeToChannel=function(){n.PushTTObj.Unsubscribe([n.PriceProviderCode],n.priceChangeCallback)},n.initializedCallBack=function(){n.subscribeToChannel()},n.priceChangeCallback=function(t){var i=n.RateMapper.createJsonFromMsg(t);typeof n.ChangeCallback=="function"&&n.ChangeCallback(i)},n};FXStreet.Class.SingleRateManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.HtmlTemplateFile="",n.PairName="",n.PriceProviderCode="",n.MustSubscribeAtInit=!1,n.RenderAtInit=!1,n.DecimalPlaces=4,n.SEO={},n.Translations={},n.Data=null,n.RateService=null,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.RenderAtInit&&n.render();n.MustSubscribeAtInit&&n.Subscribe()},n.setVars=function(){n.Data!=null?(n.PairName=n.Data.Value.Title,n.PriceProviderCode=n.Data.Value.PriceProviderCode,n.DecimalPlaces=n.Data.Value.DecimalPlaces):n.Data={Value:{Title:n.PairName,PriceProviderCode:n.PriceProviderCode,SEO:n.SEO},Translations:n.Translations};n.RateService=n.createRateService(n.PairName,n.PriceProviderCode)},n.render=function(t){t!=undefined&&n.UpdateRateData(t);n.htmlRender(n.Data)},n.htmlRender=function(t){n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1),n.Container&&n.Container.length>0&&FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t),u=n.Container.children("[fxs-ratedata-widget]");u.length>0?u[0].outerHTML=r:n.Container.html(r)}))},n.SingleRateCallback=function(t){n.render(t)},n.createRateService=function(t,i){var r=new FXStreet.Class.RateService;return r.init({PairName:t,PriceProviderCode:i,DecimalPlaces:n.DecimalPlaces,ChangeCallback:n.SingleRateCallback}),r},n.Subscribe=function(){n.RateService.subscribeToChannel()},n.Unsubscribe=function(){n.RateService!=null&&n.RateService.unsubscribeToChannel()},n.UpdateRateData=function(t){var i,r;if(n.Data.RateData===undefined)n.Data.RateData=t;else{i=t.Study.PriceStatics;for(r in i)i.hasOwnProperty(r)&&i[r]!==undefined&&(n.Data.RateData.Study.PriceStatics[r]=i[r])}},n};FXStreet.Class.MultiRateManager=function(){var h=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(h),t;n.ContainerId="";n.TablePricesId="fxs_table_prices";n.HtmlTemplateFile="";n.AssetList=[];n.DefaultAssetList=[];n.MustSubscribeAtInit=!1;n.Translations={};n.DataList=[];n.TitleContainerId="";n.Title="";n.ShowHeaders=!1;n.Filter={};n.FilterJson={};n.FilterManager=null;n.InitialFilterValues=[];t=null;n.init=function(t){n.setSettingsByObject(t);n.setVars();n.render();n.MustSubscribeAtInit&&d()};n.setVars=function(){n.TitleContainerId="fxs_rate_widget_title_"+n.ContainerId;t=FXStreet.Class.Patterns.Singleton.UserPersonalizationManager.Instance();$.each(n.AssetList,function(n,t){t.Service=u(t)});n.Filter&&n.Filter.ShowFilter&&(n.DefaultAssetList=n.AssetList,v(),n.AssetList=c());f()};var c=function(){var r=n.AssetList,t;return n.FilterManager!=null&&(t=i(),t&&Object.keys(t).length>0&&(r=l(t))),r},i=function(){return t.GetAssetsMultiRateSetting()},l=function(n){var t=[];return Object.values(n).forEach(function(n){var i=r(n);t.push(i)}),t},r=function(t){var r=n.DefaultAssetList[0].SEO.FullUrl,i={AssetId:t.id,DecimalPlaces:t.decimalPlaces,PairName:t.display,PriceProviderCode:t.priceProviderCode,SEO:{FullUrl:r.substr(0,r.lastIndexOf("/")+1).concat(t.url),MetaDescription:t.display,MetaTitle:t.display,KeyWords:null},PriceStatics:[]};return i.Service=u(i),i},u=function(t){var i=new FXStreet.Class.RateService;return i.init({PairName:t.PairName,PriceProviderCode:t.PriceProviderCode,DecimalPlaces:t.DecimalPlaces,ChangeCallback:n.SingleRateCallback}),i},f=function(){var t,i,r;for(n.DataList=[],t=0;t<n.AssetList.length;t++)i=n.AssetList[t],r=a(i),n.DataList.push(r)},a=function(t){return{Value:{Title:t.PairName,PriceProviderCode:t.PriceProviderCode,DecimalPlaces:t.DecimalPlaces,SEO:t.SEO},Translations:n.Translations,RateData:{Study:{PriceStatics:t.PriceStatics}}}},v=function(){var t="price-filter-block_"+n.ContainerId;n.FilterJson={DefaultAssets:e(),FindBy_Options:n.Filter.FindOptions,SelectedAssetsId:"fxs_selected_assets_"+n.ContainerId,ApplyFilterId:"fxs_apply_filter_"+n.ContainerId,ClearFilterId:"fxs_clear_filter_"+n.ContainerId,AdvancedFilterId:"fxs_advanced_filter_"+n.ContainerId,CloseAdvancedFilterId:"fxs_close_filter_"+n.ContainerId,FilterSectionId:t,GetAssetsUserSettingDelegate:i,OptionSelectedDelegate:n.filterChanged,TablePricesId:n.TablePricesId,TypeaheadJsonInitialization:{TypeaheadId:"fxs_typeahead_"+n.ContainerId,TypeaheadInputTargetId:"typeaheadTarget_"+n.ContainerId,TypeaheadFilterButtonId:"fxs_btn_filter_"+n.ContainerId,TypeaheadCancelButtonId:"fxs_dismissQuery_"+n.ContainerId,SelectedTypeaheadId:"",PlaceholderText:n.Translations.AddPairsToList},Translations:n.Translations,AssetsAddedId:"fxs_filter_assets_added"+n.ContainerId,ModalContainerId:"fxs_filter_modal"+n.ContainerId,PopupContainerId:"fxs_filter_popup"+n.ContainerId,PopupApplyId:"fxs_filter_popup_apply"+n.ContainerId,PopupCancelId:"fxs_filter_popup_cancel"+n.ContainerId,FilterStateLabelId:n.TitleContainerId,DefaultWidgetTitle:n.Title};n.FilterManager=new FXStreet.Class.RatesFilter},e=function(){var t={};return $.each(n.DefaultAssetList,function(n,i){t[i.AssetId]={display:i.PairName,priceProviderCode:i.PriceProviderCode,decimalPlaces:i.DecimalPlaces,id:i.AssetId,url:i.Url}}),t},y=function(){p();n.FilterManager.init(n.FilterJson)},p=function(){$.each(n.Filter.FindOptions,function(n,t){t.FindBy_FxsApiRoute=t.Route})};n.filterChanged=function(n){var t=n&&Object.keys(n).length>0?n:e();w(t);b(t);k(n);f();o()};var w=function(t){$.each(n.AssetList,function(n,i){t.hasOwnProperty(i.AssetId)||i.Service.unsubscribeToChannel()});n.AssetList=[]},b=function(t){$.each(t,function(t,i){if($.grep(n.AssetList,function(n){return n.AssetId===t}).length===0){var u=r(i);n.AssetList.push(u);u.Service.subscribeToChannel()}})},k=function(n){if(n&&Object.keys(n).length>0){var i={};$.each(n,function(n,t){i[n]={display:t.display,decimalPlaces:t.decimalPlaces,priceProviderCode:t.priceProviderCode,id:n,url:t.url}});t.SetAssetsMultiRateSetting(i)}else t.RemoveAssetsMultiRateSetting()},d=function(){n.AssetList.forEach(function(n){n.Service.subscribeToChannel()})};n.render=function(){var i={TitleContainerId:n.TitleContainerId,Title:n.Title,TablePricesId:n.TablePricesId,ShowFilter:n.Filter.ShowFilter,FilterJson:n.FilterJson,ShowHeaders:n.ShowHeaders,Translations:n.Translations},t;n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1),n.Container!=null&&(t=n.HtmlTemplateFile,FXStreet.Util.loadHtmlTemplate(t).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i),u=n.Container.children("[fxs-ratedata-widget]");u.length>0?u[0].outerHTML=r:n.Container.html(r);n.FilterManager!=null&&y();o()})))};var g=function(t){var f,i,r,u;if(t!=undefined&&(f=$.grep(n.DataList,function(n){return n.Value.Title===t.Study.PairName}),f.length>0)){if(i=f[0],i.RateData===undefined)i.RateData=t;else{r=t.Study.PriceStatics;for(u in r)r.hasOwnProperty(u)&&r[u]!==undefined&&(i.RateData.Study.PriceStatics[u]=r[u]);i.RateData.Study.PriceStatics.DataAvailable=!0}s(i)}},o=function(){var t,i;for(n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1),n.Container!=null&&n.Container.find("tbody tr").remove()),t=0;t<n.DataList.length;t++)i=n.DataList[t],i.ShowHeaders=n.ShowHeaders,s(i)},nt=function(){var t=n.Container.find(".fxs_widget_price");t.unbind();t.click(function(){var n=$(this).data("href");n&&(window.location=n)})},s=function(t){if(n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1),n.Container!=null)){var i=t.Value.Title,r=n.HtmlTemplateFile.replace("multi","single");FXStreet.Util.loadHtmlTemplate(r).done(function(r){var e=$.extend(!0,t,n.Translations),f=FXStreet.Util.renderByHtmlTemplate(r,e),u=n.Container.find("tr[data-asset-title='"+i+"']");u.length===0?(u=$(f),n.Container.find("table").append(u)):u[0].outerHTML=f;nt()})}};return n.SingleRateCallback=function(t){n.FilterManager!=null&&n.FilterManager.IsOpened||g(t)},n};FXStreet.Class.CtpButton=function(){return _this.Render=function(){return $("<li>",{html:"Current Trading Position",click:function(){var t="ctp_signal_entry_",i="ctp_signal_entry_stopLoss_",r="ctp_signal_entry_takeprofit1_",u="ctp_signal_entry_takeprofit2_",f="ctp_signal_entry_takeprofit3_",n,e;ctpSignals.length>0?($.each(ctpSignals,function(n,e){var o=_this.Chart.tradingLines.getTradingLineById(t+e.Id);o.remove();e.StopLoss&&(o=_this.Chart.tradingLines.getTradingLineById(i+e.Id),o.remove());e.TakeProfit1&&(o=_this.Chart.tradingLines.getTradingLineById(r+e.Id),o.remove());e.TakeProfit2&&(o=_this.Chart.tradingLines.getTradingLineById(u+e.Id),o.remove());e.TakeProfit3&&(o=_this.Chart.tradingLines.getTradingLineById(f+e.Id),o.remove())}),ctpSignals=[]):(n=getCurrentAsset(),n&&(e=_this.MarketToolsBaseUrl+"v1/en/ctp/study/?assetids="+n.Id,$.ajax(e).done(function(n){n&&(ctpSignals=n.Values[0].Entries,$.each(ctpSignals,function(n,e){var h=e.OrderDirection==="SELL"||e.OrderDirection==="SHORT",o=_this.Chart.tradingLines.addLine({id:t+e.Id,price:e.Entry}),c=h?"fxs_lineChart_sell":"fxs_lineChart_buy",s;o.settings.setOption("class",c);s=h?"fxs_lineChart_buy":"fxs_lineChart_sell";e.StopLoss&&(o=_this.Chart.tradingLines.addLine({id:i+e.Id,price:e.StopLoss}),o.settings.setOption("class",s));e.TakeProfit1&&(o=_this.Chart.tradingLines.addLine({id:r+e.Id,price:e.TakeProfit1}),o.settings.setOption("class",s));e.TakeProfit2&&(o=_this.Chart.tradingLines.addLine({id:u+e.Id,price:e.TakeProfit2}),o.settings.setOption("class",s));e.TakeProfit3&&(o=_this.Chart.tradingLines.addLine({id:f+e.Id,price:e.TakeProfit3}),o.settings.setOption("class",s))}))})))}})},_this};FXStreet.Class.ChartService=function(){function s(t){$.get(t).done(function(t){n.Chart.loadChartFromJSON(t)})}function h(){var t=$.Deferred(),i;return FXStreet.ExternalLib.TTChart?(i=FXStreet.ExternalLib.TTChart.create({id:n.ChartId}),t.resolve(i)):(console.log("TTChart as deferred"),FXStreet.Util.Deferreds.PendingTTChart.push({Deferred:t,ChartId:n.ChartId})),t.then(function(t){n.Chart=t;n.ChartOptions["dialogs.limitingElementId"]=n.ChartId;n.ChartOptions["global.verticalAxisZoom"]=!0;c();n.Chart.setOptions(n.ChartOptions);n.Chart.setOption("history.show",n.DisplayHistory);n.setChartToolbar();n.Chart.symbols.setMainSymbol(n.PriceProviderCode,n.PairName);n.addChartIndicators()})}function c(){var i=FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance(),t=i.GetTTTimeZoneValue();t&&n.Chart.setOption("data.timeZone",t)}var o=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(o),t,i,r,u,f,e;return n.Symbols=null,n.ChartId="",n.PairName="",n.PriceProviderCode="",n.WidgetType="",n.ChartOptions=null,n.EnableCalendar=!1,n.EnableNews=!1,n.DisplayRSI=!1,n.DisplaySMA=!1,n.DisplayHistory=!1,n.ChartConfiguration="",n.SoundUrl="",n.MarketToolsBaseUrl="",n.PostI3ApiBaseUrl="",n.CalendarI3ApiBaseUrl="",n.CustomExtensions=null,n.Chart=null,n.PushTTObj=null,n.loadedChart=!1,n.Assets=[],n.init=function(t){if(!FXStreet.ExternalLib.TTChart){console.error("TTChartLibrary is not loaded");return}n.CustomExtensions=FXStreet.Class.ChartExtensions();n.setSettingsByObject(t);n.loadAssets()},n.loadCalendar=function(){n.CustomExtensions.LoadCalendar()},n.loadNews=function(t){n.CustomExtensions.LoadNews(t)},n.mapAssetsToSymbols=function(t){n.Symbols=[["*|search|*",""]];for(var i=0;i<t.length;i++)n.Symbols.push([t[i].Name,t[i].PriceProviderCode])},n.setVars=function(){n.PushTTObj=FXStreet.Class.Patterns.Singleton.PushTT.Instance()},n.loadChart=function(){n.setVars();h().then(function(){n.addEvents();n.chartDisplay();var t={Assets:n.Assets,ChartId:n.ChartId,Chart:n.Chart,PostI3ApiBaseUrl:n.PostI3ApiBaseUrl,CalendarI3ApiBaseUrl:n.CalendarI3ApiBaseUrl,PriceProviderCode:n.PriceProviderCode,SoundUrl:n.SoundUrl};n.CustomExtensions.init(t)})},n.chartDisplay=function(){n.ChartConfiguration?s(n.ChartConfiguration):n.Chart.display()},n.setChartToolbar=function(){(n.WidgetType==="fxs_widget_full"||n.WidgetType==="fxs_widget_bigToolbar")&&(n.Chart.setOption("toolbar.symbols",n.Symbols),n.Chart.setOption("toolbar.comparisons",n.Symbols),n.Chart.setOption("toolbar.dateRanges",FXStreet.Util.ChartWidgetConfig.toolbar.dateRanges),n.Chart.setOption("toolbar.file",FXStreet.Util.ChartWidgetConfig.toolbar.file),n.Chart.addSettingListener("data.period",n.periodChanged))},n.addChartIndicators=function(){n.DisplaySMA===!0&&n.Chart.symbols.addIndicator("sma",{period:100,shift:0});n.DisplayRSI===!0&&n.Chart.symbols.addIndicator("rsi","14","70","30","1")},n.addEvents=function(){(n.WidgetType==="fxs_widget_full"||n.WidgetType==="fxs_widget_bigToolbar")&&(n.Chart.addEventListener("setMainSymbol",n.setMainSymbol),n.Chart.addEventListener("addComparison",n.addComparison),n.Chart.addEventListener("comparisonRemove",n.comparisonRemove),n.Chart.addEventListener("newBarCreated",n.newBarCreated));n.Chart.addEventListener("eventClicked",n.CustomExtensions.OnEventClicked);n.Chart.addTemporaryEventListener("display",n.display)},n.display=function(){if(!n.loadedChart&&(n.loadedChart=!0,n.PushTTObj.Subscribe([n.PriceProviderCode],n.addTick,n.WidgetType),n.WidgetType==="fxs_widget_full"||n.WidgetType==="fxs_widget_bigToolbar")){$("div.tt_fullscreen").on("click",t);i();n.CustomExtensions.AddButtons()}},n.hide=function(){n.loadedChart&&(n.loadedChart=!1,n.PushTTObj.Unsubscribe([n.PriceProviderCode],n.addTick))},t=function(){$("div.tt_fullscreen").attr("data-checked")==="on"?($(".tt_chartContainer").css({top:"0",bottom:"0"}),$(".fxs_modal_wrap").css("top","0"),$(".fxs_bgHeader").css("z-index","0"),$(".fxs_modal_footer").css("z-index","0")):($(".fxs_modal_wrap").css("top","45px"),$(".fxs_bgHeader").css("z-index","6"),$(".fxs_modal_footer").css("z-index","6"))},i=function(){var n,t;FXStreet.Resource.UserInfo.IsBackendUser===!0&&(n=$(".tt_file ul"),n&&(t=$("<li/>",{html:"Download Config"}),t.click(r),n.append(t)))},n.newBarCreated=function(){n.CustomExtensions.ActivateSound()},r=function(){var t=n.Chart.getChartAsJSON(),i=(new Date).getTime(),r=n.PairName.replace(/\//g,"_")+"_"+i+".json";FXStreet.Util.DownloadFileFromJsonObject(r,t)},n.addTick=function(t){if(n.Chart!=null&&n.loadedChart){var i={symbolId:t.symbolId,last:t.last,dateTime:t.dateTime,volume:t.tradeVolume};n.Chart.addTick(i);u(t)}},u=function(t){if(n.WidgetType==="fxs_widget_full"&&t.symbolId===n.PriceProviderCode){var i=n.PairName+": "+t.last;isNaN(t.changePercent)||(i+=t.changePercent<0?" ▼ ":" ▲ ",i+=Number(t.changePercent).toFixed(2)+"%");document.title=i+" - FXStreet"}},n.setMainSymbol=function(t){t!==""&&t!=undefined&&t.oldId!=undefined&&(n.Chart.clearAllEvents(),n.Chart.setOption("markers.load",!1),n.Chart.setOption("markers.visibleTypes",null),n.PushTTObj.Unsubscribe([t.oldId],n.addTick),n.PushTTObj.Subscribe([t.id],n.addTick,n.WidgetType),n.PriceProviderCode=t.id,n.PairName=t.name);n.CustomExtensions.SetMainSymbol(n.PriceProviderCode);n.CustomExtensions.ClearExtensions()},n.addComparison=function(t){t!==""&&n.PushTTObj.Subscribe([t.id.substring(4)],n.addTick)},n.comparisonRemove=function(t){t!==""&&n.PushTTObj.Unsubscribe([t.id.substring(4)],n.addTick)},n.periodChanged=function(t){var i=f(t.value);n.Chart.setOption("data.dateRange",i.dateRange);n.Chart.setOption("zoom.dateRange",i.zoomRange)},f=function(n){var r=120,t=-1,i="",u,f,o,s,h;return n.indexOf("INTRADAY")!==-1?(u=n.split(" "),u.length>1&&(f=u[1],o=r*.8*parseInt(f),t=Math.round(o/60)),i="6m"):n==="DAILY"?(t=r*24,i="40y"):n==="WEEKLY"?(t=r*168,i="40y"):n==="MONTHLY"&&(t=r*720,i="40y"),s="1d",h={dateRange:i,zoomRange:t===-1?s:e(t)},h},e=function(n){var t,i,r;return n<24?"1d":(t=Math.round(n/24),t<30)?t.toString()+"d":(i=Math.round(t/30),i<12?i.toString()+"m":(r=Math.round(i/12),r.toString()+"y"))},n.loadAssets=function(){FXStreet.Class.Patterns.Singleton.LoadAssets.getInstance().getAssets().then(function(t){n.Assets=t.Result;n.mapAssetsToSymbols(t.Result);n.loadChart();n.EnableCalendar&&n.loadCalendar();n.EnableNews&&n.loadNews(n.PriceProviderCode)},function(){console.error("Error getting assets")})},n};FXStreet.Class.SingleChartManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.WidgetType="",n.PairName="",n.PriceProviderCode="",n.HtmlTemplateFile="",n.BigChartUrl="",n.DisplayRSI=!1,n.DisplaySMA=!1,n.DisplayBigChartUrl=!1,n.EnableZoomOnChart=!1,n.TouchAvailable=!1,n.ExternalUrl="",n.DisplayHistory=!1,n.ChartConfiguration="",n.SoundUrl="",n.MarketToolsBaseUrl="",n.PostI3ApiBaseUrl="",n.CalendarI3ApiBaseUrl="",n.Translations=null,n.CustomChartHigh=0,n.EnableCalendar=!1,n.EnableNews=!1,n.AssetId="",n.ChartService=null,n.ChartId="",n.AlreadySubscribed=!1,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.preRender()},n.setVars=function(){n.ChartId="fxs_chartwidget_"+n.ContainerId;(n.WidgetType===null||n.WidgetType==="")&&(n.WidgetType=n.getWidgetTypeByHtmlTemplate(n.HtmlTemplateFile));(n.HtmlTemplateFile===null||n.HtmlTemplateFile==="")&&(n.HtmlTemplateFile=FXStreet.Util.ChartWidgetConfig.WidgetHtmlTemplateFile[n.WidgetType])},n.getWidgetTypeByHtmlTemplate=function(n){var r="",t=FXStreet.Util.ChartWidgetConfig.WidgetHtmlTemplateFile;for(var i in t)t.hasOwnProperty(i)&&t[i]===n&&(r=i);return r},n.preRender=function(){var t,i,r;n.ContainerId&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1),t="",n.ExternalUrl&&(t=n.ExternalUrl.toLowerCase()),i=FXStreet.Resource.Translations.ChartSingleAsset_Widget?FXStreet.Resource.Translations.ChartSingleAsset_Widget:n.Translations,r={Value:{ContainerId:n.ContainerId,ChartId:n.ChartId,BigChartUrl:n.BigChartUrl.toLowerCase(),DisplayBigChartUrl:n.DisplayBigChartUrl,EnableZoomOnChart:n.EnableZoomOnChart,TouchAvailable:n.TouchAvailable,ExternalUrl:t,BrowserHeight:n.getBrowserHeight(),CustomChartHigh:n.CustomChartHigh},Translations:i},n.Container&&FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,r);n.Container[0].outerHTML=i;n.ForceRefresh()}))},n.getBrowserHeight=function(){var n=50;return $(".fxs_global_alert.in").length>0&&(n+=50),$(window).height()-(185+n)},n.chartServiceInit=function(){n.ChartService=FXStreet.Class.ChartService();var t=FXStreet.Util.ChartWidgetConfig.WidgetOptions[n.WidgetType];n.ChartService.init({ChartId:n.ChartId,ChartOptions:t,PairName:n.PairName,PriceProviderCode:n.PriceProviderCode,WidgetType:n.WidgetType,DisplayRSI:n.DisplayRSI,DisplaySMA:n.DisplaySMA,DisplayHistory:n.DisplayHistory,ChartConfiguration:n.ChartConfiguration,AssetTagId:n.AssetTagId,SoundUrl:n.SoundUrl,MarketToolsBaseUrl:n.MarketToolsBaseUrl,PostI3ApiBaseUrl:n.PostI3ApiBaseUrl,CalendarI3ApiBaseUrl:n.CalendarI3ApiBaseUrl,EnableCalendar:n.EnableCalendar,EnableNews:n.EnableNews})},n.ForceRefresh=function(){var t=setInterval(function(){$("#"+n.ChartId).is(":visible")&&(n.chartServiceInit(),clearInterval(t))},1e3)},n.display=function(t){n.ChartService&&(t?n.ChartService.display():n.ChartService.hide())},n};FXStreet.Util.ChartWidgetConfig={WidgetOptions:{fxs_widget_default:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 60","data.numberOfBars":200,"grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"main.risingColor":"#338473","main.fallingColor":"#D25746","volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!1,"toolbar.top.show":!1,"toolbar.left.show":!1,"toolbar.top.items":[],"toolbar.left.items":[],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":200,"data.emptySpaceRight":!1,"data.dynamicHistoryLoading":!1,"dialogs.limitingElementId":"","markers.eventTypes":["news","calendarEvents"],"main.background.image":{filename:FXStreet.Resource.StaticContentImage+"icons/logo_watermark_FXS.png",alpha:.5,valign:"bottom",paddingLeft:15,align:"left",paddingBottom:15}},fxs_widget_big:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 60","data.numberOfBars":200,"grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"main.risingColor":"#338473","main.fallingColor":"#D25746","volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!1,"toolbar.top.show":!1,"toolbar.left.show":!1,"toolbar.top.items":[],"toolbar.left.items":[],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":200,"data.emptySpaceRight":!1,"data.dynamicHistoryLoading":!1,"dialogs.limitingElementId":"","markers.eventTypes":["news","calendarEvents"]},fxs_widget_mini:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 60","data.numberOfBars":200,"grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!1,"toolbar.top.show":!1,"toolbar.left.show":!1,"toolbar.top.items":[],"toolbar.left.items":[],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":200,"data.dynamicHistoryLoading":!1,"dialogs.limitingElementId":"","data.emptySpaceRight":!1,"markers.eventTypes":["news","calendarEvents"]},fxs_widget_full:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 15","data.dateRange":"6m","grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"main.risingColor":"#338473","main.fallingColor":"#D25746","volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!0,"toolbar.top.show":!0,"toolbar.left.show":!0,"toolbar.top.items":["file","symbols","periods","chartType","comparisons","logarithmicScale","relativeScale","zeroPointTool",["volume","history","dataInfo","showMinMax"],["last","crosshair","crosshairlast"],,"indicators","reload","zoomIn","zoomOut","print","exportPng","fullscreen"],"toolbar.left.items":["dt_hand",["dt_line","dt_horizLine","dt_trendChannel"],["dt_rectangle","dt_circle"],["dt_fibFan","dt_fibVertRet","dt_fibRet","dt_fibArc"],"dt_andrewsPitch",["dt_regressionLine","dt_regressionChannel"],["dt_arrow_up","dt_arrow_down"],"dt_text","dt_delete","dt_drawRepeatedly"],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":1e3,"data.dynamicHistoryLoading":!0,"zoom.dateRange":"1d","dialogs.limitingElementId":"","markers.load":!0,"markers.eventTypes":["news","calendarEvents"],"data.extendedTimeRegion":5,"data.emptySpaceRight":!0,"main.background.image":{filename:FXStreet.Resource.StaticContentImage+"icons/logo_watermark_FXS.png",alpha:.5,valign:"bottom",paddingLeft:15,align:"left",paddingBottom:15}},fxs_widget_bigToolbar:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 15","data.dateRange":"6m","grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"main.risingColor":"#338473","main.fallingColor":"#D25746","volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!0,"toolbar.top.show":!0,"toolbar.left.show":!0,"toolbar.top.items":["file","symbols","periods","chartType","comparisons","logarithmicScale","relativeScale","zeroPointTool",["volume","history","dataInfo","showMinMax"],["last","crosshair","crosshairlast"],,"indicators","reload","zoomIn","zoomOut","print","exportPng","fullscreen"],"toolbar.left.items":["dt_hand",["dt_line","dt_horizLine","dt_trendChannel"],["dt_rectangle","dt_circle"],["dt_fibFan","dt_fibVertRet","dt_fibRet","dt_fibArc"],"dt_andrewsPitch",["dt_regressionLine","dt_regressionChannel"],["dt_arrow_up","dt_arrow_down"],"dt_text","dt_delete","dt_drawRepeatedly"],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":1e3,"data.dynamicHistoryLoading":!0,"zoom.dateRange":"1d","dialogs.limitingElementId":"","markers.load":!0,"markers.eventTypes":["news","calendarEvents"],"data.extendedTimeRegion":5,"data.emptySpaceRight":!0,"main.background.image":{filename:FXStreet.Resource.StaticContentImage+"icons/logo_watermark_FXS.png",alpha:.5,valign:"bottom",paddingLeft:15,align:"left",paddingBottom:15}},fxs_widget_cag:{"global.locale":"en","data.sourceUrl":FXStreet.Resource.TeletraderPriceProviderUrl,"data.pushServerUrl":FXStreet.Resource.DataProviderUrl,"data.period":"INTRADAY 15","data.numberOfBars":50,"grid.show":!0,"main.chartType":"candle","main.lineColor":"rgba(206, 71, 53, 1)","main.areaColors":["rgba(206, 71, 53, 1)","rgba(206, 71, 53, 0)"],"main.risingColor":"#338473","main.fallingColor":"#D25746","volume.show":!1,"history.show":!1,"history.sliderBorderColor":"#fff","dataInfo.show":!1,"toolbar.top.show":!1,"toolbar.left.show":!1,"toolbar.top.items":[],"toolbar.left.items":[],"contextMenu.show":!1,"data.usePush":!1,"panel.background.color":"#F7F7F7","data.maxAdditionalBars":200,"data.emptySpaceRight":!1,"data.dynamicHistoryLoading":!1,"dialogs.limitingElementId":"","markers.eventTypes":["news","calendarEvents"]}},WidgetHtmlTemplateFile:{fxs_widget_default:"chartwidget_default.html",fxs_widget_big:"chartwidget_big.html",fxs_widget_bigToolbar:"chartwidget_bigToolbar.html",fxs_widget_mini:"chartwidget_mini.html",fxs_widget_full:"chartwidget_full.html",fxs_widget_cag:"chartwidget_cag.html"},toolbar:{comparisons:"",file:[["*|menu_load|*","load"],["*|menu_save|*","saveDefault"]]}};FXStreet.Class.ChartExtensions=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.SoundUrl=null,n.Chart=null,n.ChartId=null,n.Assets=null,n.PostI3ApiBaseUrl=null,n.CalendarI3ApiBaseUrl=null,n.NewsExtension=null,n.CalendarExtension=null,n.SoundExtension=null,n.PriceProviderCode=null,n.CalendarEventsButtonText=" Calendar",n.NewsExtensionText=" News",n.EventExtensions=null,n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){var t,i,r;n.NewsExtension=FXStreet.Class.NewsExtension();t={Chart:n.Chart,ChartId:n.ChartId,Assets:n.Assets,PostI3ApiBaseUrl:n.PostI3ApiBaseUrl,NewsExtensionText:n.NewsExtensionText,PriceProviderCode:n.PriceProviderCode};n.NewsExtension.init(t);n.CalendarExtension=FXStreet.Class.CalendarExtension();i={Chart:n.Chart,ChartId:n.ChartId,Assets:n.Assets,CalendarI3ApiBaseUrl:n.CalendarI3ApiBaseUrl,CalendarEventsButtonText:n.CalendarEventsButtonText};n.CalendarExtension.init(i);n.SoundExtension=FXStreet.Class.SoundExtension();n.EventExtensions=FXStreet.Class.EventExtensions();r={Chart:n.Chart};n.EventExtensions.init(r)},n.LoadCalendar=function(){n.CalendarExtension.LoadCalendarEvents()},n.LoadNews=function(t){n.NewsExtension.LoadNews(t)},n.OnEventClicked=function(t){t.type===n.NewsExtension.EventType&&n.NewsExtension.OnClickedEvent(t);t.type===n.CalendarExtension.EventType&&n.CalendarExtension.OnClickedEvent()},n.AddButtons=function(){var t=FXStreet.Util.getjQueryObjectById(n.ChartId).find(".tt_topToolbar"),i,r;t&&(i=n.NewsExtension.Render(),$(".tt_addIndicator").after(i));r=n.SoundExtension.Render();t.append(r)},n.ActivateSound=function(){n.SoundExtension.ActivateSound()},n.SetMainSymbol=function(t){n.NewsExtension.SetMainSymbol(t)},n.ClearExtensions=function(){n.NewsExtension.Clear();n.CalendarExtension.Clear()},n};FXStreet.Class.EventExtensions=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Chart=null,n.init=function(t){n.setSettingsByObject(t)},n.DisplayEvents=function(t){var i=n.Chart.getOption("markers.visibleTypes");i||(i=[]);i.indexOf(t)===-1&&i.push(t);n.Chart.setOption("markers.visibleTypes",i);n.Chart.display()},n.HideEvents=function(t){var i=n.Chart.getOption("markers.visibleTypes"),r;i||(i=[]);r=i.indexOf(t);r>-1&&i.splice(r,1);n.Chart.setOption("markers.visibleTypes",i);n.Chart.display()},n};FXStreet.Class.NewsExtension=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.news=[],n.NewsExtensionText="",n.IsActive=!1,n.Chart=null,n.Assets=null,n.PostI3ApiBaseUrl=null,n.EventType="news",n.PriceProviderCode=null,n.EventExtensions=null,n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){n.EventExtensions=FXStreet.Class.EventExtensions();var t={Chart:n.Chart};n.EventExtensions.init(t)},n.SetMainSymbol=function(t){n.PriceProviderCode=t},n.OnClickedEvent=function(t){var i=$.grep(n.news,function(n){return n.PostId===t.id});i.length>0&&window.open(i[0].Url)},n.Clear=function(){n.IsActive=!1;n.news=[]},n.LoadNews=function(i){var r,u;i&&(n.PriceProviderCode=i);n.EventExtensions.DisplayEvents(n.EventType);r=t();r&&r.TagIds!==undefined&&r.TagIds.length>0&&(u=n.PostI3ApiBaseUrl+"/v3/en/article/filter/GeneralFeed/"+r.TagIds[0],$.ajax(u).done(function(t){var i,r;t&&(i=[],n.news=t.Articles,$.each(n.news,function(t,r){var u=FXStreet.Util.ConvertUtcDateToCurrentTimeZone(r.PublishDate);i.push({id:r.PostId,type:n.EventType,dateTime:u,text:r.Title})}),r=JSON.stringify(i),n.Chart.addEvents(r,n.PriceProviderCode),n.Chart.setOption("markers.news.displayLetter","N"),n.Chart.display())}))},n.Render=function(){var t=n.NewsExtensionText,i=$("<i>").addClass("fa fa-newspaper-o fa-lg").attr("aria-hidden","true");return $("<div>",{click:function(){n.IsActive?(n.IsActive=!1,n.EventExtensions.HideEvents(n.EventType)):(n.IsActive=!0,n.news&&n.news.length!==0?n.EventExtensions.DisplayEvents(n.EventType):n.LoadNews())},"class":"fxs_chart_icon"}).append(i).append(t)},t=function(){var t=null,i=$.grep(n.Assets,function(t){return t.PriceProviderCode===n.PriceProviderCode});return i.length>0&&(t=i[0]),t},n};FXStreet.Class.SoundExtension=function(){var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r),t=null,i=!1;return n.Render=function(){var n=$("<div>",{title:"Sound alert on closed candle",style:"background-image:url("+FXStreet.Resource.StaticContentImage+"icons/icon_volume_off.png)",click:function(){i=!i;i?n.css("background-image","url("+FXStreet.Resource.StaticContentImage+"icons/icon_volume_on.png)"):n.css("background-image","url("+FXStreet.Resource.StaticContentImage+"icons/icon_volume_off.png)")}});return n},n.ActivateSound=function(){i&&(t===null&&(t=new FXStreet.Class.Sound,t.init({SoundUrl:n.SoundUrl})),t.playSound())},n};FXStreet.Class.CalendarExtension=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.calendarEvents=[],n.Chart=null,n.IsActive=!1,n.ChartId=null,n.CalendarI3ApiBaseUrl=null,n.EventExtensions=null,n.CalendarEventsButtonText="",n.EventType="calendarEvents",n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){n.EventExtensions=FXStreet.Class.EventExtensions();var t={Chart:n.Chart};n.EventExtensions.init(t)},n.OnClickedEvent=function(){},n.Clear=function(){n.IsActive=!1;n.calendarEvents=[]},n.LoadCalendarEvents=function(){var t=FXStreet.Resource.CultureName,i=n.CalendarI3ApiBaseUrl+"eventdate/?view=day&f=json&culture="+t;n.Chart.setOption("markers.calendarEvents.displayLetter","E");$.ajax(i).done(function(t){var i,r;t&&(i=[],n.calendarEvents=t,$.each(n.calendarEvents,function(t,r){var u=FXStreet.Util.ConvertUtcDateToCurrentTimeZone(r.DateTime.Date);i.push({id:r.IdEcoCalendarDate,type:n.EventType,dateTime:u,text:r.Country+": "+r.Name})}),r=JSON.stringify(i),n.Chart.addEvents(r,n.PriceProviderCode),n.EventExtensions.DisplayEvents(n.EventType))})},n.Render=function(){var t=n.CalendarEventsButtonText,i=$("<i>").addClass("fa fa-calendar fa-lg").attr("aria-hidden","true");return $("<div>",{click:function(){n.IsActive?(n.IsActive=!1,n.EventExtensions.HideEvents(n.EventType)):(n.IsActive=!0,n.calendarEvents&&n.calendarEvents.length!==0?n.EventExtensions.DisplayEvents(n.EventType):n.LoadCalendarEvents())},"class":"fxs_chart_icon"}).append(i).append(t)},n}}(),function(){FXStreet.Class.RatesTable=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;n.HtmlTemplateFile="ratestable_default.html";t=null;n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.htmlRender(t)};n.setVars=function(t){n.ContainerId=t.ContainerId;n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)};n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(n){r(t,n);u(t)})};var r=function(t,i){var r={IsActiveHeader:t.IsActiveHeader,ContainerId:t.ContainerId},u=FXStreet.Util.renderByHtmlTemplate(i,r);n.Container.html(u)},u=function(n){n.IsActiveHeader&&(n.MyAssetIds=FXStreet.Class.MyAssetsList.get());f(n);n.IsActiveHeader&&o(n)},f=function(n){t=new FXStreet.Class.RatesTableDataManager;var i=$.extend(!0,{},n);n.MyAssetIds?e(n.MyAssetIds).done(function(n){i.Assets=n;t.init(i)}):t.init(i)},e=function(n){var t=FXStreet.Resource.FxsApiRoutes.RatesTableAssets,i="?assetIds=";return $.each(n,function(n,t){i=i+t+","}),t=t+i.slice(0,-1),$.get(t)},o=function(n){var i=$.extend(n,{RatesTableDataManager:t},!0),u=new FXStreet.Class.RatesTableMenuManager,r,f;u.init(i);i.MainAssets=i.Assets;i.AssetsIds=i.Assets.map(function(n){return n.AssetId});r=FXStreet.Class.MyAssetsList.get();r&&(i.MyAssetIds=r);i.OnAssetChangedDelegate=u.setMyListViewAssets;f=new FXStreet.Class.RatesTableFilterManager;f.init(i)};return n};FXStreet.Class.RatesTableFilterManager=function(){var s=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(s),t,r;n.HtmlTemplateFile="ratestable_filter.html";n.ContainerId="";n.FilterButtonId="";n.RatesTableDataManager=null;n.FilterContainerId=null;n.FilterDropDown=null;n.MyAssetIds=[];n.AllAssets=[];n.HideElementsCssClass="fxs_hideElements";n.MainViewItems=null;n.Translations=null;n.TypeAhead={};n.OnAssetChangedDelegate=null;n.MainAssets=[];t={Assets:[]};r=null;n.init=function(t){n.setSettingsByObject(t);n.setVars(t);l().then(function(){n.htmlRender(t)})};n.setVars=function(t){n.FilterContainerId="fxs_header_filter_"+n.ContainerId;n.FilterOpenDropDownId="fxs_filter_open_dropdown_button_"+n.ContainerId;n.FilterCloseDropDownId="fxs_filter_close_dropdown_button_"+n.ContainerId;n.FilterDropDownId="fxs_customize_"+n.ContainerId;n.Container=FXStreet.Util.getjQueryObjectById(n.FilterContainerId);n.FilterSaveId="fxs_filter_save_"+n.ContainerId;n.FilterCancelId="fxs_filter_cancel_"+n.ContainerId;n.MyAssetIds||(n.MyAssetIds=t.AssetsIds)};n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var e=i.Template.match(/<main>[\s\S]*<\/main>/g),u,f;r={Template:e[0]};u=c(t);f=FXStreet.Util.renderByHtmlTemplate(i,u);n.Container.html(f);n.addEvents();n.FilterDropDown=FXStreet.Util.getjQueryObjectById(n.FilterDropDownId);h(u)})};n.addEvents=function(){i(n.FilterOpenDropDownId,a);i(n.FilterCloseDropDownId,u);i(n.FilterCancelId,u);i(n.FilterSaveId,v);f()};var f=function(){t.Assets&&$.each(t.Assets,function(t,r){i("fxs_filter_mylist_"+n.ContainerId+"_"+r.Id,function(n){w(n,this,r)})})},h=function(t){t.ContainerId="fxs_header_typeahead_"+t.ContainerId;t.OnSaveDelegate=k;t.ShowLayer=b;n.TypeAhead=new FXStreet.Class.RatesTableFilterTypeAhead;n.TypeAhead.init(t)},i=function(n,t){var i=FXStreet.Util.getjQueryObjectById(n);i.click(t)},c=function(i){var r=e(i.AssetsIds);return{TypeAheadSettings:{TypeaheadId:"fxs_typeahead_"+n.ContainerId,TypeaheadInputTargetId:"typeaheadTarget_"+n.ContainerId,TypeaheadFilterButtonId:"fxs_btn_filter_"+n.ContainerId,TypeaheadCancelButtonId:"fxs_dismissQuery_"+n.ContainerId,SelectedTypeaheadId:"",PlaceholderText:"Add pairs to list "},ContainerId:n.ContainerId,MyList:r,TemporalMyList:t,AllAssets:n.AllAssets,Translations:n.Translations}},e=function(t){var i=[];return $.each(t,function(t,r){var u=n.AllAssets.findFirst(function(n){return n.Id===r});u?i.push(u):console.error("Asset {0} not found in all assets list".format(r))}),i},l=function(){var t=FXStreet.Resource.FxsApiRoutes.GetAssets+"?cultureName="+FXStreet.Resource.CultureName;return $.get(t).then(function(t){n.AllAssets=t.Result})},a=function(){n.RatesTableDataManager.hideAllDropDowns();p()},u=function(){t.Assets=[];n.FilterDropDown.addClass(n.HideElementsCssClass)},v=function(i){i.preventDefault();var r=$.grep(t.Assets,function(n){return n.Selected});n.MyAssetIds=r.map(function(n){return n.Id});typeof n.OnAssetChangedDelegate!="undefined"&&y(n.MyAssetIds).then(function(t){n.OnAssetChangedDelegate(t)});r.length===0&&(n.MyAssetIds=n.MainAssets.map(function(n){return n.AssetId}));u()},y=function(n){var t=FXStreet.Resource.FxsApiRoutes.RatesTableAssets,i="?assetIds=";return $.each(n,function(n,t){i=i+t+","}),t=t+i.slice(0,-1),$.get(t)},p=function(){t.Assets=e(n.MyAssetIds);$.each(t.Assets,function(){this.Selected=!0});n.FilterDropDown.removeClass(n.HideElementsCssClass);o()},w=function(n,t,i){i.Selected=t.checked},b=function(t){var i=FXStreet.Util.getjQueryObjectById("fxs_header_filter_layer_"+n.ContainerId);t?i.removeClass(n.HideElementsCssClass):i.addClass(n.HideElementsCssClass)},k=function(i){$.each(Object.keys(i),function(r,u){var f=t.Assets.findFirst(function(n){return n.Id===u});f||(f=n.AllAssets.findFirst(function(n){return n.Id===u}),t.Assets.push(f));f.Selected=i[u]});o()},o=function(){var i={ContainerId:n.ContainerId,MyList:t.Assets},u=n.Container.find("main"),e=FXStreet.Util.renderByHtmlTemplate(r,i);u.replaceWith(e);f()};return n};FXStreet.Class.RatesTableFilterTypeAhead=function(){var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e);n.ContainerId="";n.TypeAhead={};n.OnSaveDelegate=null;n.ShowLayer=null;n.TypeAheadSettings=null;n.FxsHideElementsClass="fxs_hideElements";n.HtmlTemplateFile="ratestable_typeahead.html";var r=null,i="",u=null,t=[];n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.htmlRender(t)};n.setVars=function(t){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);r=t.TemporalMyList;n.TypeAheadContainerId="fxs_search_input_"+n.ContainerId;n.TypeAheadContainer=FXStreet.Util.getjQueryObjectById(n.ContainerId)};n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var f=i.Template.match(/<ul class="fxs_results">[\s\S]*<\/ul>/g),r;u={Template:f[0]};r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.addEvents();o()})};n.addEvents=function(){var r=FXStreet.Util.getjQueryObjectById("fxs_typeahead_save_"+n.ContainerId),t,i;r.click(c);t=FXStreet.Util.getjQueryObjectById("fxs_typeahead_cancel_"+n.ContainerId);t.click(l);i=FXStreet.Util.getjQueryObjectById(n.TypeAheadSettings.TypeaheadId);i.keypress(function(){n.ShowLayer(!0)})};var o=function(){var t=n.TypeAheadSettings;t.OnLayoutBuiltBeforeDelegate=s;i="fxs_searchResults_"+n.ContainerId;t.FindBy_Options=[{FindBy_FxsApiRoute:"GetAssets",Template:'<label><input type="checkbox" name="">{{display}}<\/label>',Title:"Assets"}];t.TypeaheadBlur=null;n.TypeAhead=new FXStreet.Class.Sidebar.Typeahead;n.TypeAhead.init(t)},s=function(f,e,o){var s=FXStreet.Util.getjQueryObjectById(i);if(!e){s.hide();return}var c=o.map(function(n){var i=r.Assets.findFirst(function(t){return t.Id===n.id});return t[n.id]!==undefined?n.Selected=t[n.id]:i&&(n.Selected=i.Selected),n}),l={ContainerId:n.ContainerId,TypeaheadVisibleAssets:c},a=FXStreet.Util.renderByHtmlTemplate(u,l),v=n.Container.find("ul");v.replaceWith(a);n.Container.find('input[type="checkbox"]').click(h);s.show()},h=function(){var n=$(this).attr("fxs-assetId");delete t[n];t[n]=this.checked},c=function(){n.ShowLayer(!1);typeof n.OnSaveDelegate=="function"&&n.OnSaveDelegate(t);f()},l=function(){n.ShowLayer(!1);f()},f=function(){var u=FXStreet.Util.getjQueryObjectById(i),r;u.hide();r=FXStreet.Util.getjQueryObjectById(n.TypeAheadSettings.TypeaheadInputTargetId);r.val("");t=[]};return n};FXStreet.Class.RatesTableMenuManager=function(){var p=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(p),u,h;n.ContainerId="";n.HtmlTemplateFile="ratestablemenu_menu.html";n.MenuContainerId="";n.MenuItems=null;n.MainViewAssets=null;n.MyAssetIds=[];n.RatesTableDataManager=null;n.Translations=null;var f="fxs_hideElements",c="",t="",e="",l="",i=null,a="",o="",w="MenuItems",r=null,s=null;n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.htmlRender()};n.setVars=function(t){n.MenuContainerId="fxs_header_menu_"+n.ContainerId;e="fxs_menu_show_more_dropdown_button_"+n.ContainerId;l="fxs_menu_show_more_dropdown_close_button_"+n.ContainerId;c="fxs_menu_show_more_dropdown_"+n.ContainerId;o="fxs_menu_mylist_"+n.ContainerId;a="fxs_menu_main_view_"+n.ContainerId;n.Container=FXStreet.Util.getjQueryObjectById(n.MenuContainerId);n.MainViewAssets=t.Assets;n.MenuItems=k(t)};n.htmlRender=function(){var t=d();FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var f=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(f);r=FXStreet.Util.getjQueryObjectById(o);n.MyAssetIds?u(r):r.hide();n.addEvents()})};n.addEvents=function(){var f=FXStreet.Util.getjQueryObjectById(o),r;f.click(function(){n.RatesTableDataManager.getAndRenderAssetData(n.MyAssetIds)});s=FXStreet.Util.getjQueryObjectById(a);s.click(function(){n.RatesTableDataManager.renderAssetData(n.MainViewAssets)});$.each(n.MenuItems,function(n,t){var i=FXStreet.Util.getjQueryObjectById(t.Id);i.click(y);t.IsDefault&&(i=FXStreet.Util.getjQueryObjectById(t.Id+"_default"),i.click(y))});t=FXStreet.Util.getjQueryObjectById(c);i=FXStreet.Util.getjQueryObjectById(e);i.click(v);r=FXStreet.Util.getjQueryObjectById(l);r.click(v);$("#"+n.MenuContainerId+" .fxs_btn_table_filter").click(function(){if(this.id!==e){var t=$(this);u(t);h(n.Translations.ShowMore)}})};u=function(t){$("#"+n.MenuContainerId+" .fxs_btn_table_filter").removeClass("active");t.addClass("active")};h=function(n){i.empty();i.append(n);i.append('<i class="fa fa-caret-down" aria-hidden="true"><\/i>')};n.setMyListViewAssets=function(t){if(t.length>0){var i=t.map(function(n){return n.AssetId});n.MyAssetIds=i;n.RatesTableDataManager.renderAssetData(t);FXStreet.Class.MyAssetsList.set(i);r.show();u(r)}else n.MyAssetIds=n.MainViewAssets.map(function(n){return n.AssetId}),n.RatesTableDataManager.renderAssetData(n.MainViewAssets),FXStreet.Class.MyAssetsList.remove(),r.hide(),u(s)};var v=function(){t.hasClass(f)?(n.RatesTableDataManager.hideAllDropDowns(),t.removeClass(f)):t.addClass(f)},y=function(r){var s=r.currentTarget.id.replace("_default",""),c=function(){return r.currentTarget.tagName==="P"},e,o;c()&&(u(i),h(r.currentTarget.textContent));e=b(s);o=e.Assets;t.hasClass(f)||t.addClass(f);n.RatesTableDataManager.getAndRenderAssetData(o)},b=function(t){var i=$.grep(n.MenuItems,function(n){return n.Id===t});return i.length===0?null:i[0]},k=function(t){var r=t.TranslationsConfiguration[w],i=JSON.parse(r);return $.each(i,function(t,i){i.Id="fxs_"+n.ContainerId+"_menuitem_"+t}),i},d=function(){return{MenuItems:n.MenuItems,Translations:n.Translations,ContainerId:n.ContainerId}};return n};FXStreet.Class.RatesTableDataManager=function(){var h=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(h),t,s;n.ContainerId="";n.DataContainerId="";n.HtmlTemplateFile="ratestable_data.html";n.RatesTableDataCssManager=null;n.ItemsToRecord=["Last","Bid","Ask","Change","ChangePercentWithSymbol","Open","High","Low"];n.Translations=[];n.RatesTableEndPoint="";t="N/A";n.DataTableContainerId="";n.DataTableScrollId="";n.DataTableScrollStartId="";n.DataTableScrollMiddleId="";n.DataTableScrollEndId="";n.DataTableContainer=null;n.DataTableScrollContailer=null;n.DataTableScrollStartContainer=null;n.DataTableScrollMiddleContainer=null;n.DataTableScrollEndContainer=null;var c="fxs_hideElements",r="active",i={Data:{},Assets:{}},u={},f;n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.htmlRender(t)};n.setVars=function(){f=FXStreet.Class.Patterns.Singleton.PushTT.Instance();n.DataContainerId="fxs_data_"+n.ContainerId;n.DataTableContainerId="fxs_data_table_"+n.ContainerId;n.DataTableScrollId="fxs_ratestable_scrollButtons_"+n.ContainerId;n.DataTableScrollStartId="fxs_swipeContent_start_"+n.ContainerId;n.DataTableScrollMiddleId="fxs_swipeContent_middle_"+n.ContainerId;n.DataTableScrollEndId="fxs_swipeContent_end_"+n.ContainerId;n.RatesTableDataCssManager=new FXStreet.Class.RatesTableDataCssManager;n.RatesTableDataCssManager.init()};n.htmlRender=function(t){var i=$.extend(t,{},!0);l(i.Assets);FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.Container=FXStreet.Util.getjQueryObjectById(n.DataContainerId);n.Container.html(r);n.DataTableContainer=FXStreet.Util.getjQueryObjectById(n.DataTableContainerId);n.DataTableScrollContailer=FXStreet.Util.getjQueryObjectById(n.DataTableScrollId);n.DataTableScrollStartContainer=FXStreet.Util.getjQueryObjectById(n.DataTableScrollStartId);n.DataTableScrollMiddleContainer=FXStreet.Util.getjQueryObjectById(n.DataTableScrollMiddleId);n.DataTableScrollEndContainer=FXStreet.Util.getjQueryObjectById(n.DataTableScrollEndId);n.addEvents();a(i.Assets)})};n.getAndRenderAssetData=function(t){var i=FXStreet.Resource.FxsApiRoutes.RatesTableAssets,r="?assetIds=";$.each(t,function(n,t){r=r+t+","});i=i+r.slice(0,-1);$.get(i).done(function(t){n.renderAssetData(t)}).fail(function(){})};n.renderAssetData=function(t){var i={Translations:n.Translations,Assets:t,ContainerId:n.ContainerId};n.htmlRender(i)};n.hideAllDropDowns=function(){var n=FXStreet.Util.getjQueryObjectBySelector(".fxs_ratestable_container .fxs_dropdown");n&&n.addClass("fxs_hideElements")};var l=function(n){$.each(n,function(n,i){i.Trend?i.TrendClass=i.Trend.toLowerCase():i.Trend=t;i.ObOs?i.ObOsClass=i.ObOs.toLowerCase():i.ObOs=t;i.Volatility=i.Volatility||t;i.Ask=i.Ask||t;i.Bid=i.Bid||t;i.Last=i.Last||t;i.DayHigh=i.DayHigh||t;i.DayLow=i.DayLow||t;i.Open=i.Open||t;i.Change=i.Change||t;i.ChangePercent=i.ChangePercent||t})},a=function(n){v();i={Data:{},Assets:{}};$.each(n,function(n,t){try{p(t);y(t)}catch(i){}});b(n)},v=function(){var n=[];$.each(u,function(t){n.push(t)});n.length>0&&f.Unsubscribe(n,o);u={}},o=function(n){var t=u[n.symbolId],i;t&&(i=t.createJsonFromMsg(n),k(i))},y=function(t){var r=t.ProviderCode,u="fxs_"+n.ContainerId+"_asset_"+t.ProviderCode,f=FXStreet.Util.getjQueryObjectById(u);i.Assets[r]=f},p=function(t){var u=t.ProviderCode,r=[];n.ItemsToRecord.forEach(function(i){var u="fxs_"+n.ContainerId+"_data_"+t.ProviderCode+"_"+i,f=FXStreet.Util.getjQueryObjectById(u);r[i]=f});i.Data[u]=r},w=function(n){var t=new FXStreet.Class.RateMapper;return t.init({PriceProviderCode:n.ProviderCode,DecimalPlaces:n.DecimalPlaces}),t},b=function(n){try{var t=[];$.each(n,function(n,i){var r=w(i);u[i.ProviderCode]=r;t.push(i.ProviderCode)});f.Subscribe(t,o)}catch(i){}},k=function(n){d(n);g(n)},d=function(t){var r=t.Study,u;r.PriceStatics.PriceClass&&(u={Property:"PriceClass",DataObject:r.PriceStatics,Element:i.Assets[r.PriceProviderCode]},n.RatesTableDataCssManager.setCSSBase(u))},g=function(t){var r=t.Study;n.ItemsToRecord.forEach(function(t){if(r.PriceStatics.hasOwnProperty(t)&&i.Data[r.PriceProviderCode][t]&&r.PriceStatics[t]){i.Data[r.PriceProviderCode][t].text(r.PriceStatics[t]);var u={Property:t,DataObject:r.PriceStatics,Element:i.Data[r.PriceProviderCode][t]};n.RatesTableDataCssManager.setCSSBase(u)}})},e=function(){n.DataTableScrollStartContainer.removeClass(r);n.DataTableScrollMiddleContainer.removeClass(r);n.DataTableScrollEndContainer.removeClass(r)};return n.addEvents=function(){s()},s=function(){FXStreet.Util.isMobileDevice()&&FXStreet.Util.isTouchDevice()&&(n.DataTableScrollContailer.removeClass(c),n.DataTableContainer.scroll(function(){var t=n.DataTableContainer.scrollLeft(),i=n.DataTableContainer.find("tbody").width()-n.DataTableContainer.width();t===0?(e(),n.DataTableScrollStartContainer.addClass(r)):t<i?(e(),n.DataTableScrollMiddleContainer.addClass(r)):(e(),n.DataTableScrollEndContainer.addClass(r))}))},n};FXStreet.Class.RatesTableDataCssManager=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t=[];n.init=function(){t=[new u,new f,new r]};n.setCSSBase=function(n){var i=$.grep(t,function(t){return t.isMatch(n.Property)});if(i.length!==0)return i[0].setCSS(n)};var r=function(){const n="PriceClass",t="fxs_widget_ratestable";this.isMatch=function(t){return t===n};this.setCSS=function(n){var i=n.DataObject.PriceClass;i&&!n.Element.hasClass(i)&&(n.Element[0].className=t+" "+i)}},u=function(){var t=["Bid","Ask","Last"];const n="fxs_ratestable_change_bg";this.isMatch=function(n){return $.inArray(n,t)!==-1};this.setCSS=function(t){var i=t.DataObject[t.Property+"Class"];i&&(t.Element[0].className=n+" "+i,setTimeout(function(){t.Element[0].className=n},600))}},f=function(){var n=["Change","ChangePercentWithSymbol"];const t="fxs_ratestable_change";this.isMatch=function(t){return $.inArray(t,n)!==-1};this.setCSS=function(n){var i=n.DataObject.ChangePercentClass;i&&!n.Element.hasClass(i)&&(n.Element[0].className=t+" "+i)}};return n};FXStreet.Class.MyAssetsList=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t="assetsMultiRateSetting";return n.get=function(){var i=null,r;if(typeof Storage!="undefined")try{r=JSON.parse(localStorage.getItem(t));Object.prototype.toString.call(r)==="[object Object]"?(i=Object.keys(r),n.set(i)):i=r}catch(u){}return i},n.set=function(n){Object.prototype.toString.call(n)==="[object Array]"?n.length>0?localStorage.setItem(t,JSON.stringify(n)):localStorage.removeItem(t):console.warn("You are trying to set a wrong value as a "+t+" in the session storage")},n.remove=function(){localStorage.removeItem(t)},n}()}(),function(){FXStreet.Class.Recaptcha=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Config={},n.RecaptchaInitialized=!1,n.CaptchaId="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.htmlRender(t)},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.htmlRender=function(){n.RecaptchaInitialized===!1&&(n.CaptchaId=grecaptcha.render(n.ContainerId,{sitekey:FXStreet.Resource.GoogleReCaptchaSiteKey,callback:n.Config.Callback,size:"invisible",badge:"inline"}),n.RecaptchaInitialized=!0)},n.Reset=function(){grecaptcha.reset(n.CaptchaId)},n.Execute=function(){grecaptcha.execute(n.CaptchaId)},n.GetResponse=function(){var t=grecaptcha.getResponse(n.CaptchaId);return t.length>0},n}}(),function(){FXStreet.Class.RelatedPostsByCategories=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.ContentId="",n.Container=null,n.HtmlTemplateFile="relatedpostsbycategories_default.html",n.RelatedPosts=[],n.init=function(t){n.setSettingsByObject(t);n.setVars();n.renderData()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.renderData=function(){if(n.RelatedPosts!==null&&n.RelatedPosts!==undefined){if(n.RelatedPosts.length<=0){n.hideRelatedContent();return}n.RelatedPosts.forEach(function(n){n.HasVideo=n.JsType=="VideoItem"});var t={RelatedPosts:n.RelatedPosts};n.renderHtml(t)}},n.renderHtml=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.append(r)})},n.hideRelatedContent=function(){var t=$("article[fxs-it-id='"+n.ContentId+"']").find("footer").first();t&&t.hide()},n}}(),function(){FXStreet.Class.ResponsiveDesign=function(){var h=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(h),r={},e=[],o=[],c=1200,l=768,a=1024,t=0,i="Desktop";n.getWindowWidth=function(){return window.innerWidth};var s=function(){t=n.getWindowWidth();var i="DesktopHD";return t<l?i="Mobile":t<a?i="Tablet":t<c&&(i="Desktop"),i},v=function(){i=s();r.Mobile=new FXStreet.Class.Patterns.Observer.Subject;r.Tablet=new FXStreet.Class.Patterns.Observer.Subject;r.Desktop=new FXStreet.Class.Patterns.Observer.Subject;r.DesktopHD=new FXStreet.Class.Patterns.Observer.Subject},y=function(){var t=s(),n;t!==i&&(i=t,n=r[i],n&&n.notify())},p=function(n,t){var i=Math.min(n,t),r=Math.max(n,t),u=n>t?e:o,f=u.filter(function(n,t){return i<t&&t<=r});f.forEach(function(n){n.notify()})},w=function(){var i=t;t=n.getWindowWidth();y();p(t,i)},b=function(){$(window).resize(w)},f=function(n,t,i){var f,u,r;typeof t=="function"&&(f={UpdateDelegate:t},u=new FXStreet.Class.Patterns.Observer.Observer,u.init(f),r=n[i],r||(r=n[i]=new FXStreet.Class.Patterns.Observer.Subject),r.addObserver(u))},u=function(n,t){f(r,n,t)};return n.init=function(t){n.setSettingsByObject(t);v();b()},n.IsDesktop=function(){return i==="Desktop"||i==="DesktopHD"},n.IsMobile=function(){return i==="Mobile"},n.whenWindowResizesToMobile=function(n){u(n,"Mobile")},n.whenWindowResizesToTablet=function(n){u(n,"Tablet")},n.whenWindowResizesToDesktop=function(n){u(n,"Desktop")},n.whenWindowResizesToDesktopHD=function(n){u(n,"DesktopHD")},n.whenWindowDecreaseToSize=function(n,t){f(o,n,t)},n.whenWindowIncreaseToSize=function(n,t){f(e,n,t)},n}}(),function(){FXStreet.Class.SearchManager=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.SearchIconId="",n.IndexId="",n.Translations=null,n.HtmlTemplate="search",n.HtmlTemplateIndex="search-index",n.SearchInputSelector="#fxs-search-input",n.ResultsContainerId="fxs-search-results",n.IndexContainerId="index-data",n.Container=null,n.ResultsContainer=null,n.SearchInput=null,n.SearchIcon=null,n.ApiManager=null,n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.ApiManager!=null?n.enableSearch(t):n.disableSearch()},n.setVars=function(t){n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1));n.SearchIconId!==""&&(n.SearchIcon=FXStreet.Util.getjQueryObjectById(n.SearchIconId,!1));var i=algoliasearch(t.ApiAccount,t.ApiKey,{protocol:location.protocol});n.ApiManager=i.initIndex(n.IndexId)},n.render=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplate).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);n.rendered(t)})},n.rendered=function(){n.SearchInput=FXStreet.Util.getjQueryObjectBySelector(n.SearchInputSelector,!1);n.addEvents()},n.addEvents=function(){if(n.SearchInput!=null)n.SearchInput.on("keyup paste",n.onSearchUpdated);n.SearchIcon.on("click",function(){n.Container.toggleClass("fxs_dBlock")})},n.onSearchUpdated=function(){var t=n.SearchInput.val();n.search(t)},n.search=function(t){if(t!==""){var i={hitsPerPage:50,maxValuesPerFacet:3,filters:"CultureName:"+FXStreet.Resource.CultureName};n.ApiManager.search(t,i,n.searchDone)}else n.searchOff()},n.searchDone=function(t,i){var u,r;t==null?(u=i.hits,n.CalculatePublicationDate(u),r={Index:n.IndexId,Suggestions:u,Translations:n.Translations,Query:i.query},n.renderIndex(r)):(r={Index:n.IndexId,Suggestions:[],Translations:n.Translations},n.renderIndex(r),console.log(t.message));n.ResultsContainer=FXStreet.Util.getjQueryObjectById(n.ResultsContainerId,!1);n.ResultsContainer!=null&&n.ResultsContainer.show()},n.searchOff=function(){var t=FXStreet.Util.getjQueryObjectById(n.IndexContainerId,!1);t!=null&&t.empty()},n.renderIndex=function(t){var i=FXStreet.Util.getjQueryObjectById(n.IndexContainerId,!1);FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateIndex).done(function(r){var u=FXStreet.Util.renderByHtmlTemplate(r,t);i!=null&&(i.html(u),i.find(".fxs_it_close").click(n.searchOff))})},n.enableSearch=function(t){n.render(t)},n.disableSearch=function(){n.SearchIcon.remove();n.Container.remove()},n.CalculatePublicationDate=function(t){t.forEach(function(t){t.PublicationTime!=undefined&&(t.Publication=n.GetUserDateByUnix(t.PublicationTime))})},n.GetUserDateByUnix=function(n){return FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().GetUserDateByUnix(n)},n};FXStreet.Class.AdvancedSearchManager=function(){var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e),i;n.ContainerId="";n.IndexId="";n.CategoryFiltered="";n.ShowTitle=!0;n.ShowClearAll=!0;n.ShowSearchBox=!0;n.SearchPlaceholder="";n.HideFiltersOnMobile=!1;n.AllowFiltersCollapse=!0;n.ShowTagFilter=!0;n.TagsTitle="";n.TagsPlaceholder="";n.TagsLimit=0;n.ShowAuthorFilter=!0;n.AuthorsTitle="";n.AuthorsPlaceholder="";n.AuthorsLimit=0;n.DefaultStatsFilter="";n.ShowResultImage=!0;n.DisplayGrid=!0;n.Translations=null;n.HttpPushServerUrl="";n.HttpPushServerKeysUrl="";n.HttpPushFeatures=[];n.HtmlTemplate="search_configurable";n.HtmlTemplateFilter="advanced_search_filter";n.HtmlTemplateResults="advanced_search_results";n.Container=null;n.ApiManager=null;n.Widgets=null;n.HitsWidget=null;n.Templates={Filter:{ClearAll:{Template:"advanced_search_filter_clear_all",Content:""},RefinementListHeader:{Template:"advanced_search_filter_refinement_list_header",Content:""},RefinementListNoResults:{Template:"advanced_search_filter_refinement_list_no_results",Content:""},RefinementListItem:{Template:"advanced_search_filter_refinement_list_item",Content:""}},Results:{Hit:{Template:"advanced_search_results_hit",Content:""},HitEmpty:{Template:"advanced_search_results_hit_empty",Content:""},PaginationPrevious:{Template:"advanced_search_results_pagination_previous",Content:""},PaginationNext:{Template:"advanced_search_results_pagination_next",Content:""}},Stats:{AboutResults:{Template:"advanced_search_stats_about",Content:""}}};n.Alert=null;n.AlertCloseButton=null;n.init=function(t){n.setSettingsByObject(t);n.setVars(t);n.render(t);g()};n.setVars=function(t){n.ApiManager=instantsearch({appId:t.ApiAccount,apiKey:t.ApiKey,indexName:n.IndexId,urlSync:!0,protocol:location.protocol,searchParameters:{filters:i()}});n.ContainerId!==""&&(n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId,!1));n.Widgets={Categories:{ContainerSelector:"#filter-categories",Name:"Category",Title:n.Translations.CategoriesTitle,PlaceHolder:n.Translations.CategoriesPlaceHolder,Typeahead:!1},Tags:{ContainerSelector:"#filter-tags",Name:"Tags",Title:n.TagsTitle,PlaceHolder:n.TagsPlaceholder,Typeahead:!0,Limit:n.TagsLimit},Authors:{ContainerSelector:"#filter-authors",Name:"AuthorName",Title:n.AuthorsTitle,PlaceHolder:n.AuthorsPlaceholder,Typeahead:!0,Limit:n.AuthorsLimit},ClearAll:{ContainerSelector:"#clear-all",Title:n.Translations.ClearAllTitle},SearchBox:{ContainerSelector:"#q",PlaceHolder:n.SearchPlaceholder},Stats:{ContainerSelector:"#stats"},Hits:{ContainerSelector:"#hits"},Pagination:{ContainerSelector:"#pagination"},ItemsPerPage:{ContainerSelector:"#items-per-page-selector"}}};i=function(){var t="CultureName:"+FXStreet.Resource.CultureName;return n.CategoryFiltered!==""&&(t+=" AND Category:'"+n.CategoryFiltered+"'"),t};n.render=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplate).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r);o(t);s(t);c(t);w()})};var o=function(t){var i=[n.Templates.Filter.ClearAll,n.Templates.Filter.RefinementListHeader,n.Templates.Filter.RefinementListNoResults,n.Templates.Filter.RefinementListItem,n.Templates.Results.Hit,n.Templates.Results.HitEmpty,n.Templates.Results.PaginationPrevious,n.Templates.Results.PaginationNext,n.Templates.Stats.AboutResults];r(i,0,t)},r=function(n,t,i){t<n.length&&FXStreet.Util.loadHtmlTemplate(n[t].Template).done(function(u){n[t].Content=FXStreet.Util.renderByHtmlTemplate(u,i);r(n,t+1,i)})},s=function(){var i=!1;n.CategoryFiltered===""&&(t(n.Widgets.Categories),i=!0);n.ShowTagFilter&&(t(n.Widgets.Tags),i=!0);n.ShowAuthorFilter&&(t(n.Widgets.Authors),i=!0);i&&n.ShowClearAll&&h()},h=function(){var t=n.Widgets.ClearAll;n.ApiManager.addWidget(instantsearch.widgets.clearAll({container:t.ContainerSelector,templates:{link:n.Templates.Filter.ClearAll.Content},cssClasses:{root:"btn btn-block btn-default"},autoHideContainer:!0}))},t=function(t){var i={container:t.ContainerSelector,attributeName:t.Name,operator:"or",limit:t.Limit===0?10:t.Limit||10,templates:{item:n.Templates.Filter.RefinementListItem.Content,header:n.Templates.Filter.RefinementListHeader.Content.replace("{FILTER_HEADER}",t.Title)},collapsible:n.AllowFiltersCollapse,sortBy:["isRefined","count:desc"]};t.Typeahead&&(i.searchForFacetValues={placeholder:t.PlaceHolder,templates:{noResults:n.Templates.Filter.RefinementListNoResults.Content}});n.ApiManager.addWidget(instantsearch.widgets.refinementList(i))},c=function(){l();a();y();p();n.ApiManager.start()},l=function(){var t=n.Widgets.SearchBox;n.ApiManager.addWidget(instantsearch.widgets.searchBox({container:t.ContainerSelector,placeholder:t.PlaceHolder}))},a=function(){var t=n.Widgets.Stats;n.ApiManager.addWidget(instantsearch.widgets.stats({container:t.ContainerSelector,templates:{body:n.Templates.Stats.AboutResults.Content},transformData:function(t){var i=v();return{AboutText:n.Translations.AboutText.replace("{{Hits}}",t.nbHits),AboutForText:n.Translations.AboutForText.replace("{{Hits}}",t.nbHits),Filters:i,HasFilters:i.length>0}}}))},v=function(){var r=u(),e=f(),t=r.concat(e),i;return n.CategoryFiltered===""&&(i=d(),t=i.concat(t)),t.length===0&&n.DefaultStatsFilter!==""&&(t=[n.DefaultStatsFilter]),$.map(t,function(n,i){return{Value:n,HasComma:i!==t.length-1}})},y=function(){var i=n.Widgets.Hits,t=instantsearch.widgets.hits({container:i.ContainerSelector,hitsPerPage:20,templates:{empty:n.Templates.Results.HitEmpty.Content,item:n.Templates.Results.Hit.Content},transformData:function(t){t.ShowResultImage=n.ShowResultImage;t.ShowResultCategory=n.CategoryFiltered==="";t.DisplayGrid=n.DisplayGrid;t.PublicationTime=k(t.PublicationTime);t.stars=[];for(var i=1;i<=5;++i)t.stars.push(i<=t.rating);return t}});n.ApiManager.addWidget(t);n.HitsWidget=t},p=function(){var t=n.Widgets.Pagination;n.ApiManager.addWidget(instantsearch.widgets.pagination({container:t.ContainerSelector,cssClasses:{active:"active"},labels:{previous:n.Templates.Results.PaginationPrevious.Content,next:n.Templates.Results.PaginationNext.Content},showFirstLast:!1}))},w=function(){n.Alert=FXStreet.Util.getjQueryObjectById("fxs_search_alert_"+n.ContainerId,!1);n.AlertCloseButton=FXStreet.Util.getjQueryObjectById("fxs_search_alert_btn_"+n.ContainerId,!1);n.AlertCloseButton.click(b)},b=function(t){t.preventDefault();n.Alert.addClass("fxs_hideElements")},k=function(n){return FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().GetUserDateByUnix(n)},d=function(){var t=n.ApiManager.helper.state;return t.disjunctiveFacetsRefinements.Category?t.disjunctiveFacetsRefinements.Category:[]},u=function(){var t=n.ApiManager.helper.state;return t.disjunctiveFacetsRefinements.Tags?t.disjunctiveFacetsRefinements.Tags:[]},f=function(){var t=n.ApiManager.helper.state;return t.disjunctiveFacetsRefinements.AuthorName?t.disjunctiveFacetsRefinements.AuthorName:[]},g=function(){if(typeof FXStreetPush!="undefined"){var t={tokenUrl:n.HttpPushServerKeysUrl,httpPushServerUrl:n.HttpPushServerUrl,culture:FXStreet.Resource.CultureName},i=FXStreetPush.PushNotification.getInstance(t);i.postSubscribe(n.HttpPushFeatures,nt)}else console.log("FXStreetPush load failed")},nt=function(t){tt(t)&&it(t)&&n.Alert.removeClass("fxs_hideElements")},tt=function(n){var i=u(),t,f,r,e;if(i.length===0)return!0;if(!n.Tags)return!1;for(t=0;t<i.length;t++)for(f=i[t],r=0;r<n.Tags.length;r++)if(e=n.Tags[t],e.Name===f)return!0;return!1},it=function(n){var i=f(),t,r;if(i.length===0)return!0;for(t=0;t<i.length;t++)if(r=i[t],n.Author&&n.Author.Name===r)return!0;return!1};return n}}(),function(){FXStreet.Class.Patterns.Singleton.SeoMetaTags=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.FullUrl="",n.Image="",n.MetaTitle="",n.Summary="",n.Keywords="",n.init=function(t){n.setSettingsByObject(t)},n.initHomeMetaTagsObject=function(t){n.FullUrl=t.FullUrl;n.Image=t.Image;n.MetaTitle=t.MetaTitle;n.Summary=t.Summary;n.Keywords=t.Keywords},n};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){FXStreet.Class.Seo={};FXStreet.Class.Seo.Base=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.updateMetaTags=function(){},n.setUrlToHistory=function(n,t,i){FXStreet.Util.updateUrl(i,n,t)},n.isValid=function(t){return t!=null&&!n.isUndefined(t)},n.isUndefined=function(n){return typeof n=="undefined"},n};FXStreet.Class.Seo.Post=function(){var t=FXStreet.Class.Seo.Base(),n=FXStreet.Util.extendObject(t),i=function(n){if(n){var t=n.SEO;$("meta[name='description']").attr("content",t.MetaDescription);$("meta[name='keywords']").attr("content",t.KeyWords);document.title=t.MetaTitle}},r=function(t){if(t){var i=t.SEO,r=t.Image;$("meta[property='og\\:title']").attr("content",i.MetaTitle);$("meta[property='og\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[property='og\\:image']").attr("content",r.Url_Small);$("meta[property='og\\:url']").attr("content",i.FullUrl)}},u=function(t){if(t){var i=t.SEO,r=t.Image;$("meta[name='twitter\\:title']").attr("content",i.MetaTitle);$("meta[name='twitter\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[name='twitter\\:image']").attr("content",r.Url_Small);$("meta[name='twitter\\:url']").attr("content",i.FullUrl)}},f=function(t){if(t){var i=t.SEO,r=i.FullUrl.replace(/ /g,"-").toLowerCase();n.setUrlToHistory(i.MetaTitle,r,t.Id)}},e=function(n){n.SEO.AmpUrl!==null&&n.SEO!==""&&($("link[rel=amphtml]").length>0?$("link[rel=amphtml]").attr("href",n.SEO.AmpUrl):$("head").append($("<link rel='amphtml' />").attr("href",n.SEO.AmpUrl)))};return n.updateMetaTags=function(n){i(n);r(n);u(n);f(n);t.updateMetaTags(n,null);e(n)},n};FXStreet.Class.Seo.Home=function(){var t=FXStreet.Class.Seo.Base(),n=FXStreet.Util.extendObject(t),i=function(n){n!==undefined&&n!==null&&($("meta[name='description']").attr("content",n.Summary),$("meta[name='keywords']").attr("content",n.Keywords),document.title=n.MetaTitle)},r=function(n){n&&($("meta[property='og\\:title']").attr("content",n.MetaTitle),$("meta[property='og\\:description']").attr("content",n.Summary),$("meta[property='og\\:image']").attr("content",n.Image?n.Image.Url_Small:""),$("meta[property='og\\:url']").attr("content",n.FullUrl))},u=function(n){n&&($("meta[name='twitter\\:title']").attr("content",n.MetaTitle),$("meta[name='twitter\\:description']").attr("content",n.Summary),$("meta[name='twitter\\:image']").attr("content",n.Image?n.Image.Url_Small:""),$("meta[name='twitter\\:url']").attr("content",n.FullUrl))},f=function(t,i){if(t!==undefined&&t!==null){var r=t.replace(/ /g,"-").toLowerCase();n.setUrlToHistory("",r,i)}};return n.updateMetaTags=function(n){i(n);r(n);u(n);f(FXStreet.Resource.PageUrl,"fxs_home");t.updateMetaTags(null,n)},n};FXStreet.Class.Seo.RatesAndCharts=function(){var t=FXStreet.Class.Seo.Base(),n=FXStreet.Util.extendObject(t),i=function(n){if(n){var t=n.SEO;$("meta[name='description']").attr("content",t.MetaDescription);$("meta[name='keywords']").attr("content",t.KeyWords);document.title=t.MetaTitle}},r=function(t){if(t){var i=t.SEO,r=t.Image||{};$("meta[property='og\\:title']").attr("content",i.MetaTitle);$("meta[property='og\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[property='og\\:image']").attr("content",r.Url_Small);$("meta[property='og\\:url']").attr("content",i.FullUrl)}},u=function(t){if(t){var i=t.SEO,r=t.Image||{};$("meta[name='twitter\\:title']").attr("content",i.MetaTitle);$("meta[name='twitter\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[name='twitter\\:image']").attr("content",r.Url_Small);$("meta[name='twitter\\:url']").attr("content",i.FullUrl)}},f=function(t){if(t){var i=t.SEO,r=i.FullUrl.replace(/ /g,"-").toLowerCase();n.setUrlToHistory(i.MetaTitle,r,t.Id)}};return n.updateMetaTags=function(n){i(n);r(n);u(n);f(n);t.updateMetaTags(n,null)},n};FXStreet.Class.Seo.Brokers=function(){var t=FXStreet.Class.Seo.Base(),n=FXStreet.Util.extendObject(t),i=function(n){if(n){var t=n.SEO;$("meta[name='description']").attr("content",t.MetaDescription);$("meta[name='keywords']").attr("content",t.KeyWords);document.title=t.MetaTitle}},r=function(t){if(t){var i=t.SEO,r=t.Image||{};$("meta[property='og\\:title']").attr("content",i.MetaTitle);$("meta[property='og\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[property='og\\:image']").attr("content",r.Url_Small);$("meta[property='og\\:url']").attr("content",i.FullUrl)}},u=function(t){if(t){var i=t.SEO,r=t.Image||{};$("meta[name='twitter\\:title']").attr("content",i.MetaTitle);$("meta[name='twitter\\:description']").attr("content",i.MetaDescription);n.isValid(r)&&$("meta[name='twitter\\:image']").attr("content",r.Url_Small);$("meta[name='twitter\\:url']").attr("content",i.FullUrl)}},f=function(t,i){if(t){var r=i+"/"+t.Url.toLowerCase();n.setUrlToHistory("",r,t.Id)}};return n.updateMetaTags=function(n,e){i(n);r(n);u(n);f(n,e);t.updateMetaTags(n,null)},n}}(),function(){FXStreet.Class.Patterns.Singleton.FxsSessionStorageManager=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Save=function(n,t){sessionStorage.setItem(n,t)},n.Delete=function(n){sessionStorage.removeItem(n)},n.Get=function(n){return sessionStorage.getItem(n)},n.Exist=function(t){var i=n.GetValue(t);return i!=null},n};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){FXStreet.Class.Sidebar.FilterBroker=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Brokers=[],n.FilterChangeDelegate=null,n.ApplyFiltersBtnId="",n.CancelBtnId="",n.BusinessNatureSelectId="",n.RegulationsCheckBoxGroupId="",n.MinDepositInputId="",n.MaxLeverageInputId="",n.FilterBtnId="",n.FilterHeaderContainerId="",n.ApplyFiltersBtn=null,n.CancelBtn=null,n.BusinessNatureSelect=null,n.RegulationsCheckBoxGroup=null,n.MinDepositInput=null,n.MaxLeverageInput=null,n.FilterBtnId=null,n.FilterHeaderContainer=null,n.FilteredBrokers=[],n.BusinessNatures=[],n.Regulations=[],n.BusinessNatureSelected=[],n.RegulationsSelected=[],n.MinDepositSelected=0,n.MaxLeverageSelected=0,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents()},n.setVars=function(){n.Brokers=n.Brokers.slice();n.ApplyFiltersBtn=FXStreet.Util.getjQueryObjectById(n.ApplyFiltersBtnId);n.CancelBtn=FXStreet.Util.getjQueryObjectById(n.CancelBtnId);n.BusinessNatureSelect=FXStreet.Util.getjQueryObjectById(n.BusinessNatureSelectId);n.RegulationsCheckBoxGroup=FXStreet.Util.getjQueryObjectById(n.RegulationsCheckBoxGroupId);n.MinDepositInput=FXStreet.Util.getjQueryObjectById(n.MinDepositInputId);n.MaxLeverageInput=FXStreet.Util.getjQueryObjectById(n.MaxLeverageInputId);n.FilterBtn=FXStreet.Util.getjQueryObjectById(n.FilterBtnId);n.FilterHeaderContainer=FXStreet.Util.getjQueryObjectById(n.FilterHeaderContainerId);n.fillDefaultData();n.populateFields()},n.addEvents=function(){n.ApplyFiltersBtn.click(n.ApplyFiltersBtnClick);n.CancelBtn.click(n.cancelBtnClick);n.BusinessNatureSelect.change(n.businessNatureSelectChange);n.MinDepositInput.blur(n.minDepositInputOnBlur);n.MaxLeverageInput.blur(n.maxLeverageInputOnBlur);n.RegulationsCheckBoxGroup.find("input[type=checkbox]").click(n.regulationsCheckClick);n.FilterBtn.click(n.filterBtnClick)},n.ApplyFiltersBtnClick=function(){n.FilteredBrokers=n.Brokers.slice();n.FilteredBrokers=n.filterByBusinessNature(n.FilteredBrokers);n.FilteredBrokers=n.filterByRegulations(n.FilteredBrokers);n.FilteredBrokers=n.filterByMinDeposit(n.FilteredBrokers);n.FilteredBrokers=n.filterByMaxLeverage(n.FilteredBrokers);n.FilterChangeDelegate(n.FilteredBrokers.slice())},n.cancelBtnClick=function(){n.FilterHeaderContainer.toggleClass("active")},n.filterBtnClick=function(){n.FilterHeaderContainer.toggleClass("active")},n.businessNatureSelectChange=function(){var t=n.BusinessNatureSelect.find("option:selected");if(!t||t.val()===""||t.index()===0){n.BusinessNatureSelected=[];return}n.BusinessNatureSelected.push(t.val())},n.regulationsCheckClick=function(){var t=$(this).val();this.checked===!0?n.RegulationsSelected.push(t):n.RegulationsSelected=$.grep(n.RegulationsSelected,function(n){return n!==t})},n.minDepositInputOnBlur=function(){var t=n.MinDepositInput.val();n.MinDepositSelected=$.isNumeric(t)?parseFloat(t):0},n.maxLeverageInputOnBlur=function(){var t=n.MaxLeverageInput.val();n.MaxLeverageSelected=$.isNumeric(t)?parseInt(t):0},n.fillDefaultData=function(){$.each(n.Brokers,function(t,i){i.BusinessNature!==null&&i.BusinessNature&&i.BusinessNature.length>0&&(n.BusinessNatures=$.merge(n.BusinessNatures,i.BusinessNature));i.Regulated!==null&&i.Regulated&&i.Regulated.length>0&&(n.Regulations=$.merge(n.Regulations,i.Regulated))});n.BusinessNatures=$.unique(n.BusinessNatures);n.Regulations=$.unique(n.Regulations)},n.populateFields=function(){$.each(n.BusinessNatures,function(t,i){n.BusinessNatureSelect.append($("<option><\/option>").val(i).html(i))});var t="";$.each(n.Regulations,function(n,i){t+='<label class="fxs_checkboxGroup"><input type="checkbox" value="'+i+'"/>'+i+"<\/label>"});n.RegulationsCheckBoxGroup.html(t)},n.filterByBusinessNature=function(t){return n.BusinessNatureSelected===null||n.BusinessNatureSelected.length===0?t:$.grep(t,function(t){if(!t.BusinessNature)return!1;return $(t.BusinessNature).filter(n.BusinessNatureSelected).length>0})},n.filterByRegulations=function(t){return n.RegulationsSelected===null||n.RegulationsSelected.length===0?t:$.grep(t,function(t){if(!t.Regulated)return!1;return $(t.Regulated).filter(n.RegulationsSelected).length>0})},n.filterByMinDeposit=function(t){return n.MinDepositSelected===0?t:$.grep(t,function(t){if(!t.AccountTypes)return!1;var i=$.grep(t.AccountTypes,function(t){var i=/\d+(?:\.\d+)?/.exec(t.MinPrice),r;return i=i.length>0?i[0].replace(",","."):"0",r=parseFloat(i),r>=n.MinDepositSelected});return i.length>0})},n.filterByMaxLeverage=function(t){return n.MaxLeverageSelected===0?t:$.grep(t,function(t){return t.Leverage>=n.MaxLeverageSelected})},n}}(),function(){FXStreet.Class.Sidebar.Filter=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.FindBy_Options=[],n.NewItemCreatedDelegate=null,n.SidebarNewItemsAlertId="",n.SidebarSeeLatestNewsId="",n.ShowLeftPushId="",n.ShowRightPushId="",n.ShowLeftId="",n.MenuLeftId="",n.MenuRightId="",n.ListViewId="",n.OptionSelectedDelegate=null,n.TypeaheadJsonInitialization={},n.IsReferral=!1,n.ShowSeeLatest=!1,n.HtmlTemplateName="typeahead_suggestion.html",n.SidebarNewItemsAlert=null,n.SidebarSeeLatestNews=null,n.PageTitle="",n.PostsCreated=[],n.Resources=FXStreet.Resource.Translations.Sidebar_FilterAndList,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.initTypeahead()},n.setVars=function(){n.PageTitle=document.title;n.Suggestions=$("<div/>");n.Suggestions.insertAfter(FXStreet.Util.getjQueryObjectById(n.TypeaheadJsonInitialization.TypeaheadId));n.SidebarNewItemsAlert=FXStreet.Util.getjQueryObjectById(n.SidebarNewItemsAlertId);n.SidebarSeeLatestNews=FXStreet.Util.getjQueryObjectById(n.SidebarSeeLatestNewsId);n.SidebarSeeLatestNews.attr("href",FXStreet.Resource.PageUrl);n.IsReferral===!0&&n.ShowSeeLatest&&n.SidebarSeeLatestNews.html(n.Resources.SidebarSeeLatestText)},n.addEvents=function(){n.SidebarNewItemsAlert.on("click",n.sidebarNewItemsAlertClick)},n.initTypeahead=function(){n.TypeaheadJsonInitialization.FindBy_Options=n.FindBy_Options;n.TypeaheadJsonInitialization.CloseDelegated=n.CloseDelegated;n.TypeaheadJsonInitialization.PlaceholderText=FXStreet.Resource.Translations.Sidebar_FilterAndList.Filter_Search;n.Typeahead=new FXStreet.Class.Sidebar.Typeahead;n.Typeahead.init(n.TypeaheadJsonInitialization);n.startObserveTypeahead()},n.startObserveTypeahead=function(){n.Typeahead.addObserver(n.ChangeTypeaheadDelegated)},n.stopObserveTypeahead=function(){n.Typeahead.removeObserver(n.ChangeTypeaheadDelegated)},n.resetBody=function(){var n=FXStreet.Class.Sidebar.Util.RenderizableListItems[0];n&&n.RenderedItemInPage.resetBody()},n.ChangeTypeaheadDelegated=function(t){t&&(n.OptionSelectedDelegate(t.queryString,t.id),n.DefaultLoaded=!1)},n.CloseDelegated=function(){n.resetBody();n.loadDefault()},n.loadDefault=function(){!n.DefaultLoaded&&n.FindBy_Options[0]&&(n.OptionSelectedDelegate(n.FindBy_Options[0].QueryStringKey,n.SelectedTypeaheadId||null),n.DefaultLoaded=n.SelectedTypeaheadId===null,n.SelectedTypeaheadId=null)},n.getMatches=function(t){t=t.toLowerCase();var i=n.getValuesContainings(t);return i.length>0?i:n.levenshteinMatches(t)},n.getValuesContainings=function(t){var i=new RegExp($.ui.autocomplete.escapeRegex(t),"i"),r=$.grep(n.ValuesOptions,function(n){return i.test(n.Value.Name)});return r.sort(function(n,i){var r=n.Value.Name,u=i.Value.Name;return r.indexOf(t)-u.indexOf(t)})},n.removeIfInvalid=function(){var t,i;if(n.Typeahead.val()!==""){if(t=n.getTypeaheadSelected(),t){n.Typeahead.val(t.Value.Name);return}i=n.Typeahead.val();n.Typeahead.val(n.CurrentSelectedItem.Name);console.log("'"+i+"' didn't match any item")}},n.getTypeaheadSelected=function(){var t=n.Typeahead.val(),i=t.toLowerCase();return n.ValuesOptions.findFirst(function(n){return n.Value.Name.toLowerCase()===i})},n.sidebarNewItemsAlertClick=function(){return n.NewItemCreatedDelegate(n.PostsCreated),n.PostsCreated=[],n.SidebarNewItemsAlert.empty(),document.title=n.PageTitle,!1},n.newPostCreated=function(t){if(n.IsReferral!==!0)if(n.Typeahead.CurrentSelectedItem===null||n.Typeahead.CurrentSelectedItem.id.length===0)n.renderNewItemCreated(t);else for(var i=0;i<t.categoriesIds.length;i++)if(t.categoriesIds[i]===n.Typeahead.CurrentSelectedItem.id){n.renderNewItemCreated(t);break}},n.renderNewItemCreated=function(t){n.PostsCreated.unshift(t);n.SidebarNewItemsAlert.html(n.Resources.ItemUpdateTextFormat.format(n.PostsCreated.length));document.title="({0}) {1}".format(n.PostsCreated.length,n.PageTitle)},n}}(),function(){FXStreet.Class.Sidebar.List={};FXStreet.Class.Sidebar.List.Base=function(){var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r),t,i;return n.ListItemsContainerId="",n.ScrollingContainerId="",n.FilterBy_FxsApiRoute="",n.SidebarFeedbackLoadingMsgId="",n.SidebarFeedbackNoMoreContentMsgId="",n.HighlightCssClass="listView_item_active",n.SidebarFeedbackLoadingMsg=null,n.SidebarFeedbackNoMoreContentMsg=null,n.ListItemsContainer=null,n.ScrollingContainer=null,n.ListValues=[],n.DefaultTake=20,n.CurrentPage=1,n.CurrentQueryStringValues=[],n.InfiniteScroll=null,n.RenderizableListItemsCurrentIndex=-1,n.ListDataServerResponse=[],n.IsReferral=!1,n.TemplateList=null,n.OnClickDelegate=null,n.SidebarNoContentFoundId="",n.SidebarNoContentFound=null,n.LoadInitialDataServer=!0,n.InitialReferralItem=null,n.ItemsToPreload=2,n.ContentType="",n.TakeElements={},n.ContentTypeId=0,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.setTexts();n.LoadInitialDataServer&&n.loadInitialDataServerResponse()},n.setVars=function(){n.ListItemsContainer=FXStreet.Util.getjQueryObjectById(n.ListItemsContainerId);n.ScrollingContainer=FXStreet.Util.getjQueryObjectById(n.ScrollingContainerId);n.SidebarFeedbackLoadingMsg=FXStreet.Util.getjQueryObjectById(n.SidebarFeedbackLoadingMsgId);n.SidebarFeedbackNoMoreContentMsg=FXStreet.Util.getjQueryObjectById(n.SidebarFeedbackNoMoreContentMsgId);n.SidebarNoContentFoundId!=""&&(n.SidebarNoContentFound=FXStreet.Util.getjQueryObjectById(n.SidebarNoContentFoundId));(n.InfiniteScroll===null||n.InfiniteScroll===undefined)&&(n.InfiniteScroll=n.createInfiniteScroll());n.TemplateList===null&&(n.TemplateList=FXStreet.Util.getObjectInstance("TemplateList"));n.LoadDefaultTake()},n.LoadDefaultTake=function(t){n.DefaultTake=t?t:n.TakeElements&&n.TakeElements.Mobile&&n.TakeElements.Desktop?FXStreet.Util.isMobileDevice()?n.TakeElements.Mobile:n.TakeElements.Desktop:20},n.setTexts=function(){n.SidebarFeedbackNoMoreContentMsg.find("span").html(FXStreet.Resource.Translations.Sidebar_FilterAndList.NoMoreContentToLoad)},n.Render=function(t){n.CurrentQueryStringValues=t;n.CurrentPage=1;n.ListItemsContainer.empty();n.SidebarNoContentFound!=null&&n.SidebarNoContentFound.html("");var i,r=$.grep(t,function(n){return n.Key.toLowerCase()!=="page"&&n.Key.toLowerCase()!=="take"});return i=r.length>0?n.createUrl(n.FilterBy_FxsApiRoute,n.CurrentQueryStringValues,n.CurrentPage,n.ContentTypeId):n.createUrlDefaultUrl(),n.renderPrivate(i).then(n.ListRendered)},n.loadInitialDataServerResponse=function(){n.ListValues=[];n.ListDataServerResponse=n.ListDataServerResponse||[];n.handleNoMoreContent(n.ListDataServerResponse);n.IsReferral&&n.ListDataServerResponse[0]&&(n.InitialReferralItem=n.ListDataServerResponse[0]);FXStreet.Class.Sidebar.Util.renderList(n.ListDataServerResponse,n.ListValues,n.renderCallback,n.clickOnItem,i,!1,!0,n.InitialReferralItem?n.InitialReferralItem.Id:null);$.each(n.ListValues,function(i,r){var u=n.ListItemsContainer.find($(document.getElementById(r.Id))),f;if(u){if(r.Container=u,r.RenderedItemInPage){f=FXStreet.Class.Sidebar.Util.RenderizableListItems[r.RenderedItemInPage.PositionInRenderizableListItems];u.on("click",function(){t(f)})}}else console.warn("The li with id "+r.Id+" was not found")})},t=function(t){n.TemplateList.ListLeft_ShowButton_Click();t.click()},n.ListRendered=function(){FXStreet.Util.fillPageSpace()},n.LoadNewItemsCreated=function(t){var i=t.length;$.each(FXStreet.Class.Sidebar.Util.RenderizableListItems,function(n,t){t.RenderedItemInPage.IncreasePosition(i)});n.RenderizableListItemsCurrentIndex+=i;n.renderPrivateSuccess(t,!0)},n.renderPrivate=function(t,i){return n.SidebarFeedbackLoadingMsg.show(),$.getJSON(t,function(t){t=t||{Result:[]};n.renderPrivateSuccess(t.Result,i)})},n.renderPrivateSuccess=function(t,r){r=r||!1;n.SidebarFeedbackLoadingMsg.hide();n.ListItemsContainer.find("li:empty").remove();t.length==0&&n.Render([]).done(function(){n.SidebarNoContentFound!=null&&n.SidebarNoContentFound.html(FXStreet.Resource.Translations.Sidebar_FilterAndList.NoContentFound)});r?(n.renderLiForNewItems(t),n.prependToListDataServerResponse(t)):(n.handleNoMoreContent(t),n.renderLi(t),n.addToListDataServerResponse(t));FXStreet.Class.Sidebar.Util.renderList(t,n.ListValues,n.renderCallback,n.clickOnItem,i,r)},n.renderLi=function(t){$.each(t,function(t,i){var r=$("<li>").attr("id",i.Id);n.ListItemsContainer.append(r)})},n.renderLiForNewItems=function(t){t.reverse();$.each(t,function(t,i){var r=$("<li>").attr("id",i.Id);n.ListItemsContainer.prepend(r)});t.reverse()},i=function(t){for(var i=0;i<n.ListDataServerResponse.length;i++)if(n.ListDataServerResponse[i].Id===t.Id){n.ListDataServerResponse[i]=t;break}},n.addToListDataServerResponse=function(t){$.each(t,function(t,i){n.ListDataServerResponse.push(i)})},n.prependToListDataServerResponse=function(t){t.reverse();$.each(t,function(t,i){n.ListDataServerResponse.unshift(i)});t.reverse()},n.createUrlDefaultUrl=function(){return n.createUrl(n.FilterBy_FxsApiRoute,n.CurrentQueryStringValues,n.CurrentPage,n.ContentTypeId)},n.createUrl=function(t,i,r,u){var f=[{Key:"take",Value:n.DefaultTake},{Key:"page",Value:r},{Key:"contenttype",Value:u}],e;return n.InitialReferralItem&&f.push({Key:"dateto",Value:n.InitialReferralItem.PublicationDate}),e=$.merge(f,i),FXStreet.Util.createUrl(FXStreet.Resource.FxsApiRoutes[t],e)},n.handleNoMoreContent=function(t){var i=0,r;$.each(t,function(n,t){t.Items!==undefined?i+=t.Items.length:i++});i<n.DefaultTake&&(n.InfiniteScroll.NotMoreContent=!0,n.SidebarFeedbackNoMoreContentMsg.show(),n.SidebarFeedbackLoadingMsg.hide(),r={JsType:"NoMoreContent",Id:FXStreet.Util.guid()},t.push(r))},n.renderCallback=function(i,r){var u=n.ListItemsContainer.find($(document.getElementById(i.Id))),f;if(u!==undefined&&u!==null){if(u.replaceWith(r),u.off("click"),i.RenderedItemInPage){f=FXStreet.Class.Sidebar.Util.RenderizableListItems[i.RenderedItemInPage.PositionInRenderizableListItems];$(r).on("click",function(){t(f)})}n.IsReferral&&i.RenderedItemInPage&&i.RenderedItemInPage.PositionInRenderizableListItems===0&&n.highlightItem(i.RenderedItemInPage.PositionInRenderizableListItems)}},n.createInfiniteScroll=function(){var t=new FXStreet.Class.InfiniteScroll;t.init({ScrollingElement:n.ListItemsContainer,ScrollingContent:n.ScrollingContainer,LoadFollowingDelegatePromise:n.RenderFollowingContent,LoadingMoreId:"sidebarFeedbackLoadingMsg"});t.ScrollingContent.on("mousewheel DOMMouseScroll",function(n){var t=n.wheelDelta||n.originalEvent&&n.originalEvent.wheelDelta||-n.detail,i=this.scrollTop+$(this).outerHeight()-this.scrollHeight>=0,r=this.scrollTop<=0;(t<0&&i||t>0&&r)&&n.preventDefault()});return t},n.RenderFollowingContent=function(){return n.CurrentPage++,n.renderPrivate(n.createUrlDefaultUrl())},n.setCurrent=function(t){var i=n.getItemByPosition(t);return n.removeHighlightItem(),n.RenderizableListItemsCurrentIndex=t,i&&(n.highlightItem(t),n.moveItemListToTop(i)),n.loadItems(t,!0)},n.setHome=function(){n.removeHighlightItem();n.RenderizableListItemsCurrentIndex=-1;n.loadItems(0,!0);n.moveItemListToTop(FXStreet.Class.Sidebar.Util.RenderizableListItems[0])},n.moveNext=function(){var t=n.RenderizableListItemsCurrentIndex+1;n.setCurrent(t)},n.movePrevious=function(){var t=n.RenderizableListItemsCurrentIndex-1;n.setCurrent(t)},n.loadNext=function(){n.loadPrivate(n.RenderizableListItemsCurrentIndex+1)},n.loadPrevious=function(){n.loadPrivate(n.RenderizableListItemsCurrentIndex-1)},n.loadPrivate=function(t){var i=FXStreet.Class.Sidebar.Util.RenderizableListItems;t<i.length&&t>=0&&n.loadItems(t)},n.loadItems=function(t){for(var r,o,s,u=FXStreet.Class.Sidebar.Util.RenderizableListItems,f=n.ItemsToPreload,e=null,i=t-f;i<=t+f&&i<u.length;i++)i<0||(r=u[i],r.IsRenderizableInPage()&&(o=t===i||r.RenderedItemInPage.Visible,o?(s=r.RenderedItemInPage.Render(),i===t&&(e=s||$.when())):r.RenderedItemInPage.Load()));return e},n.loadItem=function(){},n.clickOnItem=function(t){n.highlightItem(t.RenderedItemInPage.PositionInRenderizableListItems);t.RenderedItemInPage.setRenderByUser(!0);t.RenderedItemInPage.resetBody();t.onClick();n.setCurrent(t.RenderedItemInPage.PositionInRenderizableListItems).done(function(){FXStreet.Util.fillPageSpace();typeof n.OnClickDelegate=="function"&&n.OnClickDelegate(t.RenderedItemInPage.ContainerItem[0])})},n.moveItemListToTop=function(t){var i=t.Container;if(i&&i.length!==0){var r=i.offset().top,u=n.ListItemsContainer.offset().top;n.InfiniteScroll.animateToPosition(r-u-30)}},n.highlightItem=function(t){var i=n.getItemByPosition(t);n.removeHighlightItem();i.Container!==undefined&&i.Container!==null&&i.Container.addClass(n.HighlightCssClass)},n.getItemByPosition=function(n){var t=FXStreet.Class.Sidebar.Util.RenderizableListItems;return n>t.length&&console.error("Invalid position"),t[n]},n.removeHighlightItem=function(){n.ListItemsContainer.children("li").removeClass(n.HighlightCssClass)},n.clearListValues=function(){$.each(n.ListValues,function(n,t){t.Unsubscribe()});n.ListValues=[];FXStreet.Class.Sidebar.Util.RenderizableListItems=[]},n.AfterTypeheadChangedDelegate=function(){},n.getRenderizableItemById=function(t){return n.ListDataServerResponse.findFirst(function(n){return n.Id===t})},n};FXStreet.Class.Sidebar.List.RatesAndCharts=function(){var t=FXStreet.Class.Sidebar.List.Base(),n=FXStreet.Util.extendObject(t),i,r;return t.ItemsToPreload=0,n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars();n.addEvents()},n.setVars=function(){n.LoadContentDelegatePromise_ObserverSubject=new FXStreet.Class.Patterns.Observer.Subject;t.InfiniteScroll.endedList()},n.addEvents=function(){n.InfiniteScroll.whenScroll(n.scrollListAction);window.onload=n.SubscriberVisible},i=null,n.SubscriberVisible=function(){i=FXStreet.Util.guid();n.InternalSubscriberVisible(i)},n.InternalSubscriberVisible=function(t){setTimeout(function(){$.each(n.ListValues,function(r,u){if(t!==i)return!1;var f=n.ListItemsContainer.find($(document.getElementById(u.Id)));f&&(FXStreet.Util.VisibleHeight(f)>0?u.Subscribe!=undefined&&u.Subscribe():u.Unsubscribe!=undefined&&u.Unsubscribe())})},0)},n.scrollListAction=function(){n.SubscriberVisible()},t.AfterTypeheadChangedDelegate=n.SubscriberVisible,r=n.ListRendered,t.ListRendered=function(){r();n.SubscriberVisible()},n}}(),function(){FXStreet.Class.Sidebar.ListItemType.Base=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.HtmlTemplateFile="",n.HtmlTemplateData={},n.RenderedItemInPage=null,n.ClickCallback=null,n.Container=null,n.Id="",n.SetHtmlTemplateDataCallback=null,n.init=function(t){n.setSettingsByObject(t);t!==undefined&&t!==null&&(n.HtmlTemplateData=t);n.setVars();n.addEvents()},n.setVars=function(){n.HtmlTemplateData=n.HtmlTemplateData||{}},n.addEvents=function(){},n.renderHtml=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,n.getJsonForRenderHtml());n.Container=$(r);n.preRender();t(n,n.Container);n.postRender()})},n.preRender=function(){},n.postRender=function(){},n.refreshData=function(){},n.click=function(){n.ClickCallback(n)},n.onClick=function(){},n.IsRenderizableInPage=function(){return n.RenderedItemInPage!==null},n.getJsonForRenderHtml=function(){return{Value:n.HtmlTemplateData,Translations:FXStreet.Resource.Translations.Sidebar_FilterAndList}},n.Unsubscribe=function(){},n.setHtmlTemplateData=function(t){n.HtmlTemplateData=t;typeof n.SetHtmlTemplateDataCallback=="function"&&n.SetHtmlTemplateDataCallback(n.HtmlTemplateData)},n};FXStreet.Class.Sidebar.ListItemType.PieceOfNews=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.setVars();n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.NewsItemGetItemByUrl;n.HtmlTemplateFile="sidebar_list_news.html";n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.PieceOfNews;n.RenderedItemInPage.init($.extend(!0,t.HtmlTemplateData,{SetHtmlTemplateDataCallback:t.setHtmlTemplateData}))},t};FXStreet.Class.Sidebar.ListItemType.AjaxPage=function(){var t=FXStreet.Class.Sidebar.ListItemType.Base(),n=FXStreet.Util.extendObject(t);return n.CookieInfo=null,n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars()},n.setVars=function(){t.setVars();t.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.AjaxPage;t.RenderedItemInPage.init({Url:n.HtmlTemplateData.Url,CookieInfo:n.CookieInfo})},t.renderHtml=function(){},n};FXStreet.Class.Sidebar.ListItemType.TransitionSidebar=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.HtmlTemplateFile="sidebar_list_transitionsidebar.html";n.HtmlTemplateData.ContainerId=t.Id;n.Container=FXStreet.Util.getjQueryObjectById(t.Id)},n.postRender=function(){FXStreet.Util.registerDynamicObjs(n.Container)},t};FXStreet.Class.Sidebar.ListItemType.TransitionDetail=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.HtmlTemplateData.ContainerId=t.Id;n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.TransitionDetail;n.RenderedItemInPage.init(t.HtmlTemplateData)},n.renderHtml=function(){},t};FXStreet.Class.Sidebar.ListItemType.AnalysisItem=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.setVars();n.HtmlTemplateFile="sidebar_list_analysisitem.html";n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.AnalysisItem;n.RenderedItemInPage.init($.extend(!0,t.HtmlTemplateData,{SetHtmlTemplateDataCallback:t.setHtmlTemplateData}))},t};FXStreet.Class.Sidebar.ListItemType.EducationItem=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.setVars();n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.EducationItemGetItemByUrl;n.HtmlTemplateFile="sidebar_list_educationitem.html";n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.EducationItem;n.RenderedItemInPage.init($.extend(!0,t.HtmlTemplateData,{SetHtmlTemplateDataCallback:t.setHtmlTemplateData}))},t};FXStreet.Class.Sidebar.ListItemType.RatesAndChartsItem=function(){var t=FXStreet.Class.Sidebar.ListItemType.Base(),n=FXStreet.Util.extendObject(t);return n.RateManagerObj=null,n.init=function(i){t.init(i);n.setVars();n.createRateManager()},n.setVars=function(){t.setVars();t.HtmlTemplateFile="sidebar_list_ratesandcharts.html";t.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.RatesAndChartsItem;t.RenderedItemInPage.init(n.HtmlTemplateData)},n.createRateManager=function(){n.RateManagerObj=new FXStreet.Class.SingleRateManager;n.RateManagerObj.init({ContainerId:n.HtmlTemplateData.Id,HtmlTemplateFile:"ratesandcharts_listView.html",Data:n.getJsonForRenderHtml(),MustSubscribeAtInit:!0})},n.Subscribe=function(){n.RateManagerObj!=null&&n.RateManagerObj.Subscribe()},t.Unsubscribe=function(){n.RateManagerObj!=null&&n.RateManagerObj.Unsubscribe()},t.preRender=function(){n.RateManagerObj.Container=n.Container},t.postRender=function(){n.RateManagerObj.render()},n};FXStreet.Class.Sidebar.ListItemType.VideoItem=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.setVars();n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.VideosGetItemByUrl;n.HtmlTemplateFile="sidebar_list_videoitem.html";n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.VideoItem;n.RenderedItemInPage.init($.extend(!0,t.HtmlTemplateData,{SetHtmlTemplateDataCallback:t.setHtmlTemplateData}))},t};FXStreet.Class.Sidebar.ListItemType.NoMoreContent=function(){var n=FXStreet.Class.Sidebar.ListItemType.Base(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile="sidebar_list_nomorecontent.html",t.init=function(i){n.init(i);t.setVars()},t.setVars=function(){n.setVars();n.RenderedItemInPage=new FXStreet.Class.Sidebar.RenderedItemInPage.NoMoreContent;n.RenderedItemInPage.init()},t}}(),function(){FXStreet.Class.Sidebar.RenderedItemInPage.Base=function(){function r(){var t=FXStreet.Class.Patterns.Singleton.StickyManager.Instance(),i=n.ContainerItem.find(t.StickyItemsClass),r=n.ContainerItem.find(t.StickyContentSelector);t.setSticky(i,r)}var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.ContainerBodyId="fxs_it_detail",n.LoadingLock=!1,n.Loaded=!1,n.Rendered=!1,n.Visible=!1,n.PositionInRenderizableListItems=-1,n.ContainerBody=null,n.ContainerItem=null,n.ContainerClass="",n.HtmlTemplateData={},n.SetHtmlTemplateDataCallback=null,n.InternalWidgetsLoaded=!1,n.IsRenderByUser=!1,n.init=function(t){n.setSettingsByObject(t);n.HtmlTemplateData=t;n.setVars()},n.setVars=function(){n.ContainerBody=FXStreet.Util.getjQueryObjectById(n.ContainerBodyId)},n.CreateContainer=function(){n.ContainerItem=$("<div>");n.ContainerItem.css("display","none");n.ContainerItem.attr("fxs_section","");n.ContainerItem.addClass("fxs_detail");n.ContainerItem.addClass(n.ContainerClass)},t=function(){n.LoadingLock=!0;var t=n.renderPromise();return t.then(function(){return n.Loaded=!0,n.LoadingLock=!1,n.onLoad(),$.when()})},n.Load=function(){if(n.LoadingLock||n.Loaded)return $.when();return t()},n.Render=function(){if(n.LoadingLock)return $.when();return n.Load().then(n.renderPrivate)},n.appendContainer=function(){n.appendContainerPrivate()},n.appendContainerPrivate=function(){var i=n.ContainerBody.find("div[fxs_section]"),t=null;i.sort(function(n,t){return $(n).attr("fxs_it_position")-$(t).attr("fxs_it_position")});i.each(function(i,r){if($(r).attr("fxs_it_position")>n.PositionInRenderizableListItems)return t=r,!1});t?n.ContainerItem.insertBefore(t):n.ContainerBody.append(n.ContainerItem);n.LoadInternalWidgets()},n.onShow=function(){r()},n.onLoad=function(){},n.renderPrivate=function(){return n.IsRenderByUser?(n.IsRenderByUser=!1,n.renderByUser()):n.renderByScroll()},n.renderByScroll=function(){if(n.Visible)return $.when();n.Rendered||(n.ContainerItem.hide(),n.appendContainer(),n.Rendered=!0);var t=new $.Deferred;return n.ContainerItem.show({duration:0,done:function(){n.onShow();n.Visible=!0;t.resolve()}}),t.promise()},n.renderByUser=function(){n.appendContainer();n.ContainerItem.show({duration:0,done:function(){n.onShow()}});n.Rendered=!0;n.Visible=!0},n.resetBody=function(){FXStreet.Class.Sidebar.Util.RenderizableListItems.forEach(function(n){n.RenderedItemInPage.setRendered(!1);n.RenderedItemInPage.setVisible(!1)});n.ContainerBody.empty()},n.renderPromise=function(){console.error("renderPromise() is not implemented")},n.setOnParent=function(t,i){n[t]=i},n.setPositionInRenderizableListItems=function(t){n.PositionInRenderizableListItems=t;n.ContainerItem.attr("fxs_it_position",t)},n.setVisible=function(t){n.Visible=t;t===!1&&n.UnLoadInternalWidgets()},n.setContainerItem=function(t){n.ContainerItem=t},n.setAsVisible=function(){n.Loaded=!0;n.Rendered=!0;n.Visible=!0},n.setRendered=function(t){n.Rendered=t},n.IsVisible=function(){return n.Visible},n.IncreasePosition=function(t){n.PositionInRenderizableListItems+=t;n.ContainerItem.attr("fxs_it_position",n.PositionInRenderizableListItems)},n.getJsonForRenderHtml=function(){return{Value:n.HtmlTemplateData,Translations:jQuery.extend(!0,{},FXStreet.Resource.Translations.Sidebar_FilterAndList),UserInfo:{IsLogged:jQuery.extend(!0,{},FXStreet.Resource.UserInfo.IsLogged),IsPremium:jQuery.extend(!0,{},FXStreet.Resource.UserInfo.IsPremium)}}},n.setHtmlTemplateData=function(t){n.HtmlTemplateData=t;typeof n.SetHtmlTemplateDataCallback=="function"&&n.SetHtmlTemplateDataCallback(n.HtmlTemplateData)},n.setRenderByUser=function(t){n.IsRenderByUser=t},n.LoadInternalWidgets=function(){n.InternalWidgetsLoaded===!1&&(n.InternalWidgetsLoaded=!0,n.privateLoadInternalWidgets())},n.privateLoadInternalWidgets=function(){},n.UnLoadInternalWidgets=function(){n.InternalWidgetsLoaded===!0&&(n.InternalWidgetsLoaded=!1,n.privateUnLoadInternalWidgets())},n.privateUnLoadInternalWidgets=function(){},n};FXStreet.Class.Sidebar.RenderedItemInPage.BaseScrollable=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.Base(),n=FXStreet.Util.extendObject(t),i,r,u;return n.InfiniteScrollPageObj=null,n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars()},n.setVars=function(){n.InfiniteScrollPageObj=FXStreet.Util.getObjectInstance("InfiniteScrollPage")},n.moveScrollAtTop=function(){n.InfiniteScrollPageObj.moveToPosition(1)},n.positionateScrollWhenGoUp=function(){var i=n.ContainerItem.outerHeight(),r=n.ContainerBody.offset().top,t=i-r;t<1&&(t=1);n.InfiniteScrollPageObj.moveToPosition(t)},i=t.setRenderByUser,t.setRenderByUser=function(t){i(t);n.InfiniteScrollPageObj.setAvoidScroll(!0);n.moveScrollAtTop()},r=t.resetBody,n.resetBody=function(){r();n.moveScrollAtTop()},u=t.onShow,n.setOnParent("onShow",function(){n.InfiniteScrollPageObj.MoveUpDirection&&!n.InfiniteScrollPageObj.AvoidScroll&&n.positionateScrollWhenGoUp();u()}),n};FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem=function(n){var i=n?FXStreet.Class.Sidebar.RenderedItemInPage.BaseScrollable():FXStreet.Class.Sidebar.RenderedItemInPage.Base(),t=FXStreet.Util.extendObject(i),r,u,f,e;return t.Id="",t.HtmlTemplateFile="",t.RelatedContentUrl="",t.GetPostByUrlApi="",t.SocialMediaType=function(){console.error("Render promise is not implemented")},i.ContainerClass="fxs_page_news",t.init=function(n){i.init(n);t.setSettingsByObject(n);t.CreateContainer()},r=i.CreateContainer,i.CreateContainer=function(){var n=$("#fxs_content section[fxs-it-id='"+t.Id+"']");n&&n.length>0?(t.setOnParent("ContainerItem",n.parent()),t.setAsVisible(),t.LoadInternalWidgets(),t.onShow()):r()},u=function(){return t.HtmlTemplateData.IsPushNotifed?$.get(t.GetPostByUrlApi,{culture:FXStreet.Resource.CultureName,url:t.HtmlTemplateData.Url}).then(function(n){return t.setHtmlTemplateData(n),t.getJsonForRenderHtml()}):$.when().then(function(){return t.getJsonForRenderHtml()})},t.setOnParent("renderPromise",function(){return $.when(FXStreet.Util.loadHtmlTemplate(t.HtmlTemplateFile),u()).done(function(n,i){t.renderHtml(n,i)})}),t.renderHtml=function(n,i){var r=FXStreet.Util.renderByHtmlTemplate(n,i);t.ContainerItem.append(r)},f=i.onShow,t.setOnParent("onShow",function(){f();var n=t.getJsonAds();n?n.forEach(function(n){var i="#"+n.ContainerId,t;$(i).length>0&&(t=new FXStreet.Class.AdvertiseNormal,t.init(n))}):console.warn("The jsonAds are not defined")}),i.appendContainer=function(){t.appendContainerPrivate();t.LoadInternalWidgets()},e=i.privateLoadInternalWidgets,t.setOnParent("privateLoadInternalWidgets",function(){var i,n,r,u,f,o;if(e(),t.RelatedContentUrl!==""){if(i=[],t.HtmlTemplateData.Categories!==undefined&&t.HtmlTemplateData.Categories!==null)for(n=0;n<t.HtmlTemplateData.Categories.length;n++)i.push(t.HtmlTemplateData.Categories[n].Id);r={ContainerId:"fxs_article_related_"+t.Id,ContentId:t.Id,RelatedPosts:t.HtmlTemplateData.RelatedPosts};u=new FXStreet.Class.RelatedPostsByCategories;u.init(r)}f={ContainerId:"fxs_socialmedia_bar_"+t.Id,ItemUrl:t.HtmlTemplateData.SEO!==undefined?t.HtmlTemplateData.SEO.FullUrl:t.HtmlTemplateData.Seo.FullUrl,ItemTitle:t.HtmlTemplateData.Title};t.SocialMediaType()!==null&&(o=new t.SocialMediaType,o.init(f))}),t.getJsonAds=function(){},t.initAuthorFollow=function(){var n=t.HtmlTemplateData.Author,i,r;n!=null&&(i={UserInfo:FXStreet.Resource.UserInfo,Author:n,FollowButtonId:"fxs_cta_authorfollow_"+t.Id,FollowingMessageBoxId:"fxs_alert_author_follow",UnFollowingMessageBoxId:"fxs_alert_author_unfollow"},r=new FXStreet.Class.AuthorFollow,r.init(i))},t};FXStreet.Class.Sidebar.RenderedItemInPage.PieceOfNews=function(){var n=FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem(!0),t=FXStreet.Util.extendObject(n),i;return n.SocialMediaType=function(){return FXStreet.Class.SocialMediaBarDefault()},n.HtmlTemplateFile="newsdetails_default.html",n.RelatedContentUrl=FXStreet.Resource.FxsApiRoutes.NewsItemGetRelated,n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.NewsItemGetItemByUrl,n.getJsonAds=function(){var t=[];return t.push({ContainerId:"fxs_leaderboard_ad_"+n.Id,SlotName:"/7138/FXS30/News",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]",TabletSize:"[728, 90]",DesktopSize:"[728, 90]",DesktopHdSize:"[728, 90]",Labels:[{Key:"ros",Value:["leader"]}]}),t.push({ContainerId:"fxs_article_ad_"+n.Id,SlotName:"/7138/FXS30/News",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),t},i=n.privateLoadInternalWidgets,t.setOnParent("privateLoadInternalWidgets",function(){var u,r,f;i();u="fxs_cag_widget_"+n.Id;r=FXStreet.Util.getjQueryObjectById(u,!1);r&&r.length>0&&n.HtmlTemplateData.CagAsset&&(f=FXStreet.Resource.FxsApiRoutes.CagApiGetModel,$.get(f+"?assetId="+n.HtmlTemplateData.CagAsset).then(function(n){var i=n.BigChartUrl.toLowerCase(),r={JsCreateEvent:"load",JsName:"Cag",MarketToolsWebApiBaseUrl:n.MarketToolsWebApiBaseUrl,Asset:n.Asset,BigChartUrl:i,ContainerId:"fxs_cag_widget_"+t.Id,DecimalPlaces:n.DecimalPlaces,PairName:n.PairName,PriceProviderCode:n.PriceProviderCode,Translations:n.Translations,AssetUrl:n.AssetUrl};t.CagWidgetManagerObj=new FXStreet.Class.Cag;t.CagWidgetManagerObj.init(r)}))}),t};FXStreet.Class.Sidebar.RenderedItemInPage.AnalysisItem=function(){var n=FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem(!0),t=FXStreet.Util.extendObject(n),i=n.onShow;return t.setOnParent("onShow",function(){i();n.initAuthorFollow()}),n.SocialMediaType=function(){return FXStreet.Class.SocialMediaBarDefault()},n.HtmlTemplateFile="analysisItemdetails_default.html",n.RelatedContentUrl=FXStreet.Resource.FxsApiRoutes.AnalysisItemGetRelated,n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.AnalysisItemGetItemByUrl,n.getJsonAds=function(){var t=[];return t.push({ContainerId:"fxs_leaderboard_ad_"+n.Id,SlotName:"/7138/FXS30/Analysis",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]",TabletSize:"[728, 90]",DesktopSize:"[728, 90]",DesktopHdSize:"[728, 90]",Labels:[{Key:"ros",Value:["leader"]}]}),t.push({ContainerId:"fxs_article_ad_"+n.Id,SlotName:"/7138/FXS30/Analysis",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),t},t};FXStreet.Class.Sidebar.RenderedItemInPage.EducationItem=function(){var n=FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem(!0),t=FXStreet.Util.extendObject(n),i=n.onShow;return t.setOnParent("onShow",function(){i();n.initAuthorFollow()}),n.SocialMediaType=function(){return FXStreet.Class.SocialMediaBarDefault()},n.HtmlTemplateFile="educationItemdetails_default.html",n.RelatedContentUrl=FXStreet.Resource.FxsApiRoutes.EducationItemGetRelated,n.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.EducationItemGetItemByUrl,n.getJsonAds=function(){var t=[];return t.push({ContainerId:"fxs_leaderboard_ad_"+n.Id,SlotName:"/7138/FXS30/Education",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]",TabletSize:"[728, 90]",DesktopSize:"[728, 90]",DesktopHdSize:"[728, 90]",Labels:[{Key:"ros",Value:["leader"]}]}),t.push({ContainerId:"fxs_article_ad_"+n.Id,SlotName:"/7138/FXS30/Education",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),t},t};FXStreet.Class.Sidebar.RenderedItemInPage.AjaxPage=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.Base(),n=FXStreet.Util.extendObject(t),i,r,u;return n.Url="",n.CookieInfo=null,n.HomeMetaTagsObj=null,n.init=function(i){t.init(i);n.setSettingsByObject(i);n.CreateContainer()},i=t.CreateContainer,n.CreateContainer=function(){i();n.ContainerItem.attr("id","fxs_home")},n.setOnParent("renderPromise",function(){return $.ajax({url:n.Url}).done(n.renderSuccess)}),n.renderSuccess=function(t){var u=n.getHtmlBody(t),i;n.ContainerItem.html(u);i=r(t);n.HomeMetaTagsObj=FXStreet.Class.Patterns.Singleton.SeoMetaTags.Instance();n.HomeMetaTagsObj.initHomeMetaTagsObject(i)},n.getHtmlBody=function(n){return $(n).find("#fxs_home").html()},r=function(n){for(var t={},f=/<meta[ \t\r\n]+property="og:([a-z0-9:\/._ \-\t\n\r]*)"[ \r\n]+content="([a-z0-9:\/._ \-\t\n\r]+( [a-z0-9:\/._ \-\t\n\r]+)*)"[ \r\n]+\/>/gi,u=f.exec(n),i,r;u!=null;)i=u[1],r=u[2],i==="url"?t.FullUrl=r:i==="image"?t.Image=r:i==="title"?t.MetaTitle=r:i==="description"?t.Summary=r:i==="keywords"&&(t.Keywords=r),u=f.exec(n);return t},u=t.onShow,n.setOnParent("onShow",function(){u();try{FXStreetWidgets.Deferred.deferredLoad(n.ContainerItem)}catch(i){console.error("FXStreetWidgets not initialize")}if(FXStreet.Util.initObjects("all"),FXStreet.Util.registerDynamicObjs(n.ContainerItem),n.CookieInfo&&n.CookieInfo.CookieKey){var t=3/24;n.CookieInfo.RefreshTimeInDays&&n.CookieInfo.RefreshTimeInDays>0&&(t=n.CookieInfo.RefreshTimeInDays);$.cookie(n.CookieInfo.CookieKey,!0,{expires:t})}}),n};FXStreet.Class.Sidebar.RenderedItemInPage.TransitionDetail=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.BaseScrollable(),n=FXStreet.Util.extendObject(t),i;return n.Id="",n.Content="",n.init=function(i){t.init(i);n.setSettingsByObject(i);n.CreateContainer()},n.setOnParent("renderPromise",function(){return n.ContainerItem.html($("<section>"+n.Content+"<\/section>")),$.when()}),i=t.onShow,n.setOnParent("onShow",function(){i();FXStreet.Util.registerDynamicObjs(n.ContainerItem)}),n};FXStreet.Class.Sidebar.RenderedItemInPage.RatesAndChartsItem=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem(),n=FXStreet.Util.extendObject(t),i,r,u,f;return n.RateManagerObj=null,t.HtmlTemplateFile="ratesandchartsdetails_default.html",n.SingleChartManagerObj=null,n.CagWidgetManagerObj=null,n.init=function(i){t.init(i);n.setSettingsByObject(i)},n.createRateManager=function(){n.RateManagerObj=new FXStreet.Class.SingleRateManager;n.RateManagerObj.init({ContainerId:"fxs_ratedata_"+n.HtmlTemplateData.Id,HtmlTemplateFile:"ratesandcharts_header.html",Data:n.getJsonForRenderHtml()})},t.SocialMediaType=function(){return null},i=t.onShow,n.setOnParent("onShow",function(){i();n.createRateManager();try{FXStreetWidgets.Deferred.deferredLoad(n.ContainerItem)}catch(t){}n.Subscribe();n.Refresh()}),r=t.privateLoadInternalWidgets,n.setOnParent("privateLoadInternalWidgets",function(){var i,f,o,s,e,h,c,l,a,v;r();i=t.HtmlTemplateData.BigChartUrl.toLowerCase();f=FXStreet.Util.getjQueryObjectById("fxs_cag_widget_"+n.Id,!1);f&&f.length>0?(o="fxs_cag_widget_"+n.Id,s={JsCreateEvent:"load",JsName:"Cag",MarketToolsWebApiBaseUrl:t.HtmlTemplateData.MarketToolsWebApiBaseUrl,Asset:t.HtmlTemplateData.Id,BigChartUrl:i,ContainerId:o,DecimalPlaces:t.HtmlTemplateData.DecimalPlaces,PairName:t.HtmlTemplateData.Title,PriceProviderCode:t.HtmlTemplateData.PriceProviderCode,Translations:t.HtmlTemplateData.Translations},n.CagWidgetManagerObj=new FXStreet.Class.Cag,n.CagWidgetManagerObj.init(s)):(e=FXStreet.Util.getjQueryObjectById("fxs_chartdata_default_"+n.Id,!1),e.length>0&&(h="fxs_widget_default",c={ContainerId:e[0].id,PairName:t.HtmlTemplateData.Title,PriceProviderCode:t.HtmlTemplateData.PriceProviderCode,WidgetType:h,BigChartUrl:i,DisplayRSI:!1,DisplaySMA:!0,DisplayBigChartUrl:!0,TouchAvailable:!1,ExternalUrl:i},n.SingleChartManagerObj=new FXStreet.Class.SingleChartManager,n.SingleChartManagerObj.init(c)));l=new FXStreet.Class.SocialMediaBarBoxed;l.init({ContainerId:"fxs_socialmedia_bar_header_"+n.HtmlTemplateData.Id,PageUrl:n.HtmlTemplateData.SEO!==undefined?n.HtmlTemplateData.SEO.FullUrl:"",ItemTitle:n.HtmlTemplateData.SEO!==undefined?n.HtmlTemplateData.SEO.MetaTitle:""});n.HtmlTemplateData.TagId&&(a=new FXStreet.Class.NewsList,a.init({ContainerId:"fxs_related_news_"+n.HtmlTemplateData.Id,Category:n.HtmlTemplateData.TagId,Take:5}),v=new FXStreet.Class.AnalysisList,v.init({ContainerId:"fxs_related_analysis_"+n.HtmlTemplateData.Id,Category:n.HtmlTemplateData.TagId,Take:5}));u().done(function(t){var i=new FXStreet.Class.BrokersSpreads;i.init({ContainerId:"fxs_brokerspreads_"+n.HtmlTemplateData.Id,HtmlTemplateFile:"brokersspreads_big.html",Brokers:t.Brokers,Pairs:t.Pairs})})}),n.setOnParent("privateUnLoadInternalWidgets",function(){n.Unsubscribe()}),u=function(){var n={culture:FXStreet.Resource.CultureName,pairs:"fxs-3212164,fxs-3212166,fxs-3212155,fxs-3212172,fxs-3212322",take:5};return $.ajax({type:"GET",url:FXStreet.Resource.FxsApiRoutes.BrokersSpreadsRandom,data:n,contentType:"application/json; charset=utf-8",dataType:"json"})},t.getJsonAds=function(){var n=[];return n.push({ContainerId:"fxs_leaderboard_ad_"+t.Id,SlotName:"/7138/FXS30/Rates_Charts",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]",TabletSize:"[728, 90]",DesktopSize:"[728, 90]",DesktopHdSize:"[728, 90]",Labels:[{Key:"ros",Value:["leader"]}]}),n.push({ContainerId:"fxs_ad_"+t.Id,SlotName:"/7138/FXS30/Rates_Charts",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),n.push({ContainerId:"fxs_ad_2_"+t.Id,SlotName:"/7138/FXS30/Rates_Charts",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),n.push({ContainerId:"fxs_starttrading_ad_"+t.Id,SlotName:"/7138/FXS30/Rates_Charts",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[200, 28]",TabletSize:"[200, 28]",DesktopSize:"[200, 28]",DesktopHdSize:"[200, 28]"}),n},n.Subscribe=function(){n.RateManagerObj.Subscribe()},n.Unsubscribe=function(){n.SingleChartManagerObj&&n.SingleChartManagerObj.display(!1);n.RateManagerObj&&n.RateManagerObj.Unsubscribe()},n.Refresh=function(){FXStreet.Util.SetTooltip()},f=t.getJsonForRenderHtml,n.setOnParent("getJsonForRenderHtml",function(){var t=f();return t.Translations.RelatedNewsTitle=t.Translations.RelatedNewsTitle.replace(/\{0\}/g,n.HtmlTemplateData.Title),t.Translations.RelatedAnalysisTitle=t.Translations.RelatedAnalysisTitle.replace(/\{0\}/g,n.HtmlTemplateData.Title),t}),n};FXStreet.Class.Sidebar.RenderedItemInPage.VideoItem=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.PostBaseItem(!0),n=FXStreet.Util.extendObject(t);n.Video=null;n.Title="";t.HtmlTemplateFile="videoItemdetails_default.html";t.RelatedContentUrl=FXStreet.Resource.FxsApiRoutes.VideoItemGetRelated;t.GetPostByUrlApi=FXStreet.Resource.FxsApiRoutes.VideosGetItemByUrl;n.HtmlTemplateFilePriceTable="price_table.html";var r={},u={},i=null,f=null,e=null;n.init=function(i){t.init(i);n.setSettingsByObject(i);n.setVars();n.addEvents()};n.setVars=function(){r=FXStreet.Util.getObjectInstance("GoogleDriveManager");u=FXStreet.Util.getObjectInstance("MarketingLeadsManager")};n.addEvents=function(){s();h()};var s=function(){var t=FXStreet.Util.getObjectInstance("UserMenu"),r;t!=null&&(r="fxs_cta_register_"+n.Id,i===null&&(i=FXStreet.Util.getjQueryObjectById(r,!0,!1),i!=null&&i.length>0&&i.click(function(){t.Login()})))},h=function(){var t;if(n.Video!==null&&n.Video.RegistrationRequired){var i="fxs_live_video_show_"+n.Id,r="fxs_cta_show_video_"+n.Id,u="fxs_live_video_container_"+n.Id;f=FXStreet.Util.getjQueryObjectById(i,!1);e=FXStreet.Util.getjQueryObjectById(u,!1);t=FXStreet.Util.getjQueryObjectById(r,!1);t.on("click",l)}},c=t.onShow;t.setOnParent("onShow",function(){c();t.initAuthorFollow();try{FXStreetWidgets.Deferred.deferredLoad(n.ContainerItem)}catch(i){}n.addEvents()});var l=function(){f.addClass("fxs_hideElements");e.removeClass("fxs_hideElements");a()},a=function(){var t={Title:n.Title,Origin:"live-video",Contact:!0};r.SavePlayEvent(t,o);u.SavePlayEvent(t,o)},o=function(){};return t.SocialMediaType=function(){return FXStreet.Class.SocialMediaBarDefault()},t.renderHtml=function(t,i){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.ContainerItem.append(r);i.Value.Video.PremiumView&&(i.Subscription=i.Value.Video.Subscription,FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFilePriceTable).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.ContainerItem.find(".fxs_row").html(r)}))},t.getJsonAds=function(){var n=[];return n.push({ContainerId:"fxs_leaderboard_ad_"+t.Id,SlotName:"/7138/FXS30/LiveVideo",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]",TabletSize:"[728, 90]",DesktopSize:"[728, 90]",DesktopHdSize:"[728, 90]",Labels:[{Key:"ros",Value:["leader"]}]}),n.push({ContainerId:"fxs_article_ad_"+t.Id,SlotName:"/7138/FXS30/LiveVideo",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[250, 250]",TabletSize:"[250, 250]",DesktopSize:"[300, 250]",DesktopHdSize:"[300, 250]",Labels:[{Key:"ros",Value:["horizontal"]}]}),n},n};FXStreet.Class.Sidebar.RenderedItemInPage.NoMoreContent=function(){var t=FXStreet.Class.Sidebar.RenderedItemInPage.BaseScrollable(),n=FXStreet.Util.extendObject(t),i;return n.Id="",n.Content="",n.HtmlTemplateFile="nomorecontentinpage.html",n.init=function(i){t.init(i);n.setSettingsByObject(i);n.CreateContainer()},n.setOnParent("renderPromise",function(){return n.ContainerItem.removeClass("fxs_detail"),FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,{Translations:FXStreet.Resource.Translations.Sidebar_FilterAndList});n.ContainerItem.append(i)})}),i=t.onShow,n.setOnParent("onShow",function(){i();n.ContainerItem.find(".fxs_feedbackLoading_msg").show();$("#pageLoading").hide()}),n}}(),function(){FXStreet.Class.Sidebar.Typeahead=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ValuesOptions={},n.FindBy_Options=[],n.TypeaheadId="",n.TypeaheadInputTargetId="",n.TypeaheadFilterButtonId="",n.TypeaheadCancelButtonId="",n.CloseDelegated=null,n.SelectedTypeaheadId=null,n.TypeaheadObserverSubject=null,n.TypeaheadContainer=null,n.TypeaheadInput=null,n.CurrentSelectedItem=null,n.Suggestions=null,n.OptionSelectedDelegate=null,n.TypeaheadFilterButton=null,n.TypeaheadCancelButton=null,n.PlaceholderText="",n.OnLayoutBuiltBeforeDelegate=null,n.OnClickBeforeDelegate=null,n.Changed=!1,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.loadValuesOptions()},n.setVars=function(){n.TypeaheadContainer=FXStreet.Util.getjQueryObjectById(n.TypeaheadId);n.TypeaheadInput=FXStreet.Util.getjQueryObjectById(n.TypeaheadInputTargetId);n.TypeaheadFilterButton=FXStreet.Util.getjQueryObjectById(n.TypeaheadFilterButtonId);n.TypeaheadCancelButton=FXStreet.Util.getjQueryObjectById(n.TypeaheadCancelButtonId);n.TypeaheadObserverSubject=new FXStreet.Class.Patterns.Observer.Subject},n.addEvents=function(){n.TypeaheadFilterButton.on("click",n.TypeaheadFilterButtonClick);n.TypeaheadCancelButton.on("click",n.TypeaheadCancelButtonClick);n.TypeaheadInput.on("blur",n.TypeaheadBlur);n.TypeaheadInput.focusin(n.TypeaheadFocusIn)},n.TypeaheadFilterButtonClick=function(t){n.Changed=!1;t&&t.stopPropagation()},n.TypeaheadCancelButtonClick=function(t){var i=n.TypeaheadContainer.find(".fxs_typeaheadContainer");i.removeClass("result");i.removeClass("hint");i.removeClass("backdrop");$(".fxs_queryResults").removeClass("fxs_selectedQuery");n.TypeaheadCancelButton.addClass("fxs_dismissQuery_disabled");n.CurrentSelectedItem=null;n.Changed&&n.CloseDelegated();t&&t.stopPropagation()},n.loadValuesOptions=function(){for(var i=[],t=0;t<n.FindBy_Options.length;t++)i.push(n.loadOption(t,n.FindBy_Options[t]));$.when.apply($,i).done(function(){n.createTypeahead();n.enabledTypeahead()})},n.loadOption=function(t,i){var r=FXStreet.Util.createUrl(FXStreet.Resource.FxsApiRoutes[i.FindBy_FxsApiRoute],[]);return r?$.getJSON(r,function(r){n.ValuesOptions[i.QueryStringKey]=r.Result;n.ValuesOptions[i.QueryStringKey].Template=i.Template;n.ValuesOptions[i.QueryStringKey].Index=t;n.ValuesOptions[i.QueryStringKey].Title=i.Title}):(console.error("The typeahead url is invalid"),$.when())},n.createTypeahead=function(){var i={},t=[],u={},r;$.each(n.ValuesOptions,function(n,r){i[r.Title]={data:$.map(r,function(t){return t?{id:t.Id,display:t.Title||t.Name,queryString:n,decimalPlaces:t.DecimalPlaces,url:t.Url,priceProviderCode:t.PriceProviderCode,priceStatics:t.PriceStatics}:null}),template:r.Template};t.push({key:n,title:r.Title,index:r.Index});u[n]=r.Title});t.sort(function(n,t){return n.index-t.index});r=t.map(function(n){return n.title});n.ValuesOptions.CategoryId&&(n.CurrentSelectedItem=n.ValuesOptions.CategoryId.findFirst(function(t){return n.SelectedTypeaheadId&&t.Id.toLowerCase()===n.SelectedTypeaheadId.toLowerCase()}));n.TypeaheadInput.typeahead({minLength:1,group:!1,groupMaxItem:6,maxItem:30,groupOrder:r,hint:!0,dropdownFilter:!1,emptyTemplate:'No result for "{{query}}"',source:i,debug:!0,cache:!1,selector:{container:"fxs_typeaheadContainer",group:"fxs_typeaheadGroup",result:"typeahead-result",list:"fxs_typeaheadList fxs_fieldset fxs_scrollable_list",display:"typeahead-display",query:"fxs_typeaheadQuery"},filter:function(t,i){if(this.query&&(i.toLowerCase().includes(this.query.toLowerCase())||n.levenshteinAlgorithm(this.query.toLowerCase(),i.toLowerCase())<=2))return t},callback:{onInit:null,onReady:function(){n.CurrentSelectedItem&&(n.TypeaheadInput.val(n.CurrentSelectedItem.Title),n.TypeaheadFilterButtonClick())},onSearch:null,onResult:null,onLayoutBuiltBefore:n.OnLayoutBuiltBeforeDelegate,onLayoutBuiltAfter:null,onNavigate:null,onMouseEnter:null,onMouseLeave:null,onClick:n.onSuggestionClick,onClickBefore:null,onClickAfter:null,onSubmit:null,onCacheSave:function(n,t){var i=t}}})},n.getTextValue=function(){return n.TypeaheadInput.val()},n.getSelectedItem=function(){var i=n.getTextValue().toLowerCase(),t=null;return $.each(n.ValuesOptions,function(r){return t=n.ValuesOptions[r].findFirst(function(n){return(n.Title||n.Name).toLowerCase()===i}),t?!1:void 0}),t},n.onSuggestionClick=function(t,i,r,u){var f;if(typeof n.OnClickBeforeDelegate=="function"&&(f=n.OnClickBeforeDelegate(t,i,r,u)),f==="true"){if(n.CurrentSelectedItem===r)return;n.TypeaheadCancelButton.removeClass("fxs_dismissQuery_disabled");n.CurrentSelectedItem=r;n.Changed=!0;n.TypeaheadObserverSubject.notify(n.CurrentSelectedItem)}else{if(n.CurrentSelectedItem===r)return;n.TypeaheadCancelButton.removeClass("fxs_dismissQuery_disabled");n.CurrentSelectedItem=r;n.Changed=!0;n.TypeaheadObserverSubject.notify(n.CurrentSelectedItem)}},n.TypeaheadBlur=function(){var t=n.getSelectedItem(),r,i;if(!n.CurrentSelectedItem&&!t||n.CurrentSelectedItem&&t&&n.CurrentSelectedItem.id===t.Id){n.TypeaheadInput.val("");return}t?(r=n.getTextValue().toLowerCase(),i=$(".fxs_typeaheadList .fxs_typeaheadTxt").filter(function(){return FXStreet.Util.getInnerText(this).toLowerCase()===r}),i&&i.length>0?i[0].click():(n.TypeaheadInput.val(""),n.TypeaheadCancelButton.addClass("fxs_dismissQuery_disabled"))):n.CurrentSelectedItem?n.TypeaheadInput.val(""):(n.TypeaheadInput.val(""),n.TypeaheadCancelButton.addClass("fxs_dismissQuery_disabled"))},n.TypeaheadFocusIn=function(){n.TypeaheadCancelButton.removeClass("fxs_dismissQuery_disabled")},n.enabledTypeahead=function(){n.TypeaheadInput.attr("placeholder",n.PlaceholderText);n.TypeaheadInput.prop("disabled",!1)},n.addObserver=function(t){if(t!==undefined&&t!==null){var r={UpdateDelegate:t},i=new FXStreet.Class.Patterns.Observer.Observer;i.init(r);n.TypeaheadObserverSubject.addObserver(i)}},n.removeObserver=function(t){t!==undefined&&t!==null&&n.TypeaheadObserverSubject.removeObserver(t)},n.levenshteinAlgorithm=function(n,t){var e,r,i,f,u,o;if(n.length===0)return t.length;if(t.length===0)return n.length;for(n.length>t.length&&(e=n,n=t,t=e),r=[],i=0;i<=n.length;i++)r[i]=i;for(i=1;i<=t.length;i++){for(f=i,u=1;u<=n.length;u++)o=t.charAt(i-1)===n.charAt(u-1)?r[u-1]:Math.min(r[u-1]+1,f+1,r[u]+1),r[u-1]=f,f=o;r[n.length]=f}return r[n.length]},n}}(),function(){FXStreet.Class.Sidebar.Util.RenderizableListItems=[];FXStreet.Class.Sidebar.Util.IsLastVisibleItem=function(){var n=FXStreet.Class.Sidebar.Util.RenderizableListItems.findFirst(function(n){return n.RenderedItemInPage.PositionInRenderizableListItems===FXStreet.Class.Sidebar.Util.RenderizableListItems.length-1&&n.RenderedItemInPage.ContainerItem.is(":visible")});return n!==null};FXStreet.Class.Sidebar.Util.renderList=function(n,t,i,r,u,f,e,o){var s,c,h;e=e||!1;var l=function(n){var i=n.JsType!==undefined?n.JsType:FXStreet.Util.ContentTypeMapping[n.ContentTypeId].JsType,t=new FXStreet.Class.Sidebar.ListItemType[i];return n.ClickCallback=r,n.SetHtmlTemplateDataCallback=u,t.init(n),t},a=function(n,t){for(var i=0;i<n.length;i++)if(n[i].Id===t.Id)return!0;return!1},v=function(n,t,i,r){i?n.splice(r,0,t):n.push(t)},y=function(n,t,i){t?(FXStreet.Class.Sidebar.Util.RenderizableListItems.splice(i,0,n),n.RenderedItemInPage.setPositionInRenderizableListItems(i)):(FXStreet.Class.Sidebar.Util.RenderizableListItems.push(n),n.RenderedItemInPage.setPositionInRenderizableListItems(FXStreet.Class.Sidebar.Util.RenderizableListItems.length-1))},p=function(n){var t=$("div[fxs_section]").has('section[fxs-it-id="'+n.Id+'"]');t.length&&(n.RenderedItemInPage.setAsVisible(),n.RenderedItemInPage.setContainerItem(t))};if(n)for(t=t||[],s=0;s<n.length;s++)c=n[s].JsType!==undefined?n[s].JsType:FXStreet.Util.ContentTypeMapping[n[s].ContentTypeId].JsType,FXStreet.Class.Sidebar.ListItemType[c]?(h=l(n[s]),o&&h.Id===o&&p(h),(!a(t,h)||e)&&(v(t,h,f,s),h.IsRenderizableInPage()&&y(h,f,s),e||h.renderHtml(i))):console.warn("The infinite scroll type "+n[s].JsType+" is not implemented")}}(),function(){FXStreet.Class.Sidebar_FilterAndListFactory=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.init=function(n){var t="Sidebar_FilterAndList"+n.ContentType;FXStreet.Class[t]||(t="Sidebar_FilterAndListBase");FXStreet.Util.createObject(t,n)},n};FXStreet.Class.Sidebar_FilterAndListBase=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.ContainerItemsInPageId="",n.SidebarListJsonInitialization={},n.FilterJsonInitialization={},n.SeoAnalyticsJsonInitialization={},n.CurrentQueryStringValues=[],n.ListDataServerResponse=[],n.ContentType="",n.StickAdSidebar="",n.currentVisible=null,n.Sidebar_FilterObj=null,n.Sidebar_ListObj=null,n.InfiniteScrollPageObj=null,n.ContainerItemsInPage=null,n.SeoAnalyticsObj=null,n.PostNotificationsObj=null,n.SoundObj=null,n.TakeElements={},n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.fillSpace();n.sendSeo()},n.setVars=function(){n.ContainerItemsInPage=FXStreet.Util.getjQueryObjectById(n.ContainerItemsInPageId);n.createSideBarList();n.initSeoAnalytics();n.createFilter();n.initNotifications();n.createInfiniteScrollPageObj();n.currentVisible=n.GetMostVisibleItem();n.createStickAdObj()},n.createSoundObj=function(){n.SoundObj=FXStreet.Util.getObjectInstance("Sound");n.PostNotificationsObj&&n.SoundObj},n.createStickAdObj=function(){if(n.StickAdSidebar!==undefined&&n.StickAdSidebar!==""){var t=new FXStreet.Class.AdvertiseNormal;t.init({ContainerId:n.StickAdSidebar,SlotName:"/7138/FXS30/SponsorBroker",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 40]",TabletSize:"[320, 40]",DesktopSize:"[320, 40]",DesktopHdSize:"[320, 40]",Labels:[{Key:"pos",Value:"sponsor"}]})}},n.initNotifications=function(){n.PostNotificationsObj=FXStreet.Util.getObjectInstance("PostNotifications");n.PostNotificationsObj&&n.PostNotificationsObj.registerObserver(n.Sidebar_FilterObj.newPostCreated)},n.fillSpace=function(){FXStreet.Util.fillPageSpace()},n.sendSeo=function(){n.SeoAnalyticsObj.SetAnalytics(n.currentVisible)},n.createInfiniteScrollPageObj=function(){n.InfiniteScrollPageObj=FXStreet.Util.getObjectInstance("InfiniteScrollPage")},n.createSideBarList=function(){n.Sidebar_ListObj=FXStreet.Class.Sidebar.List[n.ContentType]?new FXStreet.Class.Sidebar.List[n.ContentType]:new FXStreet.Class.Sidebar.List.Base;n.SidebarListJsonInitialization.CurrentQueryStringValues=n.CurrentQueryStringValues;n.SidebarListJsonInitialization.ListDataServerResponse=n.ListDataServerResponse;n.SidebarListJsonInitialization.ContentType=n.ContentType;n.SidebarListJsonInitialization.TakeElements=n.TakeElements;n.SidebarListJsonInitialization.OnClickDelegate=n.setCurrentVisible;n.Sidebar_ListObj.init(n.SidebarListJsonInitialization)},n.initSeoAnalytics=function(){n.SeoAnalyticsJsonInitialization.Sidebar_ListObj=n.Sidebar_ListObj;n.SeoAnalyticsObj=new FXStreet.Class.Sidebar_SeoAnalytics;n.SeoAnalyticsObj.init(n.SeoAnalyticsJsonInitialization)},n.createFilter=function(){n.Sidebar_FilterObj=FXStreet.Class.Sidebar.Filter[n.ContentType]?new FXStreet.Class.Sidebar.Filter[n.ContentType]:new FXStreet.Class.Sidebar.Filter;n.Sidebar_FilterObj.init(n.getJsonFilter())},n.addEvents=function(){n.InfiniteScrollPageObj&&(n.InfiniteScrollPageObj.whenLoadContent(n.scrollPageLoadFollowing),n.InfiniteScrollPageObj.whenScroll(n.scrollPageAction));$(window).on("popstate",t)},n.getJsonFilter=function(){return n.FilterJsonInitialization.OptionSelectedDelegate=n.filterChanged,n.FilterJsonInitialization.NewItemCreatedDelegate=n.newItemCreated,n.FilterJsonInitialization},n.filterChanged=function(t,i){if(t){n.InfiniteScrollPageObj&&n.InfiniteScrollPageObj.setAvoidScroll(!0);n.resetBody();n.Sidebar_ListObj.clearListValues();var r=n.CurrentQueryStringValues;r=$.grep(r,function(n){return n.Key.toLowerCase()!=="page"&&n.Key.toLowerCase()!=="take"});n.Sidebar_ListObj.InfiniteScroll&&(n.Sidebar_ListObj.InfiniteScroll.NotMoreContent=!1);i!==null&&r.push({Key:t,Value:i});n.Sidebar_ListObj.Render(r).done(function(){n.Sidebar_ListObj.AfterTypeheadChangedDelegate();n.InfiniteScrollPageObj&&n.InfiniteScrollPageObj.setAvoidScroll(!1)})}},n.resetBody=function(){var n=FXStreet.Class.Sidebar.Util.RenderizableListItems[0];n&&n.RenderedItemInPage.resetBody()},n.newItemCreated=function(t){n.Sidebar_ListObj.LoadNewItemsCreated(t)},n.scrollPageLoadFollowing=function(){n.InfiniteScrollPageObj.MoveUpDirection?n.Sidebar_ListObj.loadPrevious():n.Sidebar_ListObj.loadNext()},n.GetMostVisibleItem=function(){var t=n.ContainerItemsInPage.children("div[fxs_section]:visible");return t.each(function(n,t){t.visibleHeight=FXStreet.Util.VisibleHeight(t)}),t=t.filter(function(n,t){return t.visibleHeight>0}),t.sort(function(n,t){return t.visibleHeight-n.visibleHeight}),t[0]},n.scrollPageAction=function(){var r=n.ContainerItemsInPage.children("div[fxs_section]:visible"),u=r[0],f=r[r.length-1],e=FXStreet.Class.Sidebar.Util.RenderizableListItems[0],t=n.GetMostVisibleItem(),i;t&&n.currentVisible!==t?n.setCurrentVisible(t,!0):n.InfiniteScrollPageObj.ScrollIsOnBottom()&&!n.Sidebar_ListObj.InfiniteScroll.endOfList?f&&!FXStreet.Class.Sidebar.Util.IsLastVisibleItem()?(i=FXStreet.Util.getItemPosition(f),n.Sidebar_ListObj.loadItems(i+1)):n.InfiniteScrollPageObj.endedList():n.InfiniteScrollPageObj.ScrollIsOnTop()&&t!==e&&e!==u&&(i=FXStreet.Util.getItemPosition(u),n.Sidebar_ListObj.loadItems(i-1))},n.setCurrentVisible=function(t,i){n.currentVisible=t;n.SeoAnalyticsObj.SetSeo(t);n.SeoAnalyticsObj.SetAnalytics(t,i);var r=FXStreet.Util.getItemPosition(t);n.Sidebar_ListObj.setCurrent(r)},t=function(n){if(n.originalEvent.state!==null){var i=n.originalEvent.state.Id,t=$('li[id="'+i+'"');t[0]?t[0].click():window.location.reload()}},n};FXStreet.Class.Sidebar_FilterAndListRatesAndCharts=function(){var n=FXStreet.Class.Sidebar_FilterAndListBase(),t=FXStreet.Util.extendObject(n),i=null,s="asset",f,e,u;t.init=function(t){n.init(t);f()};f=function(){var n=r();!o()&&n&&u(n)};e=t.setVars;n.setVars=function(){i=FXStreet.Class.Patterns.Singleton.UserPersonalizationManager.Instance();!o()&&r()&&(n.ListDataServerResponse=[],n.SidebarListJsonInitialization.LoadInitialDataServer=!1);e()};var o=function(){return t.FilterJsonInitialization.IsReferral},r=function(){return i.GetAssetsRateAndChartFilterSetting()},h=function(n){if(n&&Object.keys(n).length>0){var t={};$.each(n,function(n,i){t[n]={display:i.display,decimalPlaces:i.decimalPlaces,priceProviderCode:i.priceProviderCode,id:n}});i.SetAssetsRateAndChartFilterSetting(t)}else i.RemoveAssetsRateAndChartFilterSetting()};return t.filterChangedCustom=function(t){t&&(h(t),n.Sidebar_ListObj.clearListValues(),u(t))},u=function(t){var r=Object.keys(t).length,i;r>0&&n.Sidebar_ListObj.LoadDefaultTake(r);i=n.CurrentQueryStringValues;i=$.grep(i,function(n){return n.Key.toLowerCase()!=="page"&&n.Key.toLowerCase()!=="take"});n.Sidebar_ListObj.InfiniteScroll&&(n.Sidebar_ListObj.InfiniteScroll.NotMoreContent=r>0);$.each(t,function(n){i.push({Key:s,Value:n})});n.Sidebar_ListObj.Render(i).done(function(){n.Sidebar_ListObj.LoadDefaultTake();n.Sidebar_ListObj.AfterTypeheadChangedDelegate()})},n.getJsonFilter=function(){return n.FilterJsonInitialization.OptionSelectedDelegate=t.filterChangedCustom,n.FilterJsonInitialization.GetAssetsUserSettingDelegate=r,n.FilterJsonInitialization},n.createFilter=function(){t.Sidebar_FilterObj=new FXStreet.Class.SideBarMultiassetFilter;t.Sidebar_FilterObj.init(t.getJsonFilter())},t}}(),function(){FXStreet.Class.Sidebar_SeoAnalytics=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);n.FullPageUrl="";n.HomeId="";n.ListSeoClassType="";n.ListAnalyticsClassType="";n.HomeSeoClassType="";n.HomeAnalyticsClassType="";n.Sidebar_ListObj=null;n.ListSeoObj=null;n.ListAnalyticsObj=null;n.HomeSeoObj=null;n.HomeAnalyticsObj=null;n.HomeSeoLanguageObj=null;n.HomeMetaTagsObj=null;n.init=function(t){n.setSettingsByObject(t);n.setVars()};n.setVars=function(){FXStreet.Class.Seo[n.ListSeoClassType]&&(n.ListSeoObj=new FXStreet.Class.Seo[n.ListSeoClassType]);FXStreet.Class.Seo[n.HomeSeoClassType]&&(n.HomeSeoObj=new FXStreet.Class.Seo[n.HomeSeoClassType]);FXStreet.Class.Analytics[n.ListAnalyticsClassType]&&(n.ListAnalyticsObj=new FXStreet.Class.Analytics[n.ListAnalyticsClassType]);FXStreet.Class.Analytics[n.HomeAnalyticsClassType]&&(n.HomeAnalyticsObj=new FXStreet.Class.Analytics[n.HomeAnalyticsClassType]);i()};var i=function(){var t=r();n.HomeMetaTagsObj=FXStreet.Class.Patterns.Singleton.SeoMetaTags.Instance();n.HomeMetaTagsObj.initHomeMetaTagsObject(t)},r=function(){return{FullUrl:$("meta[property='og\\:url']").attr("content"),Image:$("meta[property='og\\:image']").attr("content"),MetaTitle:$("meta[property='og\\:title']").attr("content"),Summary:$("meta[property='og\\:description']").attr("content"),Keywords:$("meta[property='og\\:keywords']").attr("content")}},u=function(){n.HomeSeoLanguageObj===null&&(n.HomeSeoLanguageObj={});n.HomeSeoLanguageObj.FullUrl=n.HomeMetaTagsObj.FullUrl;n.HomeSeoLanguageObj.Image=n.HomeMetaTagsObj.Image;n.HomeSeoLanguageObj.MetaTitle=n.HomeMetaTagsObj.MetaTitle;n.HomeSeoLanguageObj.Summary=n.HomeMetaTagsObj.Summary;n.HomeSeoLanguageObj.Keywords=n.HomeMetaTagsObj.Keywords};return n.SetSeo=function(t){if(t.id===n.HomeId)u(),n.HomeSeoObj.updateMetaTags(n.HomeSeoLanguageObj);else{var r=$(t).find("section"),f=r.attr("fxs-it-id"),i=n.Sidebar_ListObj.getRenderizableItemById(f);i!=null&&n.ListSeoObj.updateMetaTags(i,n.FullPageUrl)}},n.SetAnalytics=function(t,i){if(t.id===n.HomeId)n.HomeAnalyticsObj.updateDinamicLayer(t);else{var u=$(t).find("section"),f=u.attr("fxs-it-id"),r=n.Sidebar_ListObj.getRenderizableItemById(f);r!=null&&n.ListAnalyticsObj.updateDinamicLayer(t,r,i)}},n}}(),function(){FXStreet.Class.SignUp=function(){function o(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e),t,r,i,u,f;return n.ContainerId="",n.SignupUrl=FXStreet.Resource.FxsApiRoutes.RegisterUserUrl,n.CountriesApiUrl=FXStreet.Resource.FxsApiRoutes.CountryApiGetAll,n.EmailSignupTextboxId="emailSignupTB",n.PasswordSignupTextboxId="passwordSignupTB",n.PhoneSignupTextboxId="phoneSignupTB",n.TermsCheckBoxId="termsCB",n.FullNameSignupTextboxId="fullnameSignupTB",n.PhoneCodeTextboxId="phoneCodeSignupTB",n.SignupPasswordEyeId="signupPasswordEyeId",n.CountrySignupDropDown="countrySignupDDL",n.FormId="fxs_signup_form_",n.ResponseSignUpId="responseSignup",n.SubmitButtonId="submitButtonId",n.FullNameContainerId="fxs_fullname_container_",n.PhoneContainerId="fxs_phone_container_",n.EmailContainerId="fxs_email_container_",n.PasswordContainerId="fxs_password_container_",n.TermsContainerId="fxs_terms_container_",n.EmailServerErrorContainerId="fxs_email_server_error_container_",n.SignUpHtmlTemplateFile="signup.html",n.SignUpOkHtmlTemplateFile="signup_confirmation.html",n.SingupNewslettersSubscription="singupNewslettersSubscription",n.FxsUserErrorClass="fxs_user_field_error",n.FxsDisabledFieldsClass="fxs_disbale_fields",n.Container=null,n.EmailSignupTextbox=null,n.PasswordSignupTextbox=null,n.PhoneSignupTextbox=null,n.FullNameSignupTextbox=null,n.PhoneCodeTextbox=null,n.SignupPasswordEye=null,n.Form=null,n.Validator=null,n.RegisterData=null,n.PhoneContainer=null,n.EmailContainer=null,n.EmailServerErrorContainer=null,n.PasswordContainer=null,n.SubmitButton=null,n.TermsCheckBox=null,n.Translations=null,n.Messages={SignupError:"",DuplicatedMail:"",DuplicatedUserName:"",Success:"",InvalidPassword:""},n.init=function(t){n.setSettingsByObject(t);n.render(t)},n.render=function(t){n.htmlRender(t)},n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.SignUpHtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Container.html(r);n.setVars(t);n.addEvents()})},n.setVars=function(t){n.EmailSignupTextbox=FXStreet.Util.getjQueryObjectById(n.EmailSignupTextboxId);n.PasswordSignupTextbox=FXStreet.Util.getjQueryObjectById(n.PasswordSignupTextboxId);n.PhoneSignupTextbox=FXStreet.Util.getjQueryObjectById(n.PhoneSignupTextboxId);n.FullNameSignupTextbox=FXStreet.Util.getjQueryObjectById(n.FullNameSignupTextboxId);n.PhoneCodeTextbox=FXStreet.Util.getjQueryObjectById(n.PhoneCodeTextboxId);n.CountrySignupSelect=FXStreet.Util.getjQueryObjectById(n.CountrySignupDropDown);n.SubmitButton=FXStreet.Util.getjQueryObjectById(n.SubmitButtonId);n.PhoneContainer=FXStreet.Util.getjQueryObjectById(n.PhoneContainerId);n.EmailContainer=FXStreet.Util.getjQueryObjectById(n.EmailContainerId);n.EmailServerErrorContainer=FXStreet.Util.getjQueryObjectById(n.EmailServerErrorContainerId);n.FullNameContainer=FXStreet.Util.getjQueryObjectById(n.FullNameContainerId);n.PasswordContainer=FXStreet.Util.getjQueryObjectById(n.PasswordContainerId);n.TermsCheckBox=FXStreet.Util.getjQueryObjectById(n.TermsCheckBoxId);n.TermsContainer=FXStreet.Util.getjQueryObjectById(n.TermsContainerId);n.SignupPasswordEye=FXStreet.Util.getjQueryObjectById(n.SignupPasswordEyeId);n.GetAllUpdatesCheckbox=FXStreet.Util.getjQueryObjectById(n.SingupNewslettersSubscription);n.Form=FXStreet.Util.getjQueryObjectById(n.FormId+n.ContainerId);n.LoginRegistering=t.Translations.RegisteringLabel;n.LoginSignUp=t.Translations.SignupNowLabel;n.Translations=t.Translations;n.PhoneValid=!1;n.Validator=n.Form.validate({submitHandler:n.SubmitForm,invalidHandler:n.InvalidForm,errorPlacement:function(){}})},n.signupSuccess=function(t){switch(t){case"Success":var i={UserName:n.FullNameSignupTextbox.val(),UserEmail:n.EmailSignupTextbox.val(),Translations:n.Translations};FXStreet.Util.loadHtmlTemplate(n.SignUpOkHtmlTemplateFile).done(function(t){var r=FXStreet.Util.renderByHtmlTemplate(t,i);n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.Container.html(r)});break;case"DuplicateEmail":case"DuplicateUserName":n.EmailServerErrorContainer.addClass(n.FxsUserErrorClass);break;case"InvalidPassword":n.PasswordContainer.addClass(n.FxsUserErrorClass)}n.SubmitButton.html(n.LoginSignUp)},n.NewslettersSubscribeAtSignUp=function(t){if(n.GetAllUpdatesCheckbox[0].checked){var i=n.GetAllUpdatesCheckbox.data("newsletters-list").split(";"),r=t.Email;n.NewsletterSubscriber=new FXStreet.Class.NewslettersSubscriber;n.NewsletterSubscriber.init({});n.NewsletterSubscriber.NewsletterFollow=i;n.NewsletterSubscriber.NewsletterUnfollow=[];n.NewsletterSubscriber.Email=r;n.NewsletterSubscriber.SendToEventHub()}},t=function(t,i){n.Validator.element("#"+t)?i.removeClass(n.FxsUserErrorClass):i.addClass(n.FxsUserErrorClass)},n.InvalidForm=function(){t(n.FullNameSignupTextboxId,n.FullNameContainer);t(n.PasswordSignupTextboxId,n.PasswordContainer);t(n.EmailSignupTextboxId,n.EmailContainer);t(n.PhoneSignupTextboxId,n.PhoneContainer);t(n.TermsCheckBoxId,n.TermsContainer);n.Validator.checkForm();n.RegisterData=null},n.addEvents=function(){$(n.PhoneSignupTextbox).focusout(function(){i()});$(n.PhoneCodeTextbox).focusout(function(){n.PhoneSignupTextbox.val()&&i()});$(n.CountrySignupSelect).change(function(){n.CountrySignupSelect.val()&&(n.PhoneCodeTextbox[0].value=n.CountrySignupSelect.val(),n.PhoneContainer.removeClass(n.FxsDisabledFieldsClass),n.PhoneSignupTextbox.val()&&i())});$(n.SignupPasswordEye).click(function(){$(n.SignupPasswordEye).toggleClass("active");var t="type",i="password";$(n.PasswordSignupTextbox).attr(t)===i?$(n.PasswordSignupTextbox).attr(t,"text"):$(n.PasswordSignupTextbox).attr(t,i)});$(n.FullNameSignupTextbox).focusout(function(){t(n.FullNameSignupTextboxId,n.FullNameContainer)});$(n.PasswordSignupTextbox).focusout(function(){t(n.PasswordSignupTextboxId,n.PasswordContainer)});$(n.EmailSignupTextbox).focusout(function(){t(n.EmailSignupTextboxId,n.EmailContainer)});$(n.PhoneSignupTextbox).focusout(function(){t(n.PhoneSignupTextboxId,n.PhoneContainer)});$(n.TermsCheckBox).click(function(){t(n.TermsCheckBoxId,n.TermsContainer)});n.CountrySignupSelect.find("option").length===1&&$.ajax({type:"GET",url:n.CountriesApiUrl+"?cultureName="+FXStreet.Resource.CultureName,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$.each(t,function(t,i){var r="+"+i.PhoneCode;n.CountrySignupSelect.append($("<option>",{value:r}).text(i.Title))})})},n.SubmitForm=function(){return i(f),!1},r=function(){var t=n.PhoneCodeTextbox.val().replace(/[() ]/g,"");return t+n.PhoneSignupTextbox.val()},i=function(t){var i=encodeURIComponent(r());$.ajax({type:"GET",url:FXStreet.Resource.PhoneServiceUrl.format(i)}).done(function(i){i&&i.IsPhoneValid&&(n.PhoneContainer.removeClass(n.FxsUserErrorClass),n.PhoneValid=!0,t&&t(n.PhoneValid))}).fail(function(){n.PhoneContainer.addClass(n.FxsUserErrorClass);n.PhoneValid=!1;t&&t(n.PhoneValid)})},u=function(){return o("uriToRedirect")},f=function(t){(n.SubmitButton.html(n.LoginRegistering),n.EmailServerErrorContainer.removeClass(n.FxsUserErrorClass),t)&&(n.RegisterData={Password:n.PasswordSignupTextbox.val(),Email:n.EmailSignupTextbox.val(),Phone:r(),FullName:n.FullNameSignupTextbox.val(),UriToRedirect:u()},$.ajax({type:"POST",url:n.SignupUrl,data:JSON.stringify(n.RegisterData),contentType:"application/json; charset=utf-8",dataType:"json"}).done(n.signupSuccess))},n}}(),function(){FXStreet.Class.Patterns.Singleton.SocialMediaOptions=null;FXStreet.Class.SocialMediaBar=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.ItemUrl="",n.ItemTitle="",n.PageUrl="",n.Container=null,n.HtmlTemplateFile="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.loadSocialMedia(n.GetSocialMediaOptions())},n.GetSocialMediaOptions=function(){return FXStreet.Resource.SocialMediaBar},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.setCssClasses=function(n){if(n!==undefined)for(var t=0;t<n.length;t++)n[t].Name.toLowerCase().indexOf("facebook")>-1?n[t].CssClass="fa fa-facebook":n[t].Name.toLowerCase().indexOf("twitter")>-1?n[t].CssClass="fa fa-twitter":n[t].Name.toLowerCase().indexOf("google")>-1?n[t].CssClass="fa fa-google":n[t].Name.toLowerCase().indexOf("linkedin")>-1&&(n[t].CssClass="fa fa-linkedin")},n.loadSocialMedia=function(t){var u=t.SocialMediaChannels,i,r;n.setCssClasses(u);FXStreet.Class.Patterns.Singleton.SocialMediaOptions=t;i=n.excludeEmptyUrl(t);r=n.getJsonFormattedForMustache(i);FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,r);n.Container.html(i)})},n.excludeEmptyUrl=function(){},n.setCustomParamsToShare=function(n,t){t.forEach(function(t){t.urlCustomParams=n.ItemUrl});var i=$.grep(t,function(n){return n.Name.toLowerCase().indexOf("twitter")!==-1});return i.forEach(function(t){t.urlCustomParams=FXStreet.Util.EncodeUrl(n.ItemTitle)+"%0A"+n.ItemUrl}),t},n.getJsonFormattedForMustache=function(n){return n},n};FXStreet.Class.SocialMediaBarDefault=function(){var n=FXStreet.Class.SocialMediaBar(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile="socialmediabar_default.html",n.getJsonFormattedForMustache=function(t){var i=n.setCustomParamsToShare(n,t.SocialMediaChannels),r=i.slice(0,2),u=i.slice(2,i.length);return{SocialMediaChannelsShowed:r,SocialMediaChannelsHidden:u,ShareDisplay:t.ShareDisplay,MoreOptionsDisplay:t.MoreOptionsDisplay}},n.excludeEmptyUrl=function(n){var i=[],t;return $.each(n.SocialMediaChannels,function(n,t){t.ShareUrl!=null&&t.ShareUrl!=""&&i.push(t)}),t=n,t.SocialMediaChannels=i,t},t};FXStreet.Class.SocialMediaBarBoxed=function(){var n=FXStreet.Class.SocialMediaBar(),t=FXStreet.Util.extendObject(n);return n.HtmlTemplateFile="socialmediabar_boxed.html",n.getJsonFormattedForMustache=function(t){return{PageUrl:n.PageUrl,ItemTitle:FXStreet.Util.EncodeUrl(n.ItemTitle),SocialMediaChannels:t.SocialMediaChannels,ShareOptions:t.ShareOptionsDisplay}},n.loadHtmlTemplateSuccessComplete=function(){},n.excludeEmptyUrl=function(n){var i=[],t;return $.each(n.SocialMediaChannels,function(n,t){t.ShareUrl!=null&&t.ShareUrl!=""&&i.push(t)}),t=n,t.SocialMediaChannels=i,t},t};FXStreet.Class.SocialMediaBarProfile=function(){var n=FXStreet.Class.SocialMediaBar(),t=FXStreet.Util.extendObject(n),i;return n.HtmlTemplateFile="socialmediabar_profile.html",t.SocialMediaBarData={},i=n.init,n.init=function(n){t.setSettingsByObject(n);i(n)},n.GetSocialMediaOptions=function(){return{SocialMediaChannels:t.SocialMediaBarData}},n.loadHtmlTemplateSuccessComplete=function(){},n.excludeEmptyUrl=function(n){var i=[],t;return $.each(n.SocialMediaChannels,function(n,t){t.ProfileUrl!=null&&t.ProfileUrl!=""&&i.push(t)}),t=n,t.SocialMediaChannels=i,t},t}}(),function(){FXStreet.Class.Sound=function(){var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r),t,i;return n.SoundUrl=null,t=null,n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){i()},i=function(){t=document.createElement("audio");t.setAttribute("src",n.SoundUrl)},n.playSound=function(){t.play()},n}}(),function(){FXStreet.Class.Patterns.Singleton.StickyManager=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r);n.StickyItemsClass=".sticky";n.StickyContentSelector=".sticky-holder";var t=null,i=680,u=55;return n.init=function(t){n.setSettingsByObject(t);n.setVars()},n.setVars=function(){t=FXStreet.Util.getObjectInstance("ResponsiveDesign")},n.setSticky=function(r,f){var s=t?t.getWindowWidth():i;if(s>=i){var e=r||$(n.StickyItemsClass),h=f||n.StickyContentSelector,o="fxs-fixto-fixed";e=e.not("."+o);e.length>0&&(e.fixTo(h,{top:u}),e.addClass(o))}},n};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){FXStreet.Class.NewslettersSubscriber=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.Email="",n.CountryCode="",n.FollowingClass="",n.NewsletterFollow=[],n.NewsletterUnfollow=[],n.init=function(t){n.setSettingsByObject(t)},n.SendToEventHub=function(){var t={ActionEmail:n.Email,LanguageId:FXStreet.Resource.LanguageId,NewsletterFollow:n.NewsletterFollow,NewsletterUnfollow:n.NewsletterUnfollow,CountryCode:n.CountryCode},i=FXStreet.Class.Patterns.Singleton.TagManager.Instance();i.PushToEventhub(t,"Newsletter")},n};FXStreet.Class.SubscribeToNewsletter=function(){var u=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(u),t,i,r;n.ContainerId="";n.NewsletterFollow=[];n.NewsletterUnfollow=[];n.Email="";n.CountryCode="";n.WidgetType="";n.DefaultNewslettersIds=[];n.Newsletters=[];n.CheckNewslettersBeforeSend=null;n.CheckboxGetAll=null;n.Container=null;n.TextBox=null;n.SuccessMessageDiv=null;n.ErrorMessageDiv=null;n.SubmitButton=null;n.CheckboxItems=null;n.CheckboxGroup="newsletters";n.CheckboxGetAllId="00000000-0000-0000-0000-000000000000";n.SaveSubscribedNewslettersCookie=null;n.Recaptcha=null;n.init=function(t){n.setSettingsByObject(t);n.setVars();n.htmlRender(t)};n.setVars=function(){n.WidgetType||(n.WidgetType="fxs_widget_default");n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId);n.HtmlTemplateFile=f(n.WidgetType);n.DefaultNewslettersIds=o();e()};var f=function(n){return{fxs_widget_mini:"subscribe_mini.html",fxs_widget_default:"subscribe_default.html",fxs_widget_big:"subscribe_big.html",fxs_widget_tab:"subscribe_tab.html"}[n]},e=function(){var t=$.grep(n.Newsletters,function(n){return n.Subscribed});t.length!==0||n.Email||$.each(n.Newsletters,function(){this.Subscribed=!0})},o=function(){var t=$.grep(n.Newsletters,function(n){return n.Default});return t.map(function(n){return n.Id})};n.addEvents=function(){n.TextBox.on("keydown",n.textBoxKeyDown);n.SubmitButton.on("click",n.Submit);n.CheckboxGetAll.on("change",n.selectAll);n.CheckboxItems.on("change",n.unSelectAll);if(n.DropdownButton)n.DropdownButton.on("click",function(){n.DropDownNewsletters.toggleClass("fxs_dBlock")})};t=function(){i();r()};n.htmlRender=function(t){FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){n.onRendered(i,t)})};n.onRendered=function(i,r){var u=FXStreet.Util.renderByHtmlTemplate(i,r);n.Container.html(u);n.TextBox=FXStreet.Util.getjQueryObjectById("inputMail_"+n.ContainerId);n.TextBox.val(n.Email);n.SubmitButton=FXStreet.Util.getjQueryObjectById("submit_"+n.ContainerId);n.CheckboxGetAll=n.Container.find("input:checkbox[name="+n.CheckboxGroup+"][value="+n.CheckboxGetAllId+"]");n.CheckboxItems=n.Container.find("input:checkbox[name="+n.CheckboxGroup+"][value!="+n.CheckboxGetAllId+"]");n.SuccessMessageDiv=n.Container.find("#successMessageDiv_"+n.ContainerId);n.ErrorMessageDiv=n.Container.find("#errorMessageDiv_"+n.ContainerId);n.ErrorCaptchaMessageDiv=n.Container.find("#errorCaptchaMessageDiv_"+n.ContainerId);$("#dropdownNewsletters_"+n.ContainerId).length>0&&(n.DropDownNewsletters=FXStreet.Util.getjQueryObjectById("dropdownNewsletters_"+n.ContainerId),n.DropdownButton=FXStreet.Util.getjQueryObjectById("dropdownButton_"+n.ContainerId));n.addEvents();t()};i=function(){var t={Email:n.Email,CountryCode:n.CountryCode};n.NewsletterSubscriber=new FXStreet.Class.NewslettersSubscriber;n.NewsletterSubscriber.init(t)};r=function(){var t={ContainerId:"recaptcha_"+n.ContainerId,Config:{Callback:n.Subscribe}};n.Recaptcha=new FXStreet.Class.Recaptcha;n.Recaptcha.init(t)};n.selectAll=function(){n.CheckboxItems.each(function(t,i){i.checked=n.CheckboxGetAll.prop("checked")})};n.unSelectAll=function(){n.CheckboxGetAll.prop("checked")&&$(n.CheckboxGetAll.prop("checked",!1))};n.textBoxKeyDown=function(t){t.keyCode===13&&n.textBoxEnter()};n.Submit=function(){return n.DropdownButton&&n.DropdownButton.click(),n.Recaptcha.Execute(),!1};n.Subscribe=function(){s()&&(n.NewsletterSubscriber.SendToEventHub(),h())};var s=function(){return($(n.SuccessMessageDiv).hide(),$(n.ErrorMessageDiv).hide(),$(n.ErrorCaptchaMessageDiv).hide(),!n.Recaptcha.GetResponse())?($(n.ErrorCaptchaMessageDiv).show(),!1):n.TextBox.valid()?(n.Email=n.TextBox.val(),c(),n.NewsletterSubscriber.NewsletterFollow=n.NewsletterFollow,n.NewsletterSubscriber.NewsletterUnfollow=n.NewsletterUnfollow,n.NewsletterSubscriber.Email=n.Email,!0):($(n.ErrorMessageDiv).show(),!1)},h=function(){a();$(n.SuccessMessageDiv).show().delay(5e3).hide(0);n.Recaptcha.Reset()},c=function(){n.NewsletterFollow=[];n.NewsletterUnfollow=[];n.Container.find("input:checkbox[name="+n.CheckboxGroup+"]").each(function(){$(this).attr("value")!==n.CheckboxGetAllId&&($(this).is(":checked")?n.NewsletterFollow.push($(this).attr("value")):n.NewsletterUnfollow.push($(this).attr("value")))});l()},l=function(){n.NewsletterFollow.length>0?n.NewsletterFollow=$.merge(n.DefaultNewslettersIds,n.NewsletterFollow):n.NewsletterUnfollow=$.merge(n.DefaultNewslettersIds,n.NewsletterUnfollow)},a=function(){var t=FXStreet.Class.Patterns.Singleton.FxsCookiesManager.Instance();t.UpdateCookie(FXStreet.Util.FxsCookie.SubscribedNewsletters,JSON.stringify(n.SelectedNewsletters),7300)};return n.textBoxEnter=function(){n.SubmitButton.click()},n}}(),function(){FXStreet.Class.Survey={};FXStreet.Class.Survey.Base=function(){function n(){var n=sessionStorage.getItem("clickCount"),t,i;n===null||n===undefined?(n=1,sessionStorage.setItem("clickCount",n)):(n=parseInt(n)+1,sessionStorage.setItem("clickCount",n));n===12&&(t={Id:"monkey",event:"survey"},i=FXStreet.Class.Patterns.Singleton.TagManager.Instance(),i.Push(t),sessionStorage.setItem("clickCount",0))}document.addEventListener("click",n,!1)}}(),function(){FXStreet.Class.Patterns.Singleton.TagManager=function(){function i(){var n=t();return n.init({}),n}var n,t=function(){var i=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(i),t;return n.Push=function(n){n!==null&&(n.userId=FXStreet.Resource.UserId,n.userSessionId=t(),dataLayer.push(n))},n.PushToEventhub=function(n,i){if(n!=null){n.LoggedUserEmail=FXStreet.Resource.UserInfo.Email;n.UserSessionId=t();n.CountryCode=FXStreet.Resource.UserInfo.CountryCode;var r={event:"eventhub",eventHubData:n,eventType:i};dataLayer.push(r)}},t=function(){var n=FXStreet.Class.Patterns.Singleton.FxsCookiesManager.Instance();return n.GetCookieValue(FXStreet.Util.FxsCookie.UserSessionId)},n};return{Instance:function(){return n||(n=i()),n}}}()}(),function(){FXStreet.Class.TemplateBase=function(){function i(t){var i=n.Content[0].scrollHeight-n.Content.height();n.ScrollPosition+=t;n.ScrollPosition<0?n.ScrollPosition=0:n.ScrollPosition>i&&(n.ScrollPosition=i);n.CheckScrollPosition=!1;n.Content.stop().animate({scrollTop:n.ScrollPosition},{duration:200,done:function(){n.CheckScrollPosition=!0}})}var r=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(r),t;return n.SidebarLeft_ShowButtonId="",n.SidebarLeft_ContainerId="",n.VerticalMenuId="",n.HorizontalMenuId="",n.SidebarLeft_ShowButton=null,n.SidebarLeft_Container=null,n.Body=null,n.WallpaperWrap=null,n.ResponsiveDesignObj=null,n.ScrollPosition=0,n.CheckScrollPosition=!0,n.Content=null,t=1200,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents();n.windowsSubscriber();n.setSticky()},n.setVars=function(){n.SidebarLeft_ShowButton=FXStreet.Util.getjQueryObjectById(n.SidebarLeft_ShowButtonId);n.SidebarLeft_Container=FXStreet.Util.getjQueryObjectById(n.SidebarLeft_ContainerId);n.Body=$("body");n.ResponsiveDesignObj=FXStreet.Util.getObjectInstance("ResponsiveDesign");FXStreet.Util.initObject({objType:"Menu",json:{VerticalMenuId:n.VerticalMenuId,HorizontalMenuId:n.HorizontalMenuId}});n.WallpaperWrap=$(".fxs_wallpaper_wrap");n.Content=$("#fxs_content")},n.addEvents=function(){n.SidebarLeft_ShowButton.on("click",n.SidebarLeft_ShowButton_Click)},n.WallpaperWrapMouseWheelEvent=function(n){var t=100;n.originalEvent.wheelDelta/120>0&&(t=-t);i(t)},n.WindowKeyDown=function(n){if((n.which===38||n.which===40)&&$(document.activeElement).hasClass("fxs_wallpaper_wrap")){var r=n.which===38,t=90;r&&(t=-t);i(t)}},n.windowsSubscriber=function(){n.ResponsiveDesignObj&&(n.ResponsiveDesignObj.whenWindowResizesToMobile(n.ResizeToMobile),n.ResponsiveDesignObj.whenWindowResizesToTablet(n.ResizeToMobile),n.ResponsiveDesignObj.whenWindowResizesToDesktop(n.ResizeToDesktop),n.ResponsiveDesignObj.whenWindowIncreaseToSize(n.DesignTeamIncreaseLimit,t),n.ResponsiveDesignObj.whenWindowDecreaseToSize(n.DesignTeamReduceLimit,t),n.removeSwipe(),n.ResponsiveDesignObj.IsDesktop()||n.setSwipe())},n.setSticky=function(){function r(){var t=FXStreet.Util.getjQueryObjectBySelector(".fxs_stickyAd-mobile-btn"),n;t.on("click",function(){var n=FXStreet.Util.getjQueryObjectBySelector(".fxs_stickyAd-mobile");n.remove()});n={ContainerId:"fxs_stickyFooterAd",SlotName:"/7138/FXS30/FooterMobile",AdvertiseType:"normal",RefreshSeconds:0,MobileSize:"[320, 50]"};(new FXStreet.Class.AdvertiseNormal).init(n)}var i=n.ResponsiveDesignObj.getWindowWidth()<680,t;i?r():(t=FXStreet.Class.Patterns.Singleton.StickyManager.Instance(),t.setSticky())},n.SidebarLeft_ShowButton_Click=function(){n.SidebarLeft_ShowButton.toggleClass("active");n.Body.toggleClass("cbp-spmenu-push-toright");n.Body.removeClass("fxs_push_timezone");n.SidebarLeft_Container.toggleClass("cbp-spmenu-open");n.SidebarLeft_Container.toggleClass("cbp-spmenu-open")},n.ResizeToMobile=function(){n.setTouch();n.removeSwipe();n.setSwipe()},n.ResizeToDesktop=function(){typeof n.removeTouch=="function"&&n.removeTouch();typeof n.removeSwip=="function"&&n.removeSwip()},n.DesignTeamReduceLimit=function(){n.resetMenu();n.removeSwipe()},n.DesignTeamIncreaseLimit=function(){n.resetMenu();n.removeSwipe()},n.disableAll=function(){n.SidebarLeft_ShowButton.toggleClass("disable")},n.resetMenu=function(){n.Body.removeClass("cbp-spmenu-push-toright");n.Body.removeClass("cbp-spmenu-push-toleft");n.SidebarLeft_Container.removeClass("cbp-spmenu-open")},n.setTouch=function(){n.Body.addClass("fxs_touch")},n.removeTouch=function(){n.Body.removeClass("fxs_touch")},n.removeSwipe=function(){n.SidebarLeft_Container.off("swipeleft")},n.setSwipe=function(){n.SidebarLeft_Container.on("swipeleft",n.SidebarLeft_ShowButton_Click)},n};FXStreet.Class.TemplateList=function(){var t=FXStreet.Class.TemplateBase(),n=FXStreet.Util.extendObject(t);return n.ListLeft_ShowButtonId="",n.ListLeft_ContainerId="",n.ScrollingContentId="",n.ScrollingElementSelector="",n.LoadingMoreId="pageLoading",n.HasInfiniteScrollPage=!1,n.ListLeft_ShowButton=null,n.ListLeft_Container=null,n.ScrollingContent=null,n.Resources=FXStreet.Resource.Translations.Sidebar_FilterAndList,n.init=function(i){n.setSettingsByObject(i);t.init(i)},n.setVarsParent=t.setVars,t.setVars=function(){n.setVarsParent();n.ListLeft_ShowButton=FXStreet.Util.getjQueryObjectById(n.ListLeft_ShowButtonId);n.ListLeft_Container=FXStreet.Util.getjQueryObjectById(n.ListLeft_ContainerId);n.HasInfiniteScrollPage&&FXStreet.Util.initObject({objType:"InfiniteScrollPage",json:{ScrollingElement:FXStreet.Util.getjQueryObjectBySelector(n.ScrollingElementSelector),ScrollingContent:n.ScrollingContent||FXStreet.Util.getjQueryObjectById(n.ScrollingContentId),LoadingMoreId:n.LoadingMoreId}});n.Resources.ShowListLeftButton?n.ListLeft_ShowButton.find("span").text(n.Resources.ShowListLeftButton):console.warn("The ShowListLeftButton field is empty")},n.addEventParent=t.addEvents,t.addEvents=function(){n.addEventParent();n.ListLeft_ShowButton.on("click",n.ListLeft_ShowButton_Click)},n.ListLeft_ShowButton_Click=function(){n.ListLeft_ShowButton.toggleClass("active");n.ListLeft_Container.toggleClass("cbp-spmenu-open");n.SidebarLeft_ShowButton.toggleClass("disabled")},n.SidebarLeft_ShowButton_ClickParent=t.SidebarLeft_ShowButton_Click,t.SidebarLeft_ShowButton_Click=function(){n.SidebarLeft_ShowButton_ClickParent();n.ListLeft_Container.removeClass("cbp-spmenu-open");n.ListLeft_ShowButton.removeClass("active");n.ListLeft_ShowButton.toggleClass("disabled")},n.resetMenuParent=t.resetMenu,t.resetMenu=function(){n.resetMenuParent();n.ListLeft_Container.removeClass("cbp-spmenu-open")},n.removeSwipeParent=t.removeSwipe,t.removeSwipe=function(){n.removeSwipeParent();n.ListLeft_Container.off("swipeleft")},n.setSwipeParent=t.setSwipe,t.setSwipe=function(){if(n.setSwipeParent(),!n.ResponsiveDesignObj.IsDesktop())n.ListLeft_ShowButton.on("swipeleft",n.ListLeft_ShowButton_Click)},n}}(),function(){FXStreet.Class.TextOverCustomImage=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerId="",n.Container=null,n.Name="",n.Title="",n.Summary="",n.ImageUrl="",n.TextUrl="",n.Author="",n.AuthorUrl="",n.Sponsored=!1,n.SponsoredContent="",n.ByDisplay="",n.HtmlTemplateFile="",n.AlertType="",n.init=function(t){n.setSettingsByObject(t);n.setVars();n.htmlRender()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectById(n.ContainerId)},n.htmlRender=function(){var t=jQuery.extend({},n);t.HasAuthor=n.Author!==null&&n.Author!=="";FXStreet.Util.loadHtmlTemplate(n.HtmlTemplateFile).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,t);n.Container.html(r)})},n}}(),function(){FXStreet.Class.UserMenu=function(){var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e);n.UserInfo=null;n.SignupUrl="";n.LoginUrl="";n.SignupLabel="";n.LoginLabel="";n.LogoutLabel="";n.MySuscriptionsLabel="";n.ContainerId="";n.MySuscriptionsUrl="";const o="logout",s="signup",h="login",c="user-option-button",l="fxs_user_options",a=FXStreet.Resource.FxsApiRoutes.LogoutUrl,v="usermenu.html";var i=null,r=null,u=null,t=null,f=null;n.init=function(t){n.setSettingsByObject(t);n.setVars();y();n.addEvents()};n.setVars=function(){f=FXStreet.Util.getjQueryObjectById(n.ContainerId)};var y=function(){FXStreet.Util.loadHtmlTemplate(v).done(function(t){var i=FXStreet.Util.renderByHtmlTemplate(t,n);f.html(i);p()})},p=function(){if(n.UserInfo.IsLogged){i=FXStreet.Util.getjQueryObjectById(o);i.click(w);t=FXStreet.Util.getjQueryObjectById(l);var f=FXStreet.Util.getjQueryObjectById(c);f.click(function(){t.toggleClass("fxs_hideElements")});t.find(".fa-times").click(function(){t.toggleClass("fxs_hideElements")})}else r=FXStreet.Util.getjQueryObjectById(s),u=FXStreet.Util.getjQueryObjectById(h),r.click(n.Signup),u.click(n.Login)},w=function(){$.ajax({type:"GET",url:a}).success(function(){location.reload()})};return n.Signup=function(){location.href=n.SignupUrl},n.Login=function(){location.href=n.LoginUrl+"?uriToRedirect="+location.href},n};FXStreet.Class.ClockZone=function(){var t=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(t);return n.ContainerSelector="",n.TimeDisplayFormat="",n.Container=null,n.TimeInput=null,n.HoursUtcOffset=null,n.TimeZoneIsFromUserDevice=!1,n.init=function(t){n.setSettingsByObject(t);n.setVars();n.addEvents()},n.setVars=function(){n.Container=FXStreet.Util.getjQueryObjectBySelector(n.ContainerSelector);n.TimeInput=n.Container.find("time")},n.addEvents=function(){n.Container.on("click",n.containerClick);setInterval(n.updateClock,1e3)},n.containerClick=function(){},n.updateClock=function(){var i=n.getMomentDate(),t;n.TimeInput.attr("datetime",i.format("YYYY-MM-DD HH:mm:ss"));t=i.format(n.TimeDisplayFormat);n.HoursUtcOffset===0&&(t+=" GMT");n.TimeInput.html(t)},n.getMomentDate=function(){var t,i,r;return n.TimeZoneIsFromUserDevice===!0?t=moment():(i=moment.utc().hour()+n.HoursUtcOffset,r=60*(i%1),t=moment.utc().hour(i).add(r,"minutes")),t},n};FXStreet.Class.DateTime=function(){function a(){FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().setTimeZone(n.CurrentTimeZone)}var e=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(e),u;n.TimeDisplayFormat="";n.TimeZoneIsFromUserDevice=!1;n.CurrentTimeZone=null;n.ChangeTimeZoneTitle="";n.ContainerId="";var o="#fxs_changetimezone_button",s="#fxs_changetimezone_button",h="fxs_it_timezones",t=null,i=null,r=null,c="timezone.html",l="timezone_options.html";n.init=function(t){n.setSettingsByObject(t);n.setVars();u()};u=function(){FXStreet.Util.loadHtmlTemplate(c).done(function(u){var f=FXStreet.Util.renderByHtmlTemplate(u,n);r.html(f);i=FXStreet.Util.getjQueryObjectBySelector(s);i.click(v);t=FXStreet.Util.getjQueryObjectById(h);a();p()})};n.setVars=function(){r=FXStreet.Util.getjQueryObjectById(n.ContainerId)};var v=function(){$.trim(t.html())?f():FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().GetTimeZoneModel().then(function(n){FXStreet.Util.loadHtmlTemplate(l).done(function(i){var r=FXStreet.Util.renderByHtmlTemplate(i,n);t.html(r);t.find("button").click(f);t.find("li").click(function(){var n=$(this).attr("timezone-id");y(n)})})})},f=function(){t.empty()},y=function(t){var i,r,u;n.CurrentTimeZone.TimeZoneId!==t&&(i=!t,i&&(t=FXStreet.Class.Patterns.Singleton.TimeZoneManager.Instance().GetBrowserTimeZoneId()),r={TimeZoneIsFromUserDevice:i,TimeZoneInfoId:t},u=FXStreet.Class.Patterns.Singleton.FxsCookiesManager.Instance(),u.UpdateCookie(FXStreet.Util.FxsCookie.UserTimeConfiguration,JSON.stringify(r),7300),window.location.reload())},p=function(){var t=new FXStreet.Class.ClockZone,i={ContainerSelector:o,TimeDisplayFormat:n.TimeDisplayFormat,HoursUtcOffset:n.CurrentTimeZone.HoursUtcOffset,TimeZoneIsFromUserDevice:n.TimeZoneIsFromUserDevice};t.init(i)};return n};FXStreet.Class.Patterns.Singleton.TimeZoneManager=function(){var n,t=function(){var t=null,n,i,r;this.setTimeZone=function(n){t=n};this.TimeZone=function(){return t};this.GetTTTimeZoneValue=function(){var t="Etc/GMT",n=this.TimeZone();return n&&(FXStreet.Util.isInteger(n.HoursUtcOffset)?n.HoursUtcOffset<0?t+="+"+-n.HoursUtcOffset:n.HoursUtcOffset>0&&(t+="-"+n.HoursUtcOffset):t=i(n.TimeZoneId)),t};this.GetFormatedDate=function(n){return moment(n).format("HH:mm")+(this.TimeZone().HoursUtcOffset===0?" GMT":"")};this.GetFormatedMomentDate=function(n){return n.format("MMM DD, HH:mm")+(this.TimeZone().HoursUtcOffset===0?" GMT":"")};this.GetUserDateByUnix=function(n){var r=this.TimeZone(),u=60*r.HoursUtcOffset,t=moment.unix(n).utcOffset(u),i="";return t._isValid&&(i=this.GetFormatedMomentDate(t)),i};n=null;this.GetTimeZoneModel=function(){if(n)return $.when(n);var t=FXStreet.Util.createUrl(FXStreet.Resource.FxsApiRoutes.TimeZoneGet,[]);return $.get(t).then(function(t){return n=t})};i=function(n){return{"Marquesas Standard Time":"Pacific/Marquesas","Newfoundland Standard Time":"Canada/Newfoundland","Iran Standard Time":"Iran","Afghanistan Standard Time":"Asia/Kabul","India Standard Time":"Asia/Colombo","Sri Lanka Standard Time":"Asia/Colombo","Nepal Standard Time":"Asia/Kathmandu","Myanmar Standard Time":"Indian/Cocos","North Korea Standard Time":"Asia/Pyongyang","Cen. Australia Standard Time":"Australia/Adelaide","AUS Central Standard Time":"Australia/Darwin","Aus Central W. Standard Time":"Australia/Eucla","Chatham Islands Standard Time":"Pacific/Chatham"}[n]};this.GetBrowserTimeZoneId=function(){var n=jstz.determine(),t=n.name();return r(t)};r=function(n){return{"Australia/Darwin":"AUS Central Standard Time","Australia/Sydney":"AUS Eastern Standard Time","Australia/Melbourne":"AUS Eastern Standard Time","Asia/Kabul":"Afghanistan Standard Time","America/Anchorage":"Alaskan Standard Time","America/Juneau":"Alaskan Standard Time","America/Nome":"Alaskan Standard Time","America/Sitka":"Alaskan Standard Time","America/Yakutat":"Alaskan Standard Time","Asia/Bahrain":"Arab Standard Time","Asia/Kuwait":"Arab Standard Time","Asia/Qatar":"Arab Standard Time","Asia/Riyadh":"Arab Standard Time","Asia/Aden":"Arab Standard Time","Asia/Dubai":"Arabian Standard Time","Asia/Muscat":"Arabian Standard Time","Etc/GMT-4":"Arabian Standard Time","Asia/Baghdad":"Arabic Standard Time","America/Buenos_Aires":"Argentina Standard Time","America/Argentina/La_Rioja":"Argentina Standard Time","America/Argentina/Rio_Gallegos":"Argentina Standard Time","America/Argentina/Salta":"Argentina Standard Time","America/Argentina/San_Juan":"Argentina Standard Time","America/Argentina/San_Luis":"Argentina Standard Time","America/Argentina/Tucuman":"Argentina Standard Time","America/Argentina/Ushuaia":"Argentina Standard Time","America/Catamarca":"Argentina Standard Time","America/Cordoba":"Argentina Standard Time","America/Jujuy":"Argentina Standard Time","America/Mendoza":"Argentina Standard Time","America/Halifax":"Atlantic Standard Time","Atlantic/Bermuda":"Atlantic Standard Time","America/Glace_Bay":"Atlantic Standard Time","America/Goose_Bay":"Atlantic Standard Time","America/Moncton":"Atlantic Standard Time","America/Thule":"Atlantic Standard Time","Asia/Baku":"Azerbaijan Standard Time","Atlantic/Azores":"Azores Standard Time","America/Scoresbysund":"Azores Standard Time","America/Bahia":"Bahia Standard Time","Asia/Dhaka":"Bangladesh Standard Time","Asia/Thimphu":"Bangladesh Standard Time","America/Regina":"Canada Central Standard Time","America/Swift_Current":"Canada Central Standard Time","Atlantic/Cape_Verde":"Cape Verde Standard Time","Etc/GMT+1":"Cape Verde Standard Time","Asia/Yerevan":"Caucasus Standard Time","Australia/Adelaide":"Cen. Australia Standard Time","Australia/Broken_Hill":"Cen. Australia Standard Time","America/Guatemala":"Central America Standard Time","America/Belize":"Central America Standard Time","America/Costa_Rica":"Central America Standard Time","Pacific/Galapagos":"Central America Standard Time","America/Tegucigalpa":"Central America Standard Time","America/Managua":"Central America Standard Time","America/El_Salvador":"Central America Standard Time","Etc/GMT+6":"Central America Standard Time","Asia/Almaty":"Central Asia Standard Time","Antarctica/Vostok":"Central Asia Standard Time","Indian/Chagos":"Central Asia Standard Time","Asia/Bishkek":"Central Asia Standard Time","Asia/Qyzylorda":"Central Asia Standard Time","Etc/GMT-6":"Central Asia Standard Time","America/Cuiaba":"Central Brazilian Standard Time","America/Campo_Grande":"Central Brazilian Standard Time","Europe/Tirane":"Central Europe Standard Time","Europe/Prague":"Central Europe Standard Time","Europe/Budapest":"Central Europe Standard Time","Europe/Podgorica":"Central Europe Standard Time","Europe/Belgrade":"Central Europe Standard Time","Europe/Ljubljana":"Central Europe Standard Time","Europe/Bratislava":"Central Europe Standard Time","Europe/Sarajevo":"Central European Standard Time","Europe/Zagreb":"Central European Standard Time","Europe/Skopje":"Central European Standard Time","Europe/Warsaw":"Central European Standard Time","Antarctica/Macquarie":"Central Pacific Standard Time","Pacific/Ponape":"Central Pacific Standard Time","Pacific/Kosrae":"Central Pacific Standard Time","Pacific/Noumea":"Central Pacific Standard Time","Pacific/Guadalcanal":"Central Pacific Standard Time","Pacific/Efate":"Central Pacific Standard Time","Etc/GMT-11":"Central Pacific Standard Time","America/Chicago":"Central Standard Time","America/Winnipeg":"Central Standard Time","America/Rainy":"Central Standard Time","America/Rankin_Inlet":"Central Standard Time","America/Resolute":"Central Standard Time","America/Matamoros":"Central Standard Time","America/Indiana/Knox":"Central Standard Time","America/Indiana/Tell_City":"Central Standard Time","America/Menominee":"Central Standard Time","America/North_Dakota/Beulah":"Central Standard Time","America/North_Dakota/Center":"Central Standard Time","America/North_Dakota/New_Salem":"Central Standard Time",CST6CDT:"Central Standard Time","America/Mexico_City":"Central Standard Time (Mexico)","America/Bahia_Banderas":"Central Standard Time (Mexico)","America/Cancun":"Central Standard Time (Mexico)","America/Merida":"Central Standard Time (Mexico)","America/Monterrey":"Central Standard Time (Mexico)","Asia/Shanghai":"China Standard Time","Asia/Chongqing":"China Standard Time","Asia/Harbin":"China Standard Time","Asia/Kashgar":"China Standard Time","Asia/Urumqi":"China Standard Time","Asia/Hong_Kong":"China Standard Time","Asia/Macau":"China Standard Time","Etc/GMT+12":"Dateline Standard Time","Antarctica/Syowa":"E. Africa Standard Time","Africa/Djibouti":"E. Africa Standard Time","Africa/Asmera":"E. Africa Standard Time","Africa/Addis_Ababa":"E. Africa Standard Time","Africa/Nairobi":"E. Africa Standard Time","Indian/Comoro":"E. Africa Standard Time","Indian/Antananarivo":"E. Africa Standard Time","Africa/Khartoum":"E. Africa Standard Time","Africa/Mogadishu":"E. Africa Standard Time","Africa/Juba":"E. Africa Standard Time","Africa/Dar_es_Salaam":"E. Africa Standard Time","Africa/Kampala":"E. Africa Standard Time","Indian/Mayotte":"E. Africa Standard Time","Etc/GMT-3":"E. Africa Standard Time","Australia/Brisbane":"E. Australia Standard Time","Australia/Brisbane Australia/Lindeman":"E. Australia Standard Time","Asia/Nicosia":"E. Europe Standard Time","America/Sao_Paulo":"E. South America Standard Time","America/New_York":"Eastern Standard Time","America/Nassau":"Eastern Standard Time","America/Toronto":"Eastern Standard Time","America/Iqaluit":"Eastern Standard Time","America/Montreal":"Eastern Standard Time","America/Nipigon":"Eastern Standard Time","America/Pangnirtung":"Eastern Standard Time","America/Thunder_Bay":"Eastern Standard Time","America/Grand_Turk":"Eastern Standard Time","America/Detroit":"Eastern Standard Time","America/Indiana/Petersburg":"Eastern Standard Time","America/Indiana/Vincennes":"Eastern Standard Time","America/Indiana/Winamac":"Eastern Standard Time","America/Kentucky/Monticello":"Eastern Standard Time","America/Louisville":"Eastern Standard Time",EST5EDT:"Eastern Standard Time","Africa/Cairo":"Egypt Standard Time","Asia/Gaza":"Egypt Standard Time","Asia/Hebron":"Egypt Standard Time","Asia/Yekaterinburg":"Ekaterinburg Standard Time","Europe/Mariehamn":"FLE Standard Time","Europe/Sofia":"FLE Standard Time","Europe/Tallinn":"FLE Standard Time","Europe/Helsinki":"FLE Standard Time","Europe/Vilnius":"FLE Standard Time","Europe/Riga":"FLE Standard Time","Europe/Kiev":"FLE Standard Time","Europe/Simferopol":"FLE Standard Time","Europe/Uzhgorod":"FLE Standard Time","Europe/Zaporozhye":"FLE Standard Time","Pacific/Fiji":"Fiji Standard Time","Atlantic/Canary":"GMT Standard Time","Atlantic/Faeroe":"GMT Standard Time","Europe/London":"GMT Standard Time","Europe/Guernsey":"GMT Standard Time","Europe/Dublin":"GMT Standard Time","Europe/Isle_of_Man":"GMT Standard Time","Europe/Jersey":"GMT Standard Time","Europe/Lisbon":"GMT Standard Time","Atlantic/Madeira":"GMT Standard Time","Europe/Bucharest":"GTB Standard Time","Europe/Athens":"GTB Standard Time","Europe/Chisinau":"GTB Standard Time","Asia/Tbilisi":"Georgian Standard Time","America/Godthab":"Greenland Standard Time","Africa/Ouagadougou":"Greenwich Standard Time","Africa/Abidjan":"Greenwich Standard Time","Africa/El_Aaiun":"Greenwich Standard Time","Africa/Accra":"Greenwich Standard Time","Africa/Banjul":"Greenwich Standard Time","Africa/Conakry":"Greenwich Standard Time","Africa/Bissau":"Greenwich Standard Time","Atlantic/Reykjavik":"Greenwich Standard Time","Africa/Monrovia":"Greenwich Standard Time","Africa/Bamako":"Greenwich Standard Time","Africa/Nouakchott":"Greenwich Standard Time","Atlantic/St_Helena":"Greenwich Standard Time","Africa/Freetown":"Greenwich Standard Time","Africa/Dakar":"Greenwich Standard Time","Africa/Sao_Tome":"Greenwich Standard Time","Africa/Lome":"Greenwich Standard Time","Pacific/Honolulu":"Hawaiian Standard Time","Pacific/Rarotonga":"Hawaiian Standard Time","Pacific/Tahiti":"Hawaiian Standard Time","Pacific/Fakaofo":"Hawaiian Standard Time","Pacific/Johnston":"Hawaiian Standard Time","Etc/GMT+10":"Hawaiian Standard Time","Asia/Calcutta":"India Standard Time","Asia/Tehran":"Iran Standard Time","Asia/Jerusalem":"Israel Standard Time","Asia/Amman":"Jordan Standard Time","Europe/Kaliningrad":"Kaliningrad Standard Time","Europe/Minsk":"Kaliningrad Standard Time","Asia/Pyongyang":"Korea Standard Time","Asia/Seoul":"Korea Standard Time","Asia/Magadan":"Magadan Standard Time","Asia/Anadyr":"Magadan Standard Time","Asia/Kamchatka":"Magadan Standard Time","Indian/Mauritius":"Mauritius Standard Time","Indian/Reunion":"Mauritius Standard Time","Indian/Mahe":"Mauritius Standard Time","Asia/Beirut":"Middle East Standard Time","America/Montevideo":"Montevideo Standard Time","Africa/Casablanca":"Morocco Standard Time","America/Denver":"Mountain Standard Time","America/Edmonton":"Mountain Standard Time","America/Cambridge_Bay":"Mountain Standard Time","America/Inuvik":"Mountain Standard Time","America/Yellowknife":"Mountain Standard Time","America/Ojinaga":"Mountain Standard Time","America/Boise":"Mountain Standard Time","America/Shiprock":"Mountain Standard Time",MST7MDT:"Mountain Standard Time","America/Chihuahua":"Mountain Standard Time (Mexico)","America/Chihuahua America/Mazatlan":"Mountain Standard Time (Mexico)","Asia/Rangoon":"Myanmar Standard Time","Indian/Cocos":"Myanmar Standard Time","Asia/Novosibirsk":"N. Central Asia Standard Time","Asia/Novokuznetsk":"N. Central Asia Standard Time","Asia/Omsk":"N. Central Asia Standard Time","Africa/Windhoek":"Namibia Standard Time","Asia/Katmandu":"Nepal Standard Time","Antarctica/South_Pole":"New Zealand Standard Time","Antarctica/McMurdo":"New Zealand Standard Time","Pacific/Auckland":"New Zealand Standard Time","America/St_Johns":"Newfoundland Standard Time","Asia/Irkutsk":"North Asia East Standard Time","Asia/Krasnoyarsk":"North Asia Standard Time","Antarctica/Palmer":"Pacific SA Standard Time","America/Santiago":"Pacific SA Standard Time","America/Vancouver":"Pacific Standard Time","America/Dawson":"Pacific Standard Time","America/Whitehorse":"Pacific Standard Time","America/Tijuana":"Pacific Standard Time","America/Los_Angeles":"Pacific Standard Time",PST8PDT:"Pacific Standard Time","America/Santa_Isabel":"Pacific Standard Time (Mexico)","Asia/Karachi":"Pakistan Standard Time","America/Asuncion":"Paraguay Standard Time","Europe/Brussels":"Romance Standard Time","Europe/Copenhagen":"Romance Standard Time","Europe/Madrid":"Romance Standard Time","Africa/Ceuta":"Romance Standard Time","Europe/Paris":"Romance Standard Time","Europe/Moscow":"Russian Standard Time","Europe/Moscow Europe/Samara Europe/Volgograd":"Russian Standard Time","Antarctica/Rothera":"SA Eastern Standard Time","America/Fortaleza":"SA Eastern Standard Time","America/Araguaina":"SA Eastern Standard Time","America/Belem":"SA Eastern Standard Time","America/Maceio":"SA Eastern Standard Time","America/Recife":"SA Eastern Standard Time","America/Santarem":"SA Eastern Standard Time","America/Cayenne":"SA Eastern Standard Time","America/Paramaribo":"SA Eastern Standard Time","Etc/GMT+3":"SA Eastern Standard Time","America/Bogota":"SA Pacific Standard Time","America/Coral_Harbour":"SA Pacific Standard Time","America/Guayaquil":"SA Pacific Standard Time","America/Port-au-Prince":"SA Pacific Standard Time","America/Jamaica":"SA Pacific Standard Time","America/Cayman":"SA Pacific Standard Time","America/Panama":"SA Pacific Standard Time","America/Lima":"SA Pacific Standard Time","Etc/GMT+5":"SA Pacific Standard Time","America/Antigua":"SA Western Standard Time","America/Anguilla":"SA Western Standard Time","America/Aruba":"SA Western Standard Time","America/Barbados":"SA Western Standard Time","America/St_Barthelemy":"SA Western Standard Time","America/La_Paz":"SA Western Standard Time","America/Manaus":"SA Western Standard Time","America/Boa_Vista":"SA Western Standard Time","America/Eirunepe":"SA Western Standard Time","America/Porto_Velho":"SA Western Standard Time","America/Rio_Branco":"SA Western Standard Time","America/Blanc-Sablon":"SA Western Standard Time","America/Curacao":"SA Western Standard Time","America/Dominica":"SA Western Standard Time","America/Santo_Domingo":"SA Western Standard Time","America/Grenada":"SA Western Standard Time","America/Guadeloupe":"SA Western Standard Time","America/Guyana":"SA Western Standard Time","America/St_Kitts":"SA Western Standard Time","America/St_Lucia":"SA Western Standard Time","America/Marigot":"SA Western Standard Time","America/Martinique":"SA Western Standard Time","America/Montserrat":"SA Western Standard Time","America/Puerto_Rico":"SA Western Standard Time","America/Port_of_Spain":"SA Western Standard Time","America/St_Vincent":"SA Western Standard Time","America/Tortola":"SA Western Standard Time","America/St_Thomas":"SA Western Standard Time","Etc/GMT+4":"SA Western Standard Time","Antarctica/Davis":"SE Asia Standard Time","Indian/Christmas":"SE Asia Standard Time","Asia/Jakarta Asia/Pontianak":"SE Asia Standard Time","Asia/Phnom_Penh":"SE Asia Standard Time","Asia/Vientiane":"SE Asia Standard Time","Asia/Hovd":"SE Asia Standard Time","Asia/Bangkok":"SE Asia Standard Time","Asia/Saigon":"SE Asia Standard Time","Etc/GMT-7":"SE Asia Standard Time","Pacific/Apia":"Samoa Standard Time","Asia/Brunei":"Singapore Standard Time","Asia/Makassar":"Singapore Standard Time","Asia/Kuala_Lumpur":"Singapore Standard Time","Asia/Kuching":"Singapore Standard Time","Asia/Manila":"Singapore Standard Time","Asia/Singapore":"Singapore Standard Time","Etc/GMT-8":"Singapore Standard Time","Africa/Bujumbura":"South Africa Standard Time","Africa/Gaborone":"South Africa Standard Time","Africa/Lubumbashi":"South Africa Standard Time","Africa/Maseru":"South Africa Standard Time","Africa/Tripoli":"South Africa Standard Time","Africa/Blantyre":"South Africa Standard Time","Africa/Maputo":"South Africa Standard Time","Africa/Kigali":"South Africa Standard Time","Africa/Mbabane":"South Africa Standard Time","Africa/Johannesburg":"South Africa Standard Time","Africa/Lusaka":"South Africa Standard Time","Africa/Harare":"South Africa Standard Time","Etc/GMT-2":"South Africa Standard Time","Asia/Colombo":"Sri Lanka Standard Time","Asia/Damascus":"Syria Standard Time","Asia/Taipei":"Taipei Standard Time","Australia/Hobart":"Tasmania Standard Time","Australia/Currie":"Tasmania Standard Time","Asia/Tokyo":"Tokyo Standard Time","Asia/Jayapura":"Tokyo Standard Time","Pacific/Palau":"Tokyo Standard Time","Asia/Dili":"Tokyo Standard Time","Etc/GMT-9":"Tokyo Standard Time","Pacific/Enderbury":"Tonga Standard Time","Pacific/Tongatapu":"Tonga Standard Time","Etc/GMT-13":"Tonga Standard Time","Europe/Istanbul":"Turkey Standard Time","America/Indianapolis":"US Eastern Standard Time","America/Indiana/Marengo":"US Eastern Standard Time","America/Indiana/Vevay":"US Eastern Standard Time","America/Dawson_Creek":"US Mountain Standard Time","America/Hermosillo":"US Mountain Standard Time","America/Phoenix":"US Mountain Standard Time","Etc/GMT+7":"US Mountain Standard Time","Etc/GMT":"UTC","America/Danmarkshavn":"UTC","Pacific/Tarawa":"UTC+12","Pacific/Majuro Pacific/Kwajalein":"UTC+12","Pacific/Nauru":"UTC+12","Pacific/Funafuti":"UTC+12","Pacific/Wake":"UTC+12","Pacific/Wallis":"UTC+12","Etc/GMT-12":"UTC+12","America/Noronha":"UTC-02","Atlantic/South_Georgia":"UTC-02","Etc/GMT+2":"UTC-02","Pacific/Pago_Pago":"UTC-11","Pacific/Niue":"UTC-11","Pacific/Midway":"UTC-11","Etc/GMT+11":"UTC-11","Asia/Ulaanbaatar":"Ulaanbaatar Standard Time","Asia/Choibalsan":"Ulaanbaatar Standard Time","America/Caracas":"Venezuela Standard Time","Asia/Vladivostok":"Vladivostok Standard Time","Asia/Sakhalin":"Vladivostok Standard Time","Australia/Perth":"W. Australia Standard Time","Antarctica/Casey":"W. Australia Standard Time","Africa/Luanda":"W. Central Africa Standard Time","Africa/Porto-Novo":"W. Central Africa Standard Time","Africa/Kinshasa":"W. Central Africa Standard Time","Africa/Bangui":"W. Central Africa Standard Time","Africa/Brazzaville":"W. Central Africa Standard Time","Africa/Douala":"W. Central Africa Standard Time","Africa/Algiers":"W. Central Africa Standard Time","Africa/Libreville":"W. Central Africa Standard Time","Africa/Malabo":"W. Central Africa Standard Time","Africa/Niamey":"W. Central Africa Standard Time","Africa/Lagos":"W. Central Africa Standard Time","Africa/Ndjamena":"W. Central Africa Standard Time","Africa/Tunis":"W. Central Africa Standard Time","Etc/GMT-1":"W. Central Africa Standard Time","Europe/Berlin":"W. Europe Standard Time","Europe/Andorra":"W. Europe Standard Time","Europe/Vienna":"W. Europe Standard Time","Europe/Zurich":"W. Europe Standard Time","Europe/Gibraltar":"W. Europe Standard Time","Europe/Rome":"W. Europe Standard Time","Europe/Vaduz":"W. Europe Standard Time","Europe/Luxembourg":"W. Europe Standard Time","Europe/Monaco":"W. Europe Standard Time","Europe/Malta":"W. Europe Standard Time","Europe/Amsterdam":"W. Europe Standard Time","Europe/Oslo":"W. Europe Standard Time","Europe/Stockholm":"W. Europe Standard Time","Arctic/Longyearbyen":"W. Europe Standard Time","Europe/San_Marino":"W. Europe Standard Time","Europe/Vatican":"W. Europe Standard Time","Asia/Tashkent":"West Asia Standard Time","Antarctica/Mawson":"West Asia Standard Time","Asia/Oral":"West Asia Standard Time","Asia/Aqtau":"West Asia Standard Time","Asia/Aqtobe":"West Asia Standard Time","Indian/Maldives":"West Asia Standard Time","Indian/Kerguelen":"West Asia Standard Time","Asia/Dushanbe":"West Asia Standard Time","Asia/Ashgabat":"West Asia Standard Time","Asia/Tashkent Asia/Samarkand":"West Asia Standard Time","Etc/GMT-5":"West Asia Standard Time","Antarctica/DumontDUrville":"West Pacific Standard Time","Pacific/Truk":"West Pacific Standard Time","Pacific/Guam":"West Pacific Standard Time","Pacific/Saipan":"West Pacific Standard Time","Pacific/Port_Moresby":"West Pacific Standard Time","Etc/GMT-10":"West Pacific Standard Time","Asia/Yakutsk":"Yakutsk Standard Time"}[n]}};return{Instance:function(){return n||(n=new t),n}}}()}(),function(){FXStreet.Class.Patterns.Singleton.UserPersonalizationManager=function(){function i(){var n=t();return n.init({}),n}var t=function(){var h=FXStreet.Class.Base(),n=FXStreet.Util.extendObject(h),t=null,i=!1;const u="assetsMultiRateSetting",f="assetsRateAndChartFilterSetting",r="IsAssetsRateAndChartFilterSetting";n.init=function(t){n.setSettingsByObject(t);n.setVars()};n.setVars=function(){i=FXStreet.Util.isStorageAvailable("localStorage");i||console.log("localStorage is unavailable");t=FXStreet.Class.Patterns.Singleton.FxsCookiesManager.Instance()};var c=function(n){var t=null;return i&&(t=localStorage.getItem(n)),t},e=function(n){var t={},i=c(n);return i&&(t=JSON.parse(i)),t},l=function(n,t){i&&localStorage.setItem(n,t)},o=function(n){i&&localStorage.removeItem(n)},s=function(n,t){var i=JSON.stringify(t);l(n,i)};return n.GetAssetsMultiRateSetting=function(){return e(u)},n.SetAssetsMultiRateSetting=function(n){s(u,n)},n.RemoveAssetsMultiRateSetting=function(){o(u)},n.GetAssetsRateAndChartFilterSetting=function(){var i=null;return t.ExistCookie(r)?(i=e(f),i?t.UpdateCookie(r,1,365):t.DeleteCookie(r)):n.RemoveAssetsRateAndChartFilterSetting(),i},n.SetAssetsRateAndChartFilterSetting=function(n){s(f,n);t.UpdateCookie(r,1,365)},n.RemoveAssetsRateAndChartFilterSetting=function(){o(f);t.DeleteCookie(r)},n},n;return{Instance:function(){return n||(n=i()),n}}}()}(),function(){var n=function(){FXStreet.Resource.externalJsLoaded?function(n){n(function(){FXStreet.Util.ready();n(window).load(FXStreet.Util.load)})}(jQuery):setTimeout(function(){n()},50)};n()}();
//# sourceMappingURL=fxstreet.min.js.map