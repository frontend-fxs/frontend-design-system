(function(){window.FXStreetDesigners={};FXStreetDesigners.Class={}})(),function(){FXStreetDesigners.Class.Advertise=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return r.setAdvertiseLogic=function(n){n.labels=[];n.addLabel=function(){if(!n.labelKeyInput||!n.labelValueInput){alert("error");return}n.labels.push({Key:n.labelKeyInput,Value:n.labelValueInput});n.labelKeyInput="";n.labelValueInput=""};n.removeLabel=function(t){n.labels.splice(t,1)};n.$watchCollection("labels",function(){n.properties.SerializedLabels.PropertyValue=JSON.stringify(n.labels)})},i.configureScope=function(n){r.setAdvertiseLogic(n)},i.onInit=function(n,t){t.PopupShowIntervalInMinutes.PropertyValue=parseInt(t.PopupShowIntervalInMinutes.PropertyValue);t.RefreshSeconds.PropertyValue=parseInt(t.RefreshSeconds.PropertyValue);t.SerializedLabels.PropertyValue&&(n.labels=JSON.parse(t.SerializedLabels.PropertyValue));t.LabelKey.PropertyValue&&t.LabelValue.PropertyValue&&(n.labels.push({Key:t.LabelKey.PropertyValue,Value:t.LabelValue.PropertyValue}),t.LabelKey.PropertyValue=t.LabelValue.PropertyValue="");t.Label2Key.PropertyValue&&t.Label2Value.PropertyValue&&(n.labels.push({Key:t.Label2Key.PropertyValue,Value:t.Label2Value.PropertyValue}),t.Label2Key.PropertyValue=t.Label2Value.PropertyValue="");t.IsWallpaper.PropertyValue=t.IsWallpaper.PropertyValue==="True"?!0:!1},r}}(),function(){FXStreetDesigners.Class.SearchConfigurable=function(){var n={};return n.init=function(){},n}}(),function(){FXStreetDesigners.Class.Base=function(n,t){var i=this;return i.ControllerName="SimpleCtrl",i.init=function(){t.controller(i.ControllerName,["$scope","propertyService",i.DesignFunction])},i.configureScope=function(){},i.onInit=function(){},i.onPush=function(){},i.DesignFunction=function(n,t){n.feedback.showLoadingIndicator=!0;i.configureScope(n);t.get().then(function(r){if(r){n.properties=t.toAssociativeArray(r.Items);i.onInit(n,n.properties)}},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){i.onPush(n)})}).finally(function(){n.feedback.showLoadingIndicator=!1})},i}}(),function(){FXStreetDesigners.Class.BrokerDetails=function(n,t){var i={};return i.init=function(){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","$q","$log","$http","propertyService",function(t,i,r,u,f){f.get().then(function(n){n&&(t.properties=f.toAssociativeArray(n.Items))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).finally(function(){var f;t.feedback.showLoadingIndicator=!1;var e=function(){r.error("Error getting data")},o=function(){return u({method:"GET",cache:!0,url:"/api/brokerapi/getitems?culturename=en&page=1&take=1000"}).error(e)},s=function(){return u({method:"GET",cache:!0,url:"/api/assetapi/getassets?culturename=en"}).error(e)};i.all([o(),s()]).then(function(n){t.Brokers=n[0].data;t.Pairs=n[1].data.Result});t.PairIds=n.parseJSON(t.properties.PairIds.PropertyValue)||[];f=function(){t.properties.PairIds.PropertyValue=JSON.stringify(t.PairIds)};t.GetPairsSelected=function(){var i=[];return t.Pairs&&t.PairIds&&(i=n.grep(t.Pairs,function(n){return t.PairIds.findFirst(function(t){return t===n.Id})})),i};t.AddPair=function(){var n=t.pairSelected,i,r;n&&(i=t.PairIds.indexOf(n.Id),r=t.Pairs.indexOf(n),i===-1&&r!==-1&&(t.PairIds.push(n.Id),f()),t.pairSelected=null)};t.RemovePair=function(n){var i=t.PairIds.indexOf(n.Id);i>-1&&(t.PairIds.splice(i,1),f())}})}])},i}}(),function(){FXStreetDesigners.Class.BrokersList=function(n,t){var i={};return i.init=function(){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","$q","$log","$http","propertyService",function(t,i,r,u,f){f.get().then(function(n){n&&(t.properties=f.toAssociativeArray(n.Items))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).finally(function(){var e,o,f;t.feedback.showLoadingIndicator=!1;e=function(){r.error("Error getting data")};o=function(){return u({method:"GET",cache:!0,url:"/api/assetapi/getassets?culturename=en"}).error(e)};i.all([o()]).then(function(n){t.Pairs=n[0].data.Result});t.PairIds=n.parseJSON(t.properties.PairIds.PropertyValue)||[];f=function(){t.properties.PairIds.PropertyValue=JSON.stringify(t.PairIds)};t.GetPairsSelected=function(){var i=[];return t.Pairs&&t.PairIds&&(i=n.grep(t.Pairs,function(n){return t.PairIds.findFirst(function(t){return t===n.Id})})),i};t.AddPair=function(){var n=t.pairSelected,i,r;n&&(i=t.PairIds.indexOf(n.Id),r=t.Pairs.indexOf(n),i===-1&&r!==-1&&(t.PairIds.push(n.Id),f()),t.pairSelected=null)};t.RemovePair=function(n){var i=t.PairIds.indexOf(n.Id);i>-1&&(t.PairIds.splice(i,1),f())}})}])},i}}(),function(){FXStreetDesigners.Class.BrokerSpreads=function(n,t){var i={};return i.init=function(){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","$q","$log","$http","propertyService",function(t,i,r,u,f){f.get().then(function(n){n&&(t.properties=f.toAssociativeArray(n.Items))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).finally(function(){var f,e;t.feedback.showLoadingIndicator=!1;var o=function(){r.error("Error getting data")},s=function(){return u({method:"GET",cache:!0,url:"/api/brokerapi/getitems?culturename=en&page=1&take=1000"}).error(o)},h=function(){return u({method:"GET",cache:!0,url:"/api/assetapi/getassets?culturename=en"}).error(o)};i.all([s(),h()]).then(function(n){t.Brokers=n[0].data;t.Pairs=n[1].data.Result});t.showAllSpreadsButton=n.parseJSON(t.properties.ShowAllSpreadsButton.PropertyValue.toLowerCase());t.SetShowAllSpreadsButton=function(){t.properties.ShowAllSpreadsButton.PropertyValue=JSON.stringify(t.showAllSpreadsButton)};t.Take=t.properties.Take.PropertyValue;t.BrokerIds=n.parseJSON(t.properties.BrokerIds.PropertyValue)||[];t.PairIds=n.parseJSON(t.properties.PairIds.PropertyValue)||[];f=function(){t.properties.BrokerIds.PropertyValue=JSON.stringify(t.BrokerIds)};e=function(){t.properties.PairIds.PropertyValue=JSON.stringify(t.PairIds)};t.GetBrokersSelected=function(){var i=[];return t.Brokers&&t.BrokerIds&&(i=n.grep(t.Brokers,function(n){return!!t.BrokerIds.findFirst(function(t){return t===n.Id})})),i};t.AddBroker=function(){var n=t.brokerSelected,i,r;n&&(i=t.BrokerIds.indexOf(n.Id),r=t.Brokers.indexOf(n),i===-1&&r!==-1&&(t.BrokerIds.push(n.Id),f()),t.brokerSelected=null)};t.RemoveBroker=function(n){var i=t.BrokerIds.indexOf(n.Id);i>-1&&(t.BrokerIds.splice(i,1),f())};t.GetPairsSelected=function(){var i=[];return t.Pairs&&t.PairIds&&(i=n.grep(t.Pairs,function(n){return t.PairIds.findFirst(function(t){return t===n.Id})})),i};t.AddPair=function(){var n=t.pairSelected,i,r;n&&(i=t.PairIds.indexOf(n.Id),r=t.Pairs.indexOf(n),i===-1&&r!==-1&&(t.PairIds.push(n.Id),e()),t.pairSelected=null)};t.RemovePair=function(n){var i=t.PairIds.indexOf(n.Id);i>-1&&(t.PairIds.splice(i,1),e())}})}])},i}}(),function(){FXStreetDesigners.Class.Cag=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=!0)},r}}(),function(){FXStreetDesigners.Class.Calendar=function(n,t){var r=FXStreetDesigners.Class.Base(n,t),f=FXStreet.Util.extendObject(r),i=[],u;return r.onInit=function(n,t){if(t.CountryCode.PropertyValue!==undefined&&t.CountryCode.PropertyValue!==null&&t.CountryCode.PropertyValue!==""){var r=t.CountryCode.PropertyValue.split(",");r.forEach(function(n){var t=i.indexOf(n);t===-1&&i.push(n)})}},u=function(t,i){var r=n.grep(t,function(n){return n.InternationalCode===i});return r.length>0?r[0]:null},r.configureScope=function(t){t.CountryInsert=function(){var r=-1,n=u(t.CalendarCountries,t.country.InternationalCode);n!==null&&n!==undefined&&(r=i.indexOf(n.InternationalCode));r===-1&&(i.push(n.InternationalCode),t.country=null,t.properties.CountryCode.PropertyValue=i.join())};t.SelectableItems=function(){return n.grep(t.CalendarCountries,function(n){return i.indexOf(n.InternationalCode)===-1})};t.GetCountriesSelected=function(){var n=[];return i.forEach(function(i){var r=u(t.CalendarCountries,i);n.push(r)}),n};t.RemoveCountry=function(n){var r=i.indexOf(n);r>-1&&(i.splice(r,1),t.properties.CountryCode.PropertyValue=i.join())}},f}}(),function(){FXStreetDesigners.Class.ContentBlock=function(n,t){var r=FXStreetDesigners.Class.Base(n,t),i=FXStreet.Util.extendObject(r);return r.ControllerName="CustomCtrl",i.setAdvertiseLogic=function(t){t.AdsSelector=function(){t.Ads_Popup.open()};t.AdsInsert=function(){if(t.RefreshSeconds!==0&&t.AddsMinValidTimeInSecondsToRefresh>t.RefreshSeconds){alert("RefreshSeconds must be greatest than or equal to "+t.AddsMinValidTimeInSecondsToRefresh);return}var i=FXStreet.Util.guid(),r={ContainerId:i,SlotName:t.SlotName,Labels:t.labels,MobileSize:t.MobileSize,TabletSize:t.TabletSize,DesktopSize:t.DesktopSize,DesktopHdSize:t.DesktopHdSize,RawSize:t.RawSize,RefreshSeconds:t.RefreshSeconds},u=n("<div>").attr("id",i).attr("fxs_createevent","load").attr("fxs_objtype","Advertise"+t.AdvertiseType).attr("fxs_json",FXStreet.Util.serializeJsonForAttr(r)),f=editor.getRange();editor.exec("insertHtml",{html:u[0].outerHTML,split:!0,range:f});t.Ads_Popup.close()};t.labels=[];t.addLabel=function(){if(!t.labelKeyInput||!t.labelValueInput){alert("error");return}t.labels.push({Key:t.labelKeyInput,Value:t.labelValueInput});t.labelKeyInput="";t.labelValueInput=""};t.removeLabel=function(n){t.labels.splice(n,1)}},i.setImageLogic=function(t){t.ImageSelector=function(){t.Image_Popup.open()};var i=function(n,t){var i=n.lastIndexOf(".");return n.substr(0,i)+"_"+t+n.substr(i,n.length)};t.OnImageSelected=function(n){var r=n.Url,u=t.EditorialImageSizeToDisplayByDefault;r&&(t.ImageUrl=r,t.ImageUrlThumbprint=i(r,u))};t.ImageInsert=function(){var r=t.ImageUrl,u=t.ImageSize,f=t.ImageCaption,e=i(r,u),o=n("<img>").attr("src",e).attr("alt",f),s=n("<div>").attr("class","fxs_entryFeatured_img").html(o),h=editor.getRange();editor.exec("insertHtml",{html:s[0].outerHTML,split:!0,range:h});t.Image_Popup.close()};t.RefreshImageList=function(){n.get(t.EditorialImageRefreshMemoryCacheApiUrl).success(function(n){t.ImageUrls=n}).error(function(){})};t.dividerSelector=function(){t.Divider_Popup.open()}},i.setDividersLogic=function(t){t.DividerInsert=function(){var i=t.dividerType,r=n("<hr>").attr("class",i),u=editor.getRange();editor.exec("insertHtml",{html:r[0].outerHTML,split:!0,range:u});t.Divider_Popup.close()}},r.configureScope=function(n){n.$on("kendoWidgetCreated",function(n,t){t.wrapper&&t.wrapper.is(".k-editor")&&(editor=t)});i.setAdvertiseLogic(n);i.setImageLogic(n);i.setDividersLogic(n)},i}}(),function(){FXStreetDesigners.Class.CtpSingleAsset=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=t.HideFullReportButton.PropertyValue==="True"?!0:!1)},r};FXStreetDesigners.Class.SingleAsset=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=t.HideFullReportButton.PropertyValue==="True"?!0:!1)},r}}(),function(){FXStreetDesigners.Class.DynamicAlert=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;t.get().then(function(i){if(i){n.properties=t.toAssociativeArray(i.Items);n.HtmlTemplateSelected=null;var r=function(){if(n.HtmlTemplateSelected=n.HtmlTemplates[0],n.properties.AlertType.PropertyValue!==null||n.properties.AlertType.PropertyValue!==undefined){var t=n.HtmlTemplates.filter(function(t){return t.Name===n.properties.AlertType.PropertyValue});t!==undefined&&t.length>0&&(n.HtmlTemplateSelected=t[0])}};r()}},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.AlertType.PropertyValue=n.HtmlTemplateSelected.Name;n.properties.HtmlTemplateFile.PropertyValue=n.HtmlTemplateSelected.File})}).finally(function(){n.feedback.showLoadingIndicator=!1})}])},i}}(),function(){FXStreetDesigners.Class.ForecastSingleAsset=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(){},r}}(),function(){FXStreetDesigners.Class.ForecastSingleAsset=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=t.HideFullReportButton.PropertyValue==="True"?!0:!1)},r}}(),function(){FXStreetDesigners.Class.HighlightedPost=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","$log","$http","propertyService",function(n,t,i,r){n.feedback.showLoadingIndicator=!0;r.get().then(function(t){t&&(n.properties=r.toAssociativeArray(t.Items),n.PostTypes=[{Text:"News",HtmlTemplates:"HtmlNewsTemplates",Url:FXStreet.Resource.FxsApiRoutes.NewsItemGetItemByUrl},{Text:"Analysis",HtmlTemplates:"HtmlAnalysisTemplates",Url:FXStreet.Resource.FxsApiRoutes.AnalysisItemGetItemByUrl},{Text:"Video",HtmlTemplates:"HtmlVideoTemplates",Url:FXStreet.Resource.FxsApiRoutes.VideosGetItemByUrl},{Text:"Education",HtmlTemplates:"HtmlEducationTemplates",Url:FXStreet.Resource.FxsApiRoutes.EducationItemGetItemByUrl}],n.properties.SerializatedPost&&n.properties.SerializatedPost.PropertyValue&&(n.Post=JSON.parse(n.properties.SerializatedPost.PropertyValue),n.Url=n.Post.Url),n.properties.PostType&&n.properties.PostType.PropertyValue&&(n.postType=n.PostTypes.findFirst(function(t){return t.Text===n.properties.PostType.PropertyValue})))},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.SerializatedPost.PropertyValue=JSON.stringify(n.Post)})}).finally(function(){n.feedback.showLoadingIndicator=!1});var u=function(n){n===200?alert("The post cannot be found"):t.error("Error getting data")},f=function(t){if(!t||!t.data){u(t.status);return}n.Post=t.data},e=function(n){var t=n,i=/(.*fxstreet\.[^\/]+\/[^\/]+\/)?(.+)/.exec(n);return i!==null&&(t=i[2]),t};n.loadPost=function(){if(!n.Url){alert("The url is required");return}if(!n.postType){alert("The post type is required");return}n.Url=e(n.Url);var t=n.postType.Url;t+="?";t+="url="+n.Url;t+="&culture="+n.CultureName;i({method:"GET",cache:!0,url:t}).then(f,u)};n.getHtmlTemplates=function(){if(n.postType)return n[n.postType.HtmlTemplates]};n.changePostType=function(){n.properties.HtmlTemplate.PropertyValue=null;n.properties.PostType.PropertyValue=n.postType.Text;n.Post=null;n.Url=null}}])},i}}(),function(){FXStreetDesigners.Class.Latest=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=t.HideFullReportButton.PropertyValue==="True"?!0:!1)},r}}(),function(){FXStreetDesigners.Class.MultiAsset=function(n,t){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","propertyService",function(t,i){var r,u,f;t.feedback.showLoadingIndicator=!0;r=[];i.get().then(function(n){n&&(t.properties=i.toAssociativeArray(n.Items),t.properties.HideFullReportButton&&(t.properties.HideFullReportButton.PropertyValue=t.properties.HideFullReportButton.PropertyValue==="True"?!0:!1),t.properties.ShowFilter&&(t.properties.ShowFilter.PropertyValue=t.properties.ShowFilter.PropertyValue==="True"?!0:!1),t.properties.ShowHeaders&&(t.properties.ShowHeaders.PropertyValue=t.properties.ShowHeaders.PropertyValue==="True"?!0:!1),t.properties.Assets.PropertyValue&&(r=t.properties.Assets.PropertyValue.split(",")))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).then(function(){t.feedback.savingHandlers.push(function(){t.properties.Assets.PropertyValue=r.join(",")})}).finally(function(){t.feedback.showLoadingIndicator=!1});t.AssetInsert=function(){var i=-1,n=u(t.asset);n!==null&&(i=r.indexOf(n.Id));i===-1&&(r.push(n.Id),t.asset=null)};t.GetAssetsSelected=function(){var n=[];return r.forEach(function(t){var i=f(t);i!==null&&n.push(i.Name)}),n};t.RemoveAsset=function(n){var t=-1,n=u(n);n!==null&&(t=r.indexOf(n.Id));t>-1&&r.splice(t,1)};u=function(i){var r=n.grep(t.Assets,function(n){return n.Name===i});return r.length>0?r[0]:null};f=function(i){var r=n.grep(t.Assets,function(n){return n.Id===i});return r.length>0?r[0]:null};t.SelectableItems=function(){return n.grep(t.Assets,function(n){return r.indexOf(n.Id)===-1})}}])};FXStreetDesigners.Class.MultiAssetCurrencies=function(n,t){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","propertyService",function(t,i){var r,u,f,o,e,s;t.feedback.showLoadingIndicator=!0;r=[];u=[];i.get().then(function(n){n&&(t.properties=i.toAssociativeArray(n.Items),t.properties.HideFullReportButton&&(t.properties.HideFullReportButton.PropertyValue=t.properties.HideFullReportButton.PropertyValue==="True"?!0:!1),t.properties.Assets.PropertyValue&&(r=t.properties.Assets.PropertyValue.split(",")),t.properties.Currencies.PropertyValue&&(u=t.properties.Currencies.PropertyValue.split(",")))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).then(function(){t.feedback.savingHandlers.push(function(){t.properties.Assets.PropertyValue=r.join(",");t.properties.Currencies.PropertyValue=u.join(",")})}).finally(function(){t.feedback.showLoadingIndicator=!1});t.AssetInsert=function(){var i=-1,n=f(t.asset);n!==null&&(i=r.indexOf(n.Id));i===-1&&(r.push(n.Id),t.asset=null)};t.GetAssetsSelected=function(){var n=[];return r.forEach(function(t){var i=o(t);i!==null&&n.push(i.Name)}),n};t.RemoveAsset=function(n){var t=-1,n=f(n);n!==null&&(t=r.indexOf(n.Id));t>-1&&r.splice(t,1)};f=function(i){var r=n.grep(t.Assets,function(n){return n.Name===i});return r.length>0?r[0]:null};o=function(i){var r=n.grep(t.Assets,function(n){return n.Id===i});return r.length>0?r[0]:null};t.SelectableItems=function(){return n.grep(t.Assets,function(n){return r.indexOf(n.Id)===-1})};t.CurrencyInsert=function(){var i=-1,n=e(t.currency);n!==null&&(i=u.indexOf(n.Id));i===-1&&(u.push(n.Id),t.currency=null)};t.GetCurrenciesSelected=function(){var n=[];return u.forEach(function(t){var i=s(t);i!==null&&n.push(i.Name)}),n};t.RemoveCurrency=function(n){var t=-1,n=e(n);n!==null&&(t=u.indexOf(n.Id));t>-1&&u.splice(t,1)};e=function(i){var r=n.grep(t.Currencies,function(n){return n.Name===i});return r.length>0?r[0]:null};s=function(i){var r=n.grep(t.Currencies,function(n){return n.Id===i});return r.length>0?r[0]:null};t.SelectableItemsCurrencies=function(){return n.grep(t.Currencies,function(n){return u.indexOf(n.Id)===-1})}}])}}(),function(){FXStreetDesigners.Class.NewsList=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;t.get().then(function(i){if(i){n.properties=t.toAssociativeArray(i.Items);n.HtmlTemplateSelected=null;n.CategorySelected=null;var r=function(){var t,i;n.HtmlTemplateSelected=n.HtmlTemplates[0];(n.properties.NewsListType.PropertyValue!==null||n.properties.NewsListType.PropertyValue!==undefined)&&(t=n.HtmlTemplates.filter(function(t){return t.Name===n.properties.NewsListType.PropertyValue}),t!==undefined&&t.length>0&&(n.HtmlTemplateSelected=t[0]));n.CategorySelected=n.Categories[0];(n.properties.NewsListType.PropertyValue!==null||n.properties.Category.PropertyValue!==undefined)&&(i=n.Categories.filter(function(t){return t.Name===n.properties.Category.PropertyValue}),i!==undefined&&i.length>0&&(n.CategorySelected=i[0]))};r()}},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.NewsListType.PropertyValue=n.HtmlTemplateSelected.Name;n.properties.HtmlTemplateFile.PropertyValue=n.HtmlTemplateSelected.File;n.properties.Category.PropertyValue=n.CategorySelected.Id})}).finally(function(){n.feedback.showLoadingIndicator=!1})}])},i}}(),function(){FXStreetDesigners.Class.OnAirEvent=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","$q","$log","$http","propertyService",function(n,t,i,r,u){u.get().then(function(t){t&&(n.properties=u.toAssociativeArray(t.Items),n.properties.ShowFooterCheckBox&&(n.properties.ShowFooterCheckBox.PropertyValue=n.properties.ShowFooterCheckBox.PropertyValue==="true"?!0:!1),n.properties.ExternalContent&&(n.properties.ExternalContent.PropertyValue=n.properties.ExternalContent.PropertyValue==="true"?!0:!1))},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).finally(function(){n.feedback.showLoadingIndicator=!1;var t=function(){i.error("Error getting data")}})}])},i}}(),function(){FXStreetDesigners.Class.PostListMultiFeed=function(n,t){var u=FXStreetDesigners.Class.Base(n,t),h=FXStreet.Util.extendObject(u),i=[],r=[],f=function(t,i,r){var u,f,e;if(!t){alert("You have to select an item");return}if(u=n.grep(i,function(n){return n.Id===t}),u.length<=0){alert("Invalid item");return}if(f=u[0],e=n.grep(r,function(n){return n.Id===f.Id}).length>0,e){alert("The item already exists");return}r.push(f)},e=function(t,i){return n.grep(i,function(n){return n.Id!==t.Id})},c=function(t,i){var r=n.grep(t,function(n){return n.Id===i});return r.length>0?r[0]:null},o=function(n,t,i){for(var u,f,r=0;r<n.length;r++)(u=n[r],u)&&(f=c(t,u),i!==null&&i.push(f))},s=function(n){var i=null,t;if(n.length>0)for(i=n[0].Id,t=1;t<n.length;t++)i+=","+n[t].Id;return i};return u.onPush=function(n){n.properties.TagIds.PropertyValue=s(i);n.properties.FeedIds.PropertyValue=s(r)},u.onInit=function(n){var t,u;n.properties.HighlightedFirstItem&&(n.properties.HighlightedFirstItem.PropertyValue=n.properties.HighlightedFirstItem.PropertyValue==="True"?!0:!1);n.properties.WithImage&&(n.properties.WithImage.PropertyValue=n.properties.WithImage.PropertyValue==="True"?!0:!1);n.properties.Take.PropertyValue=n.properties.Take?parseInt(n.properties.Take.PropertyValue):0;n.properties.TagIds&&(t=n.properties.TagIds.PropertyValue.split(","),o(t,n.Tags,i));n.properties.FeedIds&&(u=n.properties.FeedIds.PropertyValue.split(","),o(u,n.Feeds,r));n.properties.SizeId&&(n.size=n.properties.SizeId.PropertyValue)},u.configureScope=function(n){n.TagInsert=function(){f(n.tag,n.Tags,i)};n.GetTagsSelected=function(){return i};n.RemoveTag=function(n){i=e(n,i)};n.FeedInsert=function(){f(n.feed,n.Feeds,r)};n.GetFeedsSelected=function(){return r};n.RemoveFeed=function(n){r=e(n,r)};n.SizeChange=function(){n.properties.SizeId.PropertyValue=n.size}},h}}(),function(){FXStreetDesigners.Class.PostList=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){n.FilterType=parseInt(t.FilterType.PropertyValue);switch(n.FilterType){case 0:n.category=t.FilterValue.PropertyValue;break;case 1:n.asset=t.FilterValue.PropertyValue}},i.configureScope=function(n){n.filterTypeChange=function(){n.properties.FilterValue.PropertyValue=null;n.properties.FilterType.PropertyValue=n.FilterType;n.category=null;n.asset=null};n.CategoryChange=function(){n.properties.FilterValue.PropertyValue=n.category};n.AssetChange=function(){n.properties.FilterValue.PropertyValue=n.asset}},r}}(),function(){FXStreetDesigners.Class.RatesTable=function(n,t){var i={};return i.init=function(){t.directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}});t.controller("SimpleCtrl",["$scope","$q","$log","$http","propertyService",function(t,r,u,f,e){e.get().then(function(n){n&&(t.properties=e.toAssociativeArray(n.Items),i.setCheckboxValue(t.properties.IsActiveHeader))},function(n){t.feedback.showError=!0;n&&(t.feedback.errorMessage=n.Detail)}).finally(function(){var o,s,i,e;t.feedback.showLoadingIndicator=!1;o=function(){u.error("Error getting data")};s=function(){return f({method:"GET",cache:!0,url:"/api/assetapi/getassets?culturename=en"}).error(o)};r.all([s()]).then(function(n){t.Pairs=n[0].data.Result});t.AssetsIds=n.parseJSON(t.properties.AssetsIds.PropertyValue)||[];i=function(){t.properties.AssetsIds.PropertyValue=JSON.stringify(t.AssetsIds)};t.GetPairsSelected=function(){var i=[];return t.Pairs&&t.AssetsIds&&n.each(t.AssetsIds,function(n,r){i.push(t.Pairs.findFirst(function(n){return n.Id===r}))}),i};t.AddPair=function(){var n=t.pairSelected,r,u;n&&(r=t.AssetsIds.indexOf(n.Id),u=t.Pairs.indexOf(n),r===-1&&u!==-1&&(t.AssetsIds.push(n.Id),i()),t.pairSelected=null)};t.RemovePair=function(n){var r=t.AssetsIds.indexOf(n.Id);r>-1&&(t.AssetsIds.splice(r,1),i())};e=function(n,t,r){if(r>=n.length)for(var u=r-n.length;u--+1;)n.push(undefined);n.splice(r,0,n.splice(t,1)[0]);i()};t.moveUp=function(n){e(t.AssetsIds,n,n-1)};t.moveDown=function(n){e(t.AssetsIds,n,n+1)}})}])},i.setCheckboxValue=function(n){n&&typeof n.PropertyValue=="string"&&(n.PropertyValue=n.PropertyValue.toLowerCase(),n.PropertyValue=n.PropertyValue==="true"?!0:!1)},i}}(),function(){FXStreetDesigners.Class.SearchConfigurable=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){t.get().then(function(r){r&&(n.properties=t.toAssociativeArray(r.Items),i.setCheckboxValue(n.properties.ShowTitle),i.setCheckboxValue(n.properties.ShowClearAll),i.setCheckboxValue(n.properties.ShowResultsFound),i.setCheckboxValue(n.properties.ShowSearchBox),i.setCheckboxValue(n.properties.HideFiltersOnMobile),i.setCheckboxValue(n.properties.AllowFiltersCollapse),i.setCheckboxValue(n.properties.ShowTagFilter),i.setCheckboxValue(n.properties.ShowAuthorFilter),i.setCheckboxValue(n.properties.ShowResultImage))})}])},i.setCheckboxValue=function(n){n&&typeof n.PropertyValue=="string"&&(n.PropertyValue=n.PropertyValue.toLowerCase(),n.PropertyValue=n.PropertyValue==="true"?!0:!1)},i}}(),function(){FXStreetDesigners.Class.SingleAsset=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(n,t){t.HideFullReportButton&&(t.HideFullReportButton.PropertyValue=t.HideFullReportButton.PropertyValue==="True"?!0:!1)},r}}(),function(){FXStreetDesigners.Class.StaticAlert=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;t.get().then(function(i){if(i){n.properties=t.toAssociativeArray(i.Items);n.HtmlTemplateSelected=null;var r=function(){if(n.HtmlTemplateSelected=n.HtmlTemplates[0],n.properties.AlertType.PropertyValue!==null||n.properties.AlertType.PropertyValue!==undefined){var t=n.HtmlTemplates.filter(function(t){return t.Name===n.properties.AlertType.PropertyValue});t!==undefined&&t.length>0&&(n.HtmlTemplateSelected=t[0])}};r()}},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.AlertType.PropertyValue=n.HtmlTemplateSelected.Name})}).finally(function(){n.feedback.showLoadingIndicator=!1})}])},i}}(),function(){FXStreetDesigners.Class.SubscribeToNewsletter=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;n.benefits=[];t.get().then(function(i){i&&(n.properties=t.toAssociativeArray(i.Items),n.properties.SubscriptionBenefits.PropertyValue&&(n.benefits=n.properties.SubscriptionBenefits.PropertyValue.split("|"),n.customizeBenefits=!0))},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.SubscriptionBenefits.PropertyValue=n.customizeBenefits?n.benefits.join("|"):undefined})}).finally(function(){n.feedback.showLoadingIndicator=!1});n.addBenefit=function(){if(!n.benefitInput){alert("error");return}n.benefits.push(n.benefitInput);n.benefitInput=""};n.removeIndex=function(t){n.benefits.splice(t,1)};var i=function(n,t,i){if(i>=n.length)for(var r=i-n.length;r--+1;)n.push(undefined);n.splice(i,0,n.splice(t,1)[0])};n.moveUp=function(t){i(n.benefits,t,t-1)};n.moveDown=function(t){i(n.benefits,t,t+1)}}])},i}}(),function(){FXStreetDesigners.Class.TextOverCustomImage=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;t.get().then(function(i){if(i){n.properties=t.toAssociativeArray(i.Items);n.HtmlTemplateSelected=null;var r=function(){if(n.HtmlTemplateSelected=n.HtmlTemplates[0],n.properties.TextOverType.PropertyValue!==null||n.properties.TextOverType.PropertyValue!==undefined){var t=n.HtmlTemplates.filter(function(t){return t.Name===n.properties.TextOverType.PropertyValue});t!==undefined&&t.length>0&&(n.HtmlTemplateSelected=t[0])}};r()}},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.TextOverType.PropertyValue=n.HtmlTemplateSelected.Name;n.properties.HtmlTemplateFile.PropertyValue=n.HtmlTemplateSelected.File})}).finally(function(){n.feedback.showLoadingIndicator=!1})}])},i}}(),function(){FXStreetDesigners.Class.Topics=function(n,t){var i={};return i.init=function(){t.controller("SimpleCtrl",["$scope","propertyService",function(n,t){n.feedback.showLoadingIndicator=!0;n.topics=[];t.get().then(function(i){i&&(n.properties=t.toAssociativeArray(i.Items),n.properties.SerializedEntires.PropertyValue&&(n.topics=JSON.parse(n.properties.SerializedEntires.PropertyValue)),n.properties.Topic1.PropertyValue&&n.properties.Link1.PropertyValue&&n.topics.push({Label:n.properties.Topic1.PropertyValue,Link:n.properties.Link1.PropertyValue}),n.properties.Topic2.PropertyValue&&n.properties.Link2.PropertyValue&&n.topics.push({Label:n.properties.Topic2.PropertyValue,Link:n.properties.Link2.PropertyValue}),n.properties.Topic3.PropertyValue&&n.properties.Link3.PropertyValue&&n.topics.push({Label:n.properties.Topic3.PropertyValue,Link:n.properties.Link3.PropertyValue}),n.properties.Topic4.PropertyValue&&n.properties.Link4.PropertyValue&&n.topics.push({Label:n.properties.Topic4.PropertyValue,Link:n.properties.Link4.PropertyValue}),n.properties.Topic5.PropertyValue&&n.properties.Link5.PropertyValue&&n.topics.push({Label:n.properties.Topic5.PropertyValue,Link:n.properties.Link5.PropertyValue}),n.properties.Topic6.PropertyValue&&n.properties.Link6.PropertyValue&&n.topics.push({Label:n.properties.Topic6.PropertyValue,Link:n.properties.Link6.PropertyValue}),n.properties.Topic7.PropertyValue&&n.properties.Link7.PropertyValue&&n.topics.push({Label:n.properties.Topic7.PropertyValue,Link:n.properties.Link7.PropertyValue}))},function(t){n.feedback.showError=!0;t&&(n.feedback.errorMessage=t.Detail)}).then(function(){n.feedback.savingHandlers.push(function(){n.properties.SerializedEntires.PropertyValue=JSON.stringify(n.topics);n.properties.Topic1.PropertyValue=n.properties.Topic2.PropertyValue=n.properties.Topic3.PropertyValue=n.properties.Topic4.PropertyValue=n.properties.Topic5.PropertyValue=n.properties.Topic6.PropertyValue=n.properties.Topic7.PropertyValue=n.properties.Link1.PropertyValue=n.properties.Link2.PropertyValue=n.properties.Link3.PropertyValue=n.properties.Link4.PropertyValue=n.properties.Link5.PropertyValue=n.properties.Link6.PropertyValue=n.properties.Link7.PropertyValue=null})}).finally(function(){n.feedback.showLoadingIndicator=!1});n.addTopic=function(){if(!n.linkInput||!n.labelInput){alert("error");return}n.topics.push({Label:n.labelInput,Link:n.linkInput});n.linkInput="";n.labelInput=""};n.removeIndex=function(t){n.topics.splice(t,1)};var i=function(n,t,i){if(i>=n.length)for(var r=i-n.length;r--+1;)n.push(undefined);n.splice(i,0,n.splice(t,1)[0])};n.moveUp=function(t){i(n.topics,t,t-1)};n.moveDown=function(t){i(n.topics,t,t+1)}}])},i}}(),function(){FXStreetDesigners.Class.AssetTranslationsWidget=function(n,t){var i=FXStreetDesigners.Class.Base(n,t),r=FXStreet.Util.extendObject(i);return i.onInit=function(){},r}}();